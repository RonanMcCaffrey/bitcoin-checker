(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,o){t.exports=o("zUnb")},zUnb:function(t,o,n){"use strict";function s(t){return"function"==typeof t}n.r(o);let r=!1;const a={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function l(t){setTimeout(()=>{throw t},0)}const c={closed:!0,next(t){},error(t){if(a.useDeprecatedSynchronousErrorHandling)throw t;l(t)},complete(){}},u=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function d(t){return null!==t&&"object"==typeof t}const h=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let p=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let o;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:i,_subscriptions:r}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(s(i))try{i.call(this)}catch(e){o=e instanceof h?m(e.errors):[e]}if(u(r)){let t=-1,n=r.length;for(;++t<n;){const n=r[t];if(d(n))try{n.unsubscribe()}catch(e){o=o||[],e instanceof h?o=o.concat(m(e.errors)):o.push(e)}}}if(o)throw new h(o)}add(e){let o=e;if(!e)return t.EMPTY;switch(typeof e){case"function":o=new t(e);case"object":if(o===this||o.closed||"function"!=typeof o.unsubscribe)return o;if(this.closed)return o.unsubscribe(),o;if(!(o instanceof t)){const e=o;o=new t,o._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=o;if(null===n)o._parentOrParents=this;else if(n instanceof t){if(n===this)return o;o._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return o;n.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[o]:i.push(o),o}remove(t){const e=this._subscriptions;if(e){const o=e.indexOf(t);-1!==o&&e.splice(o,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function m(t){return t.reduce((t,e)=>t.concat(e instanceof h?e.errors:e),[])}const f=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class g extends p{constructor(t,e,o){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=c;break;case 1:if(!t){this.destination=c;break}if("object"==typeof t){t instanceof g?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new b(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new b(this,t,e,o)}}[f](){return this}static create(t,e,o){const n=new g(t,e,o);return n.syncErrorThrowable=!1,n}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class b extends g{constructor(t,e,o,n){let i;super(),this._parentSubscriber=t;let r=this;s(e)?i=e:e&&(i=e.next,o=e.error,n=e.complete,e!==c&&(r=Object.create(e),s(r.unsubscribe)&&this.add(r.unsubscribe.bind(r)),r.unsubscribe=this.unsubscribe.bind(this))),this._context=r,this._next=i,this._error=o,this._complete=n}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:o}=a;if(this._error)o&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)o?(e.syncErrorValue=t,e.syncErrorThrown=!0):l(t),this.unsubscribe();else{if(this.unsubscribe(),o)throw t;l(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(o){if(this.unsubscribe(),a.useDeprecatedSynchronousErrorHandling)throw o;l(o)}}__tryOrSetError(t,e,o){if(!a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,o)}catch(n){return a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=n,t.syncErrorThrown=!0,!0):(l(n),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const v=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(t){return t}let w=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const o=new t;return o.source=this,o.operator=e,o}subscribe(t,e,o){const{operator:n}=this,i=function(t,e,o){if(t){if(t instanceof g)return t;if(t[f])return t[f]()}return t||e||o?new g(t,e,o):new g(c)}(t,e,o);if(i.add(n?n.call(i,this.source):this.source||a.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),a.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:o,isStopped:n}=t;if(e||n)return!1;t=o&&o instanceof g?o:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=E(e))((e,o)=>{let n;n=this.subscribe(e=>{try{t(e)}catch(i){o(i),n&&n.unsubscribe()}},o,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[v](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=E(t))((t,e)=>{let o;this.subscribe(t=>o=t,t=>e(t),()=>t(o))})}}return t.create=e=>new t(e),t})();function E(t){if(t||(t=a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const C=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class x extends p{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const o=e.indexOf(this.subscriber);-1!==o&&e.splice(o,1)}}class R extends g{constructor(t){super(t),this.destination=t}}let _=(()=>{class t extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new R(this)}lift(t){const e=new M(this,this);return e.operator=t,e}next(t){if(this.closed)throw new C;if(!this.isStopped){const{observers:e}=this,o=e.length,n=e.slice();for(let i=0;i<o;i++)n[i].next(t)}}error(t){if(this.closed)throw new C;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,o=e.length,n=e.slice();for(let i=0;i<o;i++)n[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new C;this.isStopped=!0;const{observers:t}=this,e=t.length,o=t.slice();for(let n=0;n<e;n++)o[n].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new C;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new C;return this.hasError?(t.error(this.thrownError),p.EMPTY):this.isStopped?(t.complete(),p.EMPTY):(this.observers.push(t),new x(this,t))}asObservable(){const t=new w;return t.source=this,t}}return t.create=(t,e)=>new M(t,e),t})();class M extends _{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):p.EMPTY}}class T extends g{constructor(t,e,o){super(),this.parent=t,this.outerValue=e,this.outerIndex=o,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const D=t=>e=>{for(let o=0,n=t.length;o<n&&!e.closed;o++)e.next(t[o]);e.complete()};function k(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const L=k();const S=t=>{if(t&&"function"==typeof t[v])return s=t,t=>{const e=s[v]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((e=t)&&"number"==typeof e.length&&"function"!=typeof e)return D(t);var e,o,n,i,s;if((o=t)&&"function"!=typeof o.subscribe&&"function"==typeof o.then)return i=t,t=>(i.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,l),t);if(t&&"function"==typeof t[L])return n=t,t=>{const e=n[L]();for(;;){const o=e.next();if(o.done){t.complete();break}if(t.next(o.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t};{const e=d(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}};class A extends g{notifyNext(t,e,o,n,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class P{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new H(t,this.project,this.thisArg))}}class H extends g{constructor(t,e,o){super(t),this.project=e,this.count=0,this.thisArg=o||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}class z{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new F(t,this.project,this.concurrent))}}class F extends A{constructor(t,e,o=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=o,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const o=this.index++;try{e=this.project(t,o)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(e,t,o)}_innerSub(t,e,o){const n=new T(this,e,o),i=this.destination;i.add(n);const s=function(t,e,o,n,i=new T(t,o,n)){if(!i.closed)return e instanceof w?e.subscribe(i):S(e)(i)}(this,t,void 0,void 0,n);s!==n&&i.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,o,n,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function I(){return function(t){return t.lift(new N(t))}}class N{constructor(t){this.connectable=t}call(t,e){const{connectable:o}=this;o._refCount++;const n=new O(t,o),i=e.subscribe(n);return n.closed||(n.connection=o.connect()),i}}class O extends g{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:o}=this,n=t._connection;this.connection=null,!n||o&&n!==o||n.unsubscribe()}}class j extends w{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new p,t.add(this.source.subscribe(new B(this.getSubject(),this))),t.closed&&(this._connection=null,t=p.EMPTY)),t}refCount(){return I()(this)}}const V=(()=>{const t=j.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class B extends R{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function W(){return new _}function G(t){return{toString:t}.toString()}function U(t,e,o){return G(()=>{const n=function(t){return function(...e){if(t){const o=t(...e);for(const t in o)this[t]=o[t]}}}(e);function i(...t){if(this instanceof i)return n.apply(this,t),this;const e=new i(...t);return o.annotation=e,o;function o(t,o,n){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(e),t}}return o&&(i.prototype=Object.create(o.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const q=U("Inject",t=>({token:t})),Y=U("Optional"),Z=U("Self"),$=U("SkipSelf");var X=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function J(t){for(let e in t)if(t[e]===J)return e;throw Error("Could not find renamed property on target object.")}function K(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Q(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function tt(t){return et(t,t[nt])||et(t,t[rt])}function et(t,e){return e&&e.token===t?e:null}function ot(t){return t&&(t.hasOwnProperty(it)||t.hasOwnProperty(at))?t[it]:null}const nt=J({"\u0275prov":J}),it=J({"\u0275inj":J}),st=J({"\u0275provFallback":J}),rt=J({ngInjectableDef:J}),at=J({ngInjectorDef:J});function lt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(lt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const o=e.indexOf("\n");return-1===o?e:e.substring(0,o)}function ct(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const ut=J({__forward_ref__:J});function dt(t){return t.__forward_ref__=dt,t.toString=function(){return lt(this())},t}function ht(t){return"function"==typeof(e=t)&&e.hasOwnProperty(ut)&&e.__forward_ref__===dt?t():t;var e}const pt="undefined"!=typeof globalThis&&globalThis,mt="undefined"!=typeof window&&window,ft="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,gt="undefined"!=typeof global&&global,bt=pt||gt||mt||ft,vt=J({"\u0275cmp":J}),yt=J({"\u0275dir":J}),wt=J({"\u0275pipe":J}),Et=J({"\u0275mod":J}),Ct=J({"\u0275loc":J}),xt=J({"\u0275fac":J}),Rt=J({__NG_ELEMENT_ID__:J});class _t{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=K({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const Mt=new _t("INJECTOR",-1),Tt={},Dt=/\n/gm,kt=J({provide:String,useValue:J});let Lt,St=void 0;function At(t){const e=St;return St=t,e}function Pt(t){const e=Lt;return Lt=t,e}function Ht(t,e=X.Default){if(void 0===St)throw new Error("inject() must be called from an injection context");return null===St?Ft(t,void 0,e):St.get(t,e&X.Optional?null:void 0,e)}function zt(t,e=X.Default){return(Lt||Ht)(ht(t),e)}function Ft(t,e,o){const n=tt(t);if(n&&"root"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;if(o&X.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${lt(t)}]`)}function It(t){const e=[];for(let o=0;o<t.length;o++){const n=ht(t[o]);if(Array.isArray(n)){if(0===n.length)throw new Error("Arguments array must have arguments.");let t=void 0,o=X.Default;for(let e=0;e<n.length;e++){const i=n[e];i instanceof Y||"Optional"===i.ngMetadataName||i===Y?o|=X.Optional:i instanceof $||"SkipSelf"===i.ngMetadataName||i===$?o|=X.SkipSelf:i instanceof Z||"Self"===i.ngMetadataName||i===Z?o|=X.Self:t=i instanceof q||i===q?i.token:i}e.push(zt(t,o))}else e.push(zt(n))}return e}class Nt{get(t,e=Tt){if(e===Tt){const e=new Error(`NullInjectorError: No provider for ${lt(t)}!`);throw e.name="NullInjectorError",e}return e}}class Ot{}function jt(t,e){t.forEach(t=>Array.isArray(t)?jt(t,e):e(t))}function Vt(t,e,o){e>=t.length?t.push(o):t.splice(e,0,o)}function Bt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Wt=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),Gt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Ut={},qt=[];let Yt=0;function Zt(t){return G(()=>{const e=t.type,o=e.prototype,n={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:o.ngOnInit||null,doCheck:o.ngDoCheck||null,afterContentInit:o.ngAfterContentInit||null,afterContentChecked:o.ngAfterContentChecked||null,afterViewInit:o.ngAfterViewInit||null,afterViewChecked:o.ngAfterViewChecked||null,onDestroy:o.ngOnDestroy||null,onPush:t.changeDetection===Wt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||qt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Gt.Emulated,id:"c",styles:t.styles||qt,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.directives,r=t.features,a=t.pipes;return i.id+=Yt++,i.inputs=Qt(t.inputs,n),i.outputs=Qt(t.outputs),r&&r.forEach(t=>t(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map($t):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(Xt):null,i})}function $t(t){return oe(t)||function(t){return t[yt]||null}(t)}function Xt(t){return function(t){return t[wt]||null}(t)}const Jt={};function Kt(t){const e={type:t.type,bootstrap:t.bootstrap||qt,declarations:t.declarations||qt,imports:t.imports||qt,exports:t.exports||qt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&G(()=>{Jt[t.id]=t.type}),e}function Qt(t,e){if(null==t)return Ut;const o={};for(const n in t)if(t.hasOwnProperty(n)){let i=t[n],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),o[i]=n,e&&(e[i]=s)}return o}const te=Zt;function ee(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function oe(t){return t[vt]||null}function ne(t,e){return t.hasOwnProperty(xt)?t[xt]:null}function ie(t,e){const o=t[Et]||null;if(!o&&!0===e)throw new Error(`Type ${lt(t)} does not have '\u0275mod' property.`);return o}function se(t){return Array.isArray(t)&&"object"==typeof t[1]}function re(t){return Array.isArray(t)&&!0===t[1]}function ae(t){return 0!=(8&t.flags)}function le(t){return 2==(2&t.flags)}function ce(t){return 1==(1&t.flags)}function ue(t){return null!==t.template}function de(t){return 0!=(512&t[2])}let he=void 0;function pe(t){return!!t.listen}const me={createRenderer:(t,e)=>void 0!==he?he:"undefined"!=typeof document?document:void 0};function fe(t){for(;Array.isArray(t);)t=t[0];return t}function ge(t,e){return fe(e[t.index])}function be(t,e){return t.data[e+20]}function ve(t,e){return t[e+20]}function ye(t,e){const o=e[t];return se(o)?o:o[0]}function we(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ee(t){return 128==(128&t[2])}function Ce(t,e){return null===t||null==e?null:t[e]}function xe(t){t[18]=0}function Re(t,e){t[5]+=e;let o=t,n=t[3];for(;null!==n&&(1===e&&1===o[5]||-1===e&&0===o[5]);)n[5]+=e,o=n,n=n[3]}const _e={lFrame:Ve(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Me(){return _e.bindingsEnabled}function Te(){return _e.lFrame.lView}function De(){return _e.lFrame.tView}function ke(){return _e.lFrame.previousOrParentTNode}function Le(t,e){_e.lFrame.previousOrParentTNode=t,_e.lFrame.isParent=e}function Se(){return _e.lFrame.isParent}function Ae(){return _e.checkNoChangesMode}function Pe(t){_e.checkNoChangesMode=t}function He(){return _e.lFrame.bindingIndex++}function ze(t,e){const o=_e.lFrame;o.bindingIndex=o.bindingRootIndex=t,Fe(e)}function Fe(t){_e.lFrame.currentDirectiveIndex=t}function Ie(t){_e.lFrame.currentQueryIndex=t}function Ne(t,e){const o=je();_e.lFrame=o,o.previousOrParentTNode=e,o.lView=t}function Oe(t,e){const o=je(),n=t[1];_e.lFrame=o,o.previousOrParentTNode=e,o.lView=t,o.tView=n,o.contextLView=t,o.bindingIndex=n.bindingStartIndex}function je(){const t=_e.lFrame,e=null===t?null:t.child;return null===e?Ve(t):e}function Ve(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Be(){const t=_e.lFrame;return _e.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const We=Be;function Ge(){const t=Be();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ue(){return _e.lFrame.selectedIndex}function qe(t){_e.lFrame.selectedIndex=t}function Ye(t,e){for(let o=e.directiveStart,n=e.directiveEnd;o<n;o++){const e=t.data[o];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-o,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(o,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(o,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-o,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(o,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(o,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(o,e.onDestroy)}}function Ze(t,e,o){Je(t,e,3,o)}function $e(t,e,o,n){(3&t[2])===o&&Je(t,e,o,n)}function Xe(t,e){let o=t[2];(3&o)===e&&(o&=2047,o+=1,t[2]=o)}function Je(t,e,o,n){const i=null!=n?n:-1;let s=0;for(let r=void 0!==n?65535&t[18]:0;r<e.length;r++)if("number"==typeof e[r+1]){if(s=e[r],null!=n&&s>=n)break}else e[r]<0&&(t[18]+=65536),(s<i||-1==i)&&(Ke(t,o,e,r),t[18]=(4294901760&t[18])+r+2),r++}function Ke(t,e,o,n){const i=o[n]<0,s=o[n+1],r=t[i?-o[n]:o[n]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(r)):s.call(r)}class Qe{constructor(t,e,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=o}}function to(t,e,o){const n=pe(t);let i=0;for(;i<o.length;){const s=o[i];if("number"==typeof s){if(0!==s)break;i++;const r=o[i++],a=o[i++],l=o[i++];n?t.setAttribute(e,a,l,r):e.setAttributeNS(r,a,l)}else{const r=s,a=o[++i];eo(r)?n&&t.setProperty(e,r,a):n?t.setAttribute(e,r,a):e.setAttribute(r,a),i++}}return i}function eo(t){return 64===t.charCodeAt(0)}function oo(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let o=-1;for(let n=0;n<e.length;n++){const i=e[n];"number"==typeof i?o=i:0===o||no(t,o,i,null,-1===o||2===o?e[++n]:null)}}return t}function no(t,e,o,n,i){let s=0,r=t.length;if(-1===e)r=-1;else for(;s<t.length;){const o=t[s++];if("number"==typeof o){if(o===e){r=-1;break}if(o>e){r=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===o){if(null===n)return void(null!==i&&(t[s+1]=i));if(n===t[s+1])return void(t[s+2]=i)}s++,null!==n&&s++,null!==i&&s++}-1!==r&&(t.splice(r,0,e),s=r+1),t.splice(s++,0,o),null!==n&&t.splice(s++,0,n),null!==i&&t.splice(s++,0,i)}function io(t){return-1!==t}function so(t){return 32767&t}function ro(t){return t>>16}function ao(t,e){let o=ro(t),n=e;for(;o>0;)n=n[15],o--;return n}function lo(t){return"string"==typeof t?t:null==t?"":""+t}function co(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():lo(t)}const uo=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(bt))();function ho(t){return t instanceof Function?t():t}let po=!0;function mo(t){const e=po;return po=t,e}let fo=0;function go(t,e){const o=vo(t,e);if(-1!==o)return o;const n=e[1];n.firstCreatePass&&(t.injectorIndex=e.length,bo(n.data,t),bo(e,null),bo(n.blueprint,null));const i=yo(t,e),s=t.injectorIndex;if(io(i)){const t=so(i),o=ao(i,e),n=o[1].data;for(let i=0;i<8;i++)e[s+i]=o[t+i]|n[t+i]}return e[s+8]=i,s}function bo(t,e){t.push(0,0,0,0,0,0,0,0,e)}function vo(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function yo(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=e[6],n=1;for(;o&&-1===o.injectorIndex;)o=(e=e[15])?e[6]:null,n++;return o?o.injectorIndex|n<<16:-1}function wo(t,e,o){!function(t,e,o){let n="string"!=typeof o?o[Rt]:o.charCodeAt(0)||0;null==n&&(n=o[Rt]=fo++);const i=255&n,s=1<<i,r=64&i,a=32&i,l=e.data;128&i?r?a?l[t+7]|=s:l[t+6]|=s:a?l[t+5]|=s:l[t+4]|=s:r?a?l[t+3]|=s:l[t+2]|=s:a?l[t+1]|=s:l[t]|=s}(t,e,o)}function Eo(t,e,o,n=X.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[Rt];return"number"==typeof e&&e>0?255&e:e}(o);if("function"==typeof i){Ne(e,t);try{const t=i();if(null!=t||n&X.Optional)return t;throw new Error(`No provider for ${co(o)}!`)}finally{We()}}else if("number"==typeof i){if(-1===i)return new To(t,e);let s=null,r=vo(t,e),a=-1,l=n&X.Host?e[16][6]:null;for((-1===r||n&X.SkipSelf)&&(a=-1===r?yo(t,e):e[r+8],Mo(n,!1)?(s=e[1],r=so(a),e=ao(a,e)):r=-1);-1!==r;){a=e[r+8];const t=e[1];if(_o(i,r,t.data)){const t=xo(r,e,o,s,n,l);if(t!==Co)return t}Mo(n,e[1].data[r+8]===l)&&_o(i,r,e)?(s=t,r=so(a),e=ao(a,e)):r=-1}}}if(n&X.Optional&&void 0===i&&(i=null),0==(n&(X.Self|X.Host))){const t=e[9],s=Pt(void 0);try{return t?t.get(o,i,n&X.Optional):Ft(o,i,n&X.Optional)}finally{Pt(s)}}if(n&X.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${co(o)}]`)}const Co={};function xo(t,e,o,n,i,s){const r=e[1],a=r.data[t+8],l=function(t,e,o,n,i){const s=t.providerIndexes,r=e.data,a=65535&s,l=t.directiveStart,c=s>>16,u=i?a+c:t.directiveEnd;for(let d=n?a:a+c;d<u;d++){const t=r[d];if(d<l&&o===t||d>=l&&t.type===o)return d}if(i){const t=r[l];if(t&&ue(t)&&t.type===o)return l}return null}(a,r,o,null==n?le(a)&&po:n!=r&&3===a.type,i&X.Host&&s===a);return null!==l?Ro(e,r,l,a):Co}function Ro(t,e,o,n){let i=t[o];const s=e.data;if(i instanceof Qe){const r=i;if(r.resolving)throw new Error("Circular dep for "+co(s[o]));const a=mo(r.canSeeViewProviders);let l;r.resolving=!0,r.injectImpl&&(l=Pt(r.injectImpl)),Ne(t,n);try{i=t[o]=r.factory(void 0,s,t,n),e.firstCreatePass&&o>=n.directiveStart&&function(t,e,o){const{onChanges:n,onInit:i,doCheck:s}=e;n&&((o.preOrderHooks||(o.preOrderHooks=[])).push(t,n),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(t,n)),i&&(o.preOrderHooks||(o.preOrderHooks=[])).push(-t,i),s&&((o.preOrderHooks||(o.preOrderHooks=[])).push(t,s),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(t,s))}(o,s[o],e)}finally{r.injectImpl&&Pt(l),mo(a),r.resolving=!1,We()}}return i}function _o(t,e,o){const n=64&t,i=32&t;let s;return s=128&t?n?i?o[e+7]:o[e+6]:i?o[e+5]:o[e+4]:n?i?o[e+3]:o[e+2]:i?o[e+1]:o[e],!!(s&1<<t)}function Mo(t,e){return!(t&X.Self||t&X.Host&&e)}class To{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Eo(this._tNode,this._lView,t,void 0,e)}}function Do(t){return t.ngDebugContext}function ko(t){return t.ngOriginalError}function Lo(t,...e){t.error(...e)}class So{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),o=this._findContext(t),n=function(t){return t.ngErrorLogger||Lo}(t);n(this._console,"ERROR",t),e&&n(this._console,"ORIGINAL ERROR",e),o&&n(this._console,"ERROR CONTEXT",o)}_findContext(t){return t?Do(t)?Do(t):this._findContext(ko(t)):null}_findOriginalError(t){let e=ko(t);for(;e&&ko(e);)e=ko(e);return e}}let Ao=!0,Po=!1;function Ho(){return Po=!0,Ao}function zo(t,e){t.__ngContext__=e}function Fo(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function Io(){throw new Error("Cannot mix multi providers and regular providers")}function No(t,e,o){let n=t.length;for(;;){const i=t.indexOf(e,o);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===n||t.charCodeAt(i+o)<=32)return i}o=i+1}}function Oo(t,e,o){let n=0;for(;n<t.length;){let i=t[n++];if(o&&"class"===i){if(i=t[n],-1!==No(i.toLowerCase(),e,0))return!0}else if(1===i){for(;n<t.length&&"string"==typeof(i=t[n++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function jo(t){return 0===t.type&&"ng-template"!==t.tagName}function Vo(t,e,o){return e===(0!==t.type||o?t.tagName:"ng-template")}function Bo(t,e,o){let n=4;const i=t.attrs||[],s=function(t){for(let o=0;o<t.length;o++)if(3===(e=t[o])||4===e||6===e)return o;var e;return t.length}(i);let r=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!r)if(4&n){if(n=2|1&n,""!==l&&!Vo(t,l,o)||""===l&&1===e.length){if(Wo(n))return!1;r=!0}}else{const c=8&n?l:e[++a];if(8&n&&null!==t.attrs){if(!Oo(t.attrs,c,o)){if(Wo(n))return!1;r=!0}continue}const u=Go(8&n?"class":l,i,jo(t),o);if(-1===u){if(Wo(n))return!1;r=!0;continue}if(""!==c){let t;t=u>s?"":i[u+1].toLowerCase();const e=8&n?t:null;if(e&&-1!==No(e,c,0)||2&n&&c!==t){if(Wo(n))return!1;r=!0}}}}else{if(!r&&!Wo(n)&&!Wo(l))return!1;if(r&&Wo(l))continue;r=!1,n=l|1&n}}return Wo(n)||r}function Wo(t){return 0==(1&t)}function Go(t,e,o,n){if(null===e)return-1;let i=0;if(n||!o){let o=!1;for(;i<e.length;){const n=e[i];if(n===t)return i;if(3===n||6===n)o=!0;else{if(1===n||2===n){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===n)break;if(0===n){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const n=t[o];if("number"==typeof n)return-1;if(n===e)return o;o++}return-1}(e,t)}function Uo(t,e,o=!1){for(let n=0;n<e.length;n++)if(Bo(t,e[n],o))return!0;return!1}function qo(t,e){return t?":not("+e.trim()+")":e}function Yo(t){let e=t[0],o=1,n=2,i="",s=!1;for(;o<t.length;){let r=t[o];if("string"==typeof r)if(2&n){const e=t[++o];i+="["+r+(e.length>0?'="'+e+'"':"")+"]"}else 8&n?i+="."+r:4&n&&(i+=" "+r);else""===i||Wo(r)||(e+=qo(s,i),i=""),n=r,s=s||!Wo(n);o++}return""!==i&&(e+=qo(s,i)),e}const Zo={};function $o(t){const e=t[3];return re(e)?e[3]:e}function Xo(t){return Ko(t[13])}function Jo(t){return Ko(t[4])}function Ko(t){for(;null!==t&&!re(t);)t=t[4];return t}function Qo(t){tn(De(),Te(),Ue()+t,Ae())}function tn(t,e,o,n){if(!n)if(3==(3&e[2])){const n=t.preOrderCheckHooks;null!==n&&Ze(e,n,o)}else{const n=t.preOrderHooks;null!==n&&$e(e,n,0,o)}qe(o)}function en(t,e){const o=t.contentQueries;if(null!==o)for(let n=0;n<o.length;n+=2){const i=o[n],s=o[n+1];if(-1!==s){const o=t.data[s];Ie(i),o.contentQueries(2,e[s],s)}}}function on(t,e,o){return pe(e)?e.createElement(t,o):null===o?e.createElement(t):e.createElementNS(o,t)}function nn(t,e,o,n,i,s,r,a,l,c){const u=e.blueprint.slice();return u[0]=i,u[2]=140|n,xe(u),u[3]=u[15]=t,u[8]=o,u[10]=r||t&&t[10],u[11]=a||t&&t[11],u[12]=l||t&&t[12]||null,u[9]=c||t&&t[9]||null,u[6]=s,u[16]=2==e.type?t[16]:u,u}function sn(t,e,o,n,i,s){const r=o+20,a=t.data[r]||function(t,e,o,n,i,s){const r=ke(),a=Se(),l=a?r:r&&r.parent,c=t.data[o]=mn(0,l&&l!==e?l:null,n,o,i,s);return null===t.firstChild&&(t.firstChild=c),r&&(!a||null!=r.child||null===c.parent&&2!==r.type?a||(r.next=c):r.child=c),c}(t,e,r,n,i,s);return Le(a,!0),a}function rn(t,e,o){Oe(e,e[6]);try{const n=t.viewQuery;null!==n&&Hn(1,n,o);const i=t.template;null!==i&&cn(t,e,i,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&en(t,e),t.staticViewQueries&&Hn(2,t.viewQuery,o);const s=t.components;null!==s&&function(t,e){for(let o=0;o<e.length;o++)Ln(t,e[o])}(e,s)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),n}finally{e[2]&=-5,Ge()}}function an(t,e,o,n){const i=e[2];if(256==(256&i))return;Oe(e,e[6]);const s=Ae();try{xe(e),_e.lFrame.bindingIndex=t.bindingStartIndex,null!==o&&cn(t,e,o,2,n);const r=3==(3&i);if(!s)if(r){const o=t.preOrderCheckHooks;null!==o&&Ze(e,o,null)}else{const o=t.preOrderHooks;null!==o&&$e(e,o,0,null),Xe(e,0)}if(function(t){for(let e=Xo(t);null!==e;e=Jo(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const o=t[e],n=o[3];0==(1024&o[2])&&Re(n,1),o[2]|=1024}}}(e),function(t){for(let e=Xo(t);null!==e;e=Jo(e))for(let t=10;t<e.length;t++){const o=e[t],n=o[1];Ee(o)&&an(n,o,n.template,o[8])}}(e),null!==t.contentQueries&&en(t,e),!s)if(r){const o=t.contentCheckHooks;null!==o&&Ze(e,o)}else{const o=t.contentHooks;null!==o&&$e(e,o,1),Xe(e,1)}!function(t,e){try{const o=t.expandoInstructions;if(null!==o){let n=t.expandoStartIndex,i=-1,s=-1;for(let t=0;t<o.length;t++){const r=o[t];"number"==typeof r?r<=0?(s=0-r,qe(s),n+=9+o[++t],i=n):n+=r:(null!==r&&(ze(n,i),r(2,e[i])),i++)}}}finally{qe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let o=0;o<e.length;o++)kn(t,e[o])}(e,a);const l=t.viewQuery;if(null!==l&&Hn(2,l,n),!s)if(r){const o=t.viewCheckHooks;null!==o&&Ze(e,o)}else{const o=t.viewHooks;null!==o&&$e(e,o,2),Xe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Re(e[3],-1))}finally{Ge()}}function ln(t,e,o,n){const i=e[10],s=!Ae(),r=4==(4&e[2]);try{s&&!r&&i.begin&&i.begin(),r&&rn(t,e,n),an(t,e,o,n)}finally{s&&!r&&i.end&&i.end()}}function cn(t,e,o,n,i){const s=Ue();try{qe(-1),2&n&&e.length>20&&tn(t,e,0,Ae()),o(n,i)}finally{qe(s)}}function un(t,e,o){Me()&&(function(t,e,o,n){const i=o.directiveStart,s=o.directiveEnd;t.firstCreatePass||go(o,e),zo(n,e);const r=o.initialInputs;for(let a=i;a<s;a++){const n=t.data[a],s=ue(n);s&&_n(e,o,n);const l=Ro(e,t,a,o);zo(l,e),null!==r&&Mn(0,a-i,l,n,0,r),s&&(ye(o.index,e)[8]=l)}}(t,e,o,ge(o,e)),128==(128&o.flags)&&function(t,e,o){const n=o.directiveStart,i=o.directiveEnd,s=t.expandoInstructions,r=t.firstCreatePass,a=o.index-20,l=_e.lFrame.currentDirectiveIndex;try{qe(a);for(let o=n;o<i;o++){const n=t.data[o],i=e[o];Fe(o),null!==n.hostBindings||0!==n.hostVars||null!==n.hostAttrs?yn(n,i):r&&s.push(null)}}finally{qe(-1),Fe(l)}}(t,e,o))}function dn(t,e,o=ge){const n=e.localNames;if(null!==n){let i=e.index+1;for(let s=0;s<n.length;s+=2){const r=n[s+1],a=-1===r?o(e,t):t[r];t[i++]=a}}}function hn(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=pn(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function pn(t,e,o,n,i,s,r,a,l,c){const u=20+n,d=u+i,h=function(t,e){const o=[];for(let n=0;n<e;n++)o.push(n<t?null:Zo);return o}(u,d);return h[1]={type:t,id:e,blueprint:h,template:o,queries:null,viewQuery:a,node:null,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof r?r():r,firstChild:null,schemas:l,consts:c,incompleteFirstPass:!1}}function mn(t,e,o,n,i,s){return{type:o,index:n,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function fn(t,e,o){for(let n in t)if(t.hasOwnProperty(n)){const i=t[n];(o=null===o?{}:o).hasOwnProperty(n)?o[n].push(e,i):o[n]=[e,i]}return o}function gn(t,e,o,n){let i=!1;if(Me()){const s=function(t,e,o){const n=t.directiveRegistry;let i=null;if(n)for(let s=0;s<n.length;s++){const r=n[s];Uo(o,r.selectors,!1)&&(i||(i=[]),wo(go(o,e),t,r.type),ue(r)?(2&o.flags&&Fo(o),En(t,o),i.unshift(r)):i.push(r))}return i}(t,e,o),r=null===n?null:{"":-1};if(null!==s){let n=0;i=!0,xn(o,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}wn(t,o,s.length);let a=!1,l=!1;for(let i=0;i<s.length;i++){const c=s[i];o.mergedAttrs=oo(o.mergedAttrs,c.hostAttrs),Rn(t,e,c),Cn(t.data.length-1,c,r),null!==c.contentQueries&&(o.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(o.flags|=128),!a&&(c.onChanges||c.onInit||c.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(o.index-20),a=!0),l||!c.onChanges&&!c.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(o.index-20),l=!0),bn(t,c),n+=c.hostVars}!function(t,e){const o=e.directiveEnd,n=t.data,i=e.attrs,s=[];let r=null,a=null;for(let l=e.directiveStart;l<o;l++){const t=n[l],o=t.inputs,c=null===i||jo(e)?null:Tn(o,i);s.push(c),r=fn(o,l,r),a=fn(t.outputs,l,a)}null!==r&&(r.hasOwnProperty("class")&&(e.flags|=16),r.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=r,e.outputs=a}(t,o),vn(t,e,n)}r&&function(t,e,o){if(e){const n=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=o[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);n.push(e[t],i)}}}(o,n,r)}return o.mergedAttrs=oo(o.mergedAttrs,o.attrs),i}function bn(t,e){const o=t.expandoInstructions;o.push(e.hostBindings),0!==e.hostVars&&o.push(e.hostVars)}function vn(t,e,o){for(let n=0;n<o;n++)e.push(Zo),t.blueprint.push(Zo),t.data.push(null)}function yn(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function wn(t,e,o){const n=20-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(n,i,o)}function En(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Cn(t,e,o){if(o){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)o[e.exportAs[n]]=t;ue(e)&&(o[""]=t)}}function xn(t,e,o){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+o,t.providerIndexes=e}function Rn(t,e,o){t.data.push(o);const n=o.factory||(o.factory=ne(o.type)),i=new Qe(n,ue(o),null);t.blueprint.push(i),e.push(i)}function _n(t,e,o){const n=ge(e,t),i=hn(o),s=t[10],r=Sn(t,nn(t,i,null,o.onPush?64:16,n,e,s,s.createRenderer(n,o)));t[e.index]=r}function Mn(t,e,o,n,i,s){const r=s[e];if(null!==r){const t=n.setInput;for(let e=0;e<r.length;){const i=r[e++],s=r[e++],a=r[e++];null!==t?n.setInput(o,a,i,s):o[s]=a}}}function Tn(t,e){let o=null,n=0;for(;n<e.length;){const i=e[n];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===o&&(o=[]),o.push(i,t[i],e[n+1])),n+=2}else n+=2;else n+=4}return o}function Dn(t,e,o,n){return new Array(t,!0,!1,e,null,0,n,o,null,null)}function kn(t,e){const o=ye(e,t);if(Ee(o)){const t=o[1];80&o[2]?an(t,o,t.template,o[8]):o[5]>0&&function t(e){for(let n=Xo(e);null!==n;n=Jo(n))for(let e=10;e<n.length;e++){const o=n[e];if(1024&o[2]){const t=o[1];an(t,o,t.template,o[8])}else o[5]>0&&t(o)}const o=e[1].components;if(null!==o)for(let n=0;n<o.length;n++){const i=ye(o[n],e);Ee(i)&&i[5]>0&&t(i)}}(o)}}function Ln(t,e){const o=ye(e,t),n=o[1];!function(t,e){for(let o=e.length;o<t.blueprint.length;o++)e.push(t.blueprint[o])}(n,o),rn(n,o,o[8])}function Sn(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function An(t,e,o){const n=e[10];n.begin&&n.begin();try{an(t,e,t.template,o)}catch(i){throw function(t,e){const o=t[9],n=o?o.get(So,null):null;n&&n.handleError(e)}(e,i),i}finally{n.end&&n.end()}}function Pn(t){!function(t){for(let e=0;e<t.components.length;e++){const o=t.components[e],n=we(o),i=n[1];ln(i,n,i.template,o)}}(t[8])}function Hn(t,e,o){Ie(0),e(t,o)}const zn=(()=>Promise.resolve(null))();function Fn(t,e,o,n,i){for(let s=0;s<o.length;){const r=o[s++],a=o[s++],l=e[r],c=t.data[r];null!==c.setInput?c.setInput(l,i,n,a):l[a]=i}}function In(t,e){const o=e[3];return-1===t.index?re(o)?o:null:o}function Nn(t,e){const o=In(t,e);return o?$n(e[11],o[7]):null}function On(t,e,o,n,i){if(null!=n){let s,r=!1;re(n)?s=n:se(n)&&(r=!0,n=n[0]);const a=fe(n);0===t&&null!==o?null==i?Yn(e,o,a):qn(e,o,a,i||null):1===t&&null!==o?qn(e,o,a,i||null):2===t?function(t,e,o){const n=$n(t,e);n&&function(t,e,o,n){pe(t)?t.removeChild(e,o,n):e.removeChild(o)}(t,n,e,o)}(e,a,r):3===t&&e.destroyNode(a),null!=s&&function(t,e,o,n,i){const s=o[7];s!==fe(o)&&On(e,t,n,s,i);for(let r=10;r<o.length;r++){const i=o[r];Qn(i[1],i,t,e,n,s)}}(e,t,s,o,i)}}function jn(t,e,o,n){const i=Nn(t.node,e);i&&Qn(t,e,e[11],o?1:2,i,n)}function Vn(t,e){const o=t[9],n=o.indexOf(e);1024&e[2]&&Re(e[3],-1),o.splice(n,1)}function Bn(t,e){if(t.length<=10)return;const o=10+e,n=t[o];if(n){const i=n[17];null!==i&&i!==t&&Vn(i,n),e>0&&(t[o-1][4]=n[4]);const s=Bt(t,10+e);jn(n[1],n,!1,null);const r=s[19];null!==r&&r.detachView(s[1]),n[3]=null,n[4]=null,n[2]&=-129}return n}function Wn(t,e){if(!(256&e[2])){const o=e[11];pe(o)&&o.destroyNode&&Qn(t,e,o,3,null,null),function(t){let e=t[13];if(!e)return Un(t[1],t);for(;e;){let o=null;if(se(e))o=e[13];else{const t=e[10];t&&(o=t)}if(!o){for(;e&&!e[4]&&e!==t;)se(e)&&Un(e[1],e),e=Gn(e,t);null===e&&(e=t),se(e)&&Un(e[1],e),o=e&&e[4]}e=o}}(e)}}function Gn(t,e){let o;return se(t)&&(o=t[6])&&2===o.type?In(o,t):t[3]===e?null:t[3]}function Un(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let n=0;n<o.length;n+=2){const t=e[o[n]];if(!(t instanceof Qe)){const e=o[n+1];if(Array.isArray(e))for(let o=0;o<e.length;o+=2)e[o+1].call(t[e[o]]);else e.call(t)}}}(t,e),function(t,e){const o=t.cleanup;if(null!==o){const t=e[7];for(let n=0;n<o.length-1;n+=2)if("string"==typeof o[n]){const i=o[n+1],s="function"==typeof i?i(e):fe(e[i]),r=t[o[n+2]],a=o[n+3];"boolean"==typeof a?s.removeEventListener(o[n],r,a):a>=0?t[a]():t[-a].unsubscribe(),n+=2}else o[n].call(t[o[n+1]]);e[7]=null}}(t,e);const o=e[6];o&&3===o.type&&pe(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&re(e[3])){n!==e[3]&&Vn(n,e);const o=e[19];null!==o&&o.detachView(t)}}}function qn(t,e,o,n){pe(t)?t.insertBefore(e,o,n):e.insertBefore(o,n,!0)}function Yn(t,e,o){pe(t)?t.appendChild(e,o):e.appendChild(o)}function Zn(t,e,o,n){null!==n?qn(t,e,o,n):Yn(t,e,o)}function $n(t,e){return pe(t)?t.parentNode(e):e.parentNode}function Xn(t,e,o,n){const i=function(t,e,o){let n=e.parent;for(;null!=n&&(4===n.type||5===n.type);)n=(e=n).parent;if(null==n){const t=o[6];return 2===t.type?Nn(t,o):o[0]}if(e&&5===e.type&&4&e.flags)return ge(e,o).parentNode;if(2&n.flags){const e=t.data,o=e[e[n.index].directiveStart].encapsulation;if(o!==Gt.ShadowDom&&o!==Gt.Native)return null}return ge(n,o)}(t,n,e);if(null!=i){const t=e[11],s=function(t,e){if(2===t.type){const o=In(t,e);return null===o?null:Jn(o.indexOf(e,10)-10,o)}return 4===t.type||5===t.type?ge(t,e):null}(n.parent||e[6],e);if(Array.isArray(o))for(let e=0;e<o.length;e++)Zn(t,i,o[e],s);else Zn(t,i,o,s)}}function Jn(t,e){const o=10+t+1;if(o<e.length){const t=e[o],n=t[1].firstChild;if(null!==n)return function t(e,o){if(null!==o){const n=o.type;if(3===n)return ge(o,e);if(0===n)return Jn(-1,e[o.index]);if(4===n||5===n){const n=o.child;if(null!==n)return t(e,n);{const t=e[o.index];return re(t)?Jn(-1,t):fe(t)}}{const n=e[16],i=n[6],s=$o(n),r=i.projection[o.projection];return null!=r?t(s,r):t(e,o.next)}}return null}(t,n)}return e[7]}function Kn(t,e,o,n,i,s,r){for(;null!=o;){const a=n[o.index],l=o.type;r&&0===e&&(a&&zo(fe(a),n),o.flags|=4),64!=(64&o.flags)&&(4===l||5===l?(Kn(t,e,o.child,n,i,s,!1),On(e,t,i,a,s)):1===l?ti(t,e,n,o,i,s):On(e,t,i,a,s)),o=r?o.projectionNext:o.next}}function Qn(t,e,o,n,i,s){Kn(o,n,t.node.child,e,i,s,!1)}function ti(t,e,o,n,i,s){const r=o[16],a=r[6].projection[n.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)On(e,t,i,a[l],s);else Kn(t,e,a,r[3],i,s,!0)}function ei(t,e,o){pe(t)?t.setAttribute(e,"style",o):e.style.cssText=o}function oi(t,e,o){pe(t)?""===o?t.removeAttribute(e,"class"):t.setAttribute(e,"class",o):e.className=o}class ni{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,o,n,i,s=!1){for(;null!==n;){const r=o[n.index];if(null!==r&&i.push(fe(r)),re(r))for(let e=10;e<r.length;e++){const o=r[e],n=o[1].firstChild;null!==n&&t(o[1],o,n,i)}const a=n.type;if(4===a||5===a)t(e,o,n.child,i);else if(1===a){const e=o[16],s=e[6].projection[n.projection];if(Array.isArray(s))i.push(...s);else{const o=$o(e);t(o[1],o,s,i,!0)}}n=s?n.projectionNext:n.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Wn(this._lView[1],this._lView)}onDestroy(t){var e,o,n,i;e=this._lView[1],n=t,(i=o=this._lView,i[7]||(i[7]=[])).push(n),e.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(e).push(o[7].length-1,null)}markForCheck(){!function(t){for(;t;){t[2]|=64;const e=$o(t);if(de(t)&&!e)return t;t=e}}(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){An(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,o){Pe(!0);try{An(t,e,o)}finally{Pe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Qn(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ii extends ni{constructor(t){super(t),this._view=t}detectChanges(){Pn(this._view)}checkNoChanges(){!function(t){Pe(!0);try{Pn(t)}finally{Pe(!1)}}(this._view)}get context(){return null}}let si,ri,ai;function li(t,e,o){return si||(si=class extends t{}),new si(ge(e,o))}function ci(t,e,o,n){return ri||(ri=class extends t{constructor(t,e,o){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=o}createEmbeddedView(t){const e=this._declarationTContainer.tViews,o=nn(this._declarationView,e,t,16,null,e.node);o[17]=this._declarationView[this._declarationTContainer.index];const n=this._declarationView[19];return null!==n&&(o[19]=n.createEmbeddedView(e)),rn(e,o,t),new ni(o)}}),0===o.type?new ri(n,o,li(e,o,n)):null}const ui=new _t("Set Injector scope."),di={},hi={},pi=[];let mi=void 0;function fi(){return void 0===mi&&(mi=new Nt),mi}function gi(t,e=null,o=null,n){return new bi(t,o,e||fi(),n)}class bi{constructor(t,e,o,n=null){this.parent=o,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&jt(e,o=>this.processProvider(o,t,e)),jt([t],t=>this.processInjectorType(t,[],i)),this.records.set(Mt,yi(void 0,this));const s=this.records.get(ui);this.scope=null!=s?s.value:null,this.source=n||("object"==typeof t?null:lt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,o=Tt,n=X.Default){this.assertNotDestroyed();const i=At(this);try{if(!(n&X.SkipSelf)){let e=this.records.get(t);if(void 0===e){const o=("function"==typeof(s=t)||"object"==typeof s&&s instanceof _t)&&tt(t);e=o&&this.injectableDefInScope(o)?yi(vi(t),di):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&X.Self?fi():this.parent).get(t,o=n&X.Optional&&o===Tt?null:o)}catch(e){if("NullInjectorError"===e.name){if((e.ngTempTokenPath=e.ngTempTokenPath||[]).unshift(lt(t)),i)throw e;return function(t,e,o,n){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,o,n=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=lt(e);if(Array.isArray(e))i=e.map(lt).join(" -> ");else if("object"==typeof e){let t=[];for(let o in e)if(e.hasOwnProperty(o)){let n=e[o];t.push(o+":"+("string"==typeof n?JSON.stringify(n):lt(n)))}i=`{${t.join(", ")}}`}return`${o}${n?"("+n+")":""}[${i}]: ${t.replace(Dt,"\n  ")}`}("\n"+t.message,i,o,n),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(e,t,"R3InjectorError",this.source)}throw e}finally{At(i)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,o)=>t.push(lt(o))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,o){if(!(t=ht(t)))return!1;let n=ot(t);const i=null==n&&t.ngModule||void 0,s=void 0===i?t:i,r=-1!==o.indexOf(s);if(void 0!==i&&(n=ot(i)),null==n)return!1;if(null!=n.imports&&!r){let t;o.push(s);try{jt(n.imports,n=>{this.processInjectorType(n,e,o)&&(void 0===t&&(t=[]),t.push(n))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:o,providers:n}=t[e];jt(n,t=>this.processProvider(t,o,n||pi))}}this.injectorDefTypes.add(s),this.records.set(s,yi(n.factory,di));const a=n.providers;if(null!=a&&!r){const e=t;jt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,o){let n=Ei(t=ht(t))?t:ht(t&&t.provide);const i=function(t,e,o){return wi(t)?yi(void 0,t.useValue):yi(function(t,e,o){let n=void 0;if(Ei(t)){const e=ht(t);return ne(e)||vi(e)}if(wi(t))n=()=>ht(t.useValue);else if((i=t)&&i.useFactory)n=()=>t.useFactory(...It(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))n=()=>zt(ht(t.useExisting));else{const i=ht(t&&(t.useClass||t.provide));if(i||function(t,e,o){let n="";throw t&&e&&(n=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==o?"?"+o+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${lt(t)}'`+n)}(e,o,t),!function(t){return!!t.deps}(t))return ne(i)||vi(i);n=()=>new i(...It(t.deps))}var i;return n}(t,e,o),di)}(t,e,o);if(Ei(t)||!0!==t.multi){const t=this.records.get(n);t&&void 0!==t.multi&&Io()}else{let e=this.records.get(n);e?void 0===e.multi&&Io():(e=yi(void 0,di,!0),e.factory=()=>It(e.multi),this.records.set(n,e)),n=t,e.multi.push(t)}this.records.set(n,i)}hydrate(t,e){var o;return e.value===hi?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(lt(t)):e.value===di&&(e.value=hi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(o=e.value)&&"object"==typeof o&&"function"==typeof o.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function vi(t){const e=tt(t),o=null!==e?e.factory:ne(t);if(null!==o)return o;const n=ot(t);if(null!==n)return n.factory;if(t instanceof _t)throw new Error(`Token ${lt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const o=function(t,e){const o=[];for(let n=0;n<t;n++)o.push("?");return o}(e);throw new Error(`Can't resolve all parameters for ${lt(t)}: (${o.join(", ")}).`)}const o=function(t){const e=t&&(t[nt]||t[rt]||t[st]&&t[st]());if(e){const o=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "${o}" class.`),e}return null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new Error("unreachable")}function yi(t,e,o=!1){return{factory:t,value:e,multi:o?[]:void 0}}function wi(t){return null!==t&&"object"==typeof t&&kt in t}function Ei(t){return"function"==typeof t}const Ci=function(t,e,o){return function(t,e=null,o=null,n){const i=gi(t,e,o,n);return i._resolveInjectorDefTypes(),i}({name:o},e,t,o)};let xi=(()=>{class t{static create(t,e){return Array.isArray(t)?Ci(t,e,""):Ci(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Tt,t.NULL=new Nt,t.\u0275prov=K({token:t,providedIn:"any",factory:()=>zt(Mt)}),t.__NG_ELEMENT_ID__=-1,t})(),Ri=new Map;const _i=new Set;function Mi(t){return"string"==typeof t?t:t.text()}function Ti(t,e,o){let n=o?t.styles:null,i=o?t.classes:null,s=0;if(null!==e)for(let r=0;r<e.length;r++){const t=e[r];"number"==typeof t?s=t:1==s?i=ct(i,t):2==s&&(n=ct(n,t+": "+e[++r]+";"))}o?t.styles=n:t.stylesWithoutHost=n,o?t.classes=i:t.classesWithoutHost=i}let Di=null;function ki(){if(!Di){const t=bt.Symbol;if(t&&t.iterator)Di=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const o=t[e];"entries"!==o&&"size"!==o&&Map.prototype[o]===Map.prototype.entries&&(Di=o)}}}return Di}function Li(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class Si{constructor(t){this.wrapped=t}static wrap(t){return new Si(t)}static unwrap(t){return Si.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Si}}function Ai(t){return!!Pi(t)&&(Array.isArray(t)||!(t instanceof Map)&&ki()in t)}function Pi(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Hi(t,e,o){return!Object.is(t[e],o)&&(t[e]=o,!0)}function zi(t,e,o,n,i,s,r,a){const l=Te(),c=De(),u=t+20,d=c.firstCreatePass?function(t,e,o,n,i,s,r,a,l){const c=e.consts,u=sn(e,o[6],t,0,r||null,Ce(c,a));gn(e,o,u,Ce(c,l)),Ye(e,u);const d=u.tViews=pn(2,-1,n,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),h=mn(0,null,2,-1,null,null);return h.injectorIndex=u.injectorIndex,d.node=h,null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(t,c,l,e,o,n,i,s,r):c.data[u];Le(d,!1);const h=l[11].createComment("");Xn(c,l,h,d),zo(h,l),Sn(l,l[u]=Dn(h,l,h,d)),ce(d)&&un(c,l,d),null!=r&&dn(l,d,a)}function Fi(t,e=X.Default){const o=Te();return null==o?zt(t,e):Eo(ke(),o,ht(t),e)}function Ii(t,e,o){const n=Te();return Hi(n,He(),e)&&function(t,e,o,n,i,s,r,a){const l=ge(e,o);let c,u=e.inputs;var d;null!=u&&(c=u[n])?(Fn(t,o,c,n,i),le(e)&&function(t,e){const o=ye(e,t);16&o[2]||(o[2]|=64)}(o,e.index)):3===e.type&&(n="class"===(d=n)?"className":"for"===d?"htmlFor":"formaction"===d?"formAction":"innerHtml"===d?"innerHTML":"readonly"===d?"readOnly":"tabindex"===d?"tabIndex":d,i=null!=r?r(i,e.tagName||"",n):i,pe(s)?s.setProperty(l,n,i):eo(n)||(l.setProperty?l.setProperty(n,i):l[n]=i))}(De(),function(){const t=_e.lFrame;return be(t.tView,t.selectedIndex)}(),n,t,e,n[11],o),Ii}function Ni(t,e,o,n,i){const s=i?"class":"style";Fn(t,o,e.inputs[s],s,n)}function Oi(t,e,o,n){const i=Te(),s=De(),r=20+t,a=i[11],l=i[r]=on(e,a,_e.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,o,n,i,s,r){const a=e.consts,l=Ce(a,s),c=sn(e,o[6],t,3,i,l);return gn(e,o,c,Ce(a,r)),null!==c.attrs&&Ti(c,c.attrs,!1),null!==c.mergedAttrs&&Ti(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,s,i,0,e,o,n):s.data[r];Le(c,!0);const u=c.mergedAttrs;null!==u&&to(a,l,u);const d=c.classes;null!==d&&oi(a,l,d);const h=c.styles;null!==h&&ei(a,l,h),Xn(s,i,l,c),0===_e.lFrame.elementDepthCount&&zo(l,i),_e.lFrame.elementDepthCount++,ce(c)&&(un(s,i,c),function(t,e,o){if(ae(e)){const n=e.directiveEnd;for(let i=e.directiveStart;i<n;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,o[i],i)}}}(s,c,i)),null!==n&&dn(i,c)}function ji(){let t=ke();Se()?_e.lFrame.isParent=!1:(t=t.parent,Le(t,!1));const e=t;_e.lFrame.elementDepthCount--;const o=De();o.firstCreatePass&&(Ye(o,t),ae(t)&&o.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ni(o,e,Te(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ni(o,e,Te(),e.stylesWithoutHost,!1)}function Vi(t,e,o,n){Oi(t,e,o,n),ji()}function Bi(t){return!!t&&"function"==typeof t.then}function Wi(t,e=""){const o=Te(),n=De(),i=t+20,s=n.firstCreatePass?sn(n,o[6],t,3,null,null):n.data[i],r=o[i]=function(t,e){return pe(e)?e.createText(t):e.createTextNode(t)}(e,o[11]);Xn(n,o,r,s),Le(s,!1)}function Gi(t){return Ui("",t,""),Gi}function Ui(t,e,o){const n=Te(),i=function(t,e,o,n){return Hi(t,He(),o)?e+lo(o)+n:Zo}(n,t,e,o);return i!==Zo&&function(t,e,o){const n=function(t,e){return fe(e[t+20])}(e,t),i=t[11];pe(i)?i.setValue(n,o):n.textContent=o}(n,Ue(),i),Ui}function qi(t,e){const o=we(t)[1],n=o.data.length-1;Ye(o,{directiveStart:n,directiveEnd:n+1})}class Yi{constructor(t,e,o){this.previousValue=t,this.currentValue=e,this.firstChange=o}isFirstChange(){return this.firstChange}}function Zi(t){t.type.prototype.ngOnChanges&&(t.setInput=$i,t.onChanges=function(){const t=Xi(this),e=t&&t.current;if(e){const o=t.previous;if(o===Ut)t.previous=e;else for(let t in e)o[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function $i(t,e,o,n){const i=Xi(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Ut,current:null}),s=i.current||(i.current={}),r=i.previous,a=this.declaredInputs[o],l=r[a];s[a]=new Yi(l&&l.currentValue,e,r===Ut),t[n]=e}function Xi(t){return t.__ngSimpleChanges__||null}Zi.ngInherit=!0;class Ji{}class Ki{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${lt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Qi=(()=>{class t{}return t.NULL=new Ki,t})(),ts=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>es(t),t})();const es=function(t){return li(t,ke(),Te())};class os{}const ns=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let is=(()=>{class t{}return t.\u0275prov=K({token:t,providedIn:"root",factory:()=>null}),t})();class ss{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const rs=new ss("9.1.12");class as{constructor(){}supports(t){return Ai(t)}create(t){return new cs(t)}}const ls=(t,e)=>e;class cs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ls}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,o=this._removalsHead,n=0,i=null;for(;e||o;){const s=!o||e&&e.currentIndex<ps(o,n,i)?e:o,r=ps(s,n,i),a=s.currentIndex;if(s===o)n--,o=o._nextRemoved;else if(e=e._next,null==s.previousIndex)n++;else{i||(i=[]);const t=r-n,e=a-n;if(t!=e){for(let o=0;o<t;o++){const n=o<i.length?i[o]:i[o]=0,s=n+o;e<=s&&s<t&&(i[o]=n+1)}i[s.previousIndex]=e-t}}r!==a&&t(s,r,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ai(t))throw new Error(`Error trying to diff '${lt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,o,n,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)o=t[e],n=this._trackByFn(e,o),null!==i&&Li(i.trackById,n)?(s&&(i=this._verifyReinsertion(i,o,n,e)),Li(i.item,o)||this._addIdentityChange(i,o)):(i=this._mismatch(i,o,n,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let o=0;o<t.length;o++)e(t[o]);else{const o=t[ki()]();let n;for(;!(n=o.next()).done;)e(n.value)}}(t,t=>{n=this._trackByFn(e,t),null!==i&&Li(i.trackById,n)?(s&&(i=this._verifyReinsertion(i,t,n,e)),Li(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,n,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,o,n){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,n))?(Li(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,n)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Li(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,n)):t=this._addAfter(new us(e,o),i,n),t}_verifyReinsertion(t,e,o,n){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==i?t=this._reinsertAfter(i,t._prev,n):t.currentIndex!=n&&(t.currentIndex=n,this._addToMoves(t,n)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const n=t._prevRemoved,i=t._nextRemoved;return null===n?this._removalsHead=i:n._nextRemoved=i,null===i?this._removalsTail=n:i._prevRemoved=n,this._insertAfter(t,e,o),this._addToMoves(t,o),t}_moveAfter(t,e,o){return this._unlink(t),this._insertAfter(t,e,o),this._addToMoves(t,o),t}_addAfter(t,e,o){return this._insertAfter(t,e,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,o){const n=null===e?this._itHead:e._next;return t._next=n,t._prev=e,null===n?this._itTail=t:n._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new hs),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,o=t._next;return null===e?this._itHead=o:e._next=o,null===o?this._itTail=e:o._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class us{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ds{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===e||e<=o.currentIndex)&&Li(o.trackById,t))return o;return null}remove(t){const e=t._prevDup,o=t._nextDup;return null===e?this._head=o:e._nextDup=o,null===o?this._tail=e:o._prevDup=e,null===this._head}}class hs{constructor(){this.map=new Map}put(t){const e=t.trackById;let o=this.map.get(e);o||(o=new ds,this.map.set(e,o)),o.add(t)}get(t,e){const o=this.map.get(t);return o?o.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ps(t,e,o){const n=t.previousIndex;if(null===n)return n;let i=0;return o&&n<o.length&&(i=o[n]),n+e+i}class ms{constructor(){}supports(t){return t instanceof Map||Pi(t)}create(){return new fs}}class fs{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Pi(t)))throw new Error(`Error trying to diff '${lt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,o)=>{if(e&&e.key===o)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const n=this._getOrCreateRecordForKey(o,t);e=this._insertBeforeOrAppend(e,n)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const o=t._prev;return e._next=t,e._prev=o,t._prev=e,o&&(o._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,e);const n=o._prev,i=o._next;return n&&(n._next=i),i&&(i._prev=n),o._next=null,o._prev=null,o}const o=new gs(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Li(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(o=>e(t[o],o))}}class gs{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let bs=(()=>{class t{constructor(t){this.factories=t}static create(e,o){if(null!=o){const t=o.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:o=>{if(!o)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,o)},deps:[[t,new $,new Y]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${o=t,o.name||typeof o}'`);var o}}return t.\u0275prov=K({token:t,providedIn:"root",factory:()=>new t([new as])}),t})(),vs=(()=>{class t{constructor(t){this.factories=t}static create(e,o){if(o){const t=o.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:o=>{if(!o)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,o)},deps:[[t,new $,new Y]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=K({token:t,providedIn:"root",factory:()=>new t([new ms])}),t})();const ys=[new ms],ws=new bs([new as]),Es=new vs(ys);let Cs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>xs(t,ts),t})();const xs=function(t,e){return ci(t,e,ke(),Te())};let Rs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>_s(t,ts),t})();const _s=function(t,e){return function(t,e,o,n){let i;ai||(ai=class extends t{constructor(t,e,o){super(),this._lContainer=t,this._hostTNode=e,this._hostView=o}get element(){return li(e,this._hostTNode,this._hostView)}get injector(){return new To(this._hostTNode,this._hostView)}get parentInjector(){const t=yo(this._hostTNode,this._hostView),e=ao(t,this._hostView),o=function(t,e,o){if(o.parent&&-1!==o.parent.injectorIndex){const t=o.parent.injectorIndex;let e=o.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let n=ro(t),i=e,s=e[6];for(;n>1;)i=i[15],s=i[6],n--;return s}(t,this._hostView,this._hostTNode);return io(t)&&null!=o?new To(o,e):new To(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,o){const n=t.createEmbeddedView(e||{});return this.insert(n,o),n}createComponent(t,e,o,n,i){const s=o||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Ot,null);t&&(i=t)}const r=t.create(s,n,void 0,i);return this.insert(r.hostView,e),r}insert(t,e){const o=t._lView,n=o[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),re(o[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=o[3],n=new ai(e,e[6],e[3]);n.detach(n.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,o,n){const i=10+n,s=o.length;n>0&&(o[i-1][4]=e),n<s-10?(e[4]=o[i],Vt(o,10+n,e)):(o.push(e),e[4]=null),e[3]=o;const r=e[17];null!==r&&o!==r&&function(t,e){const o=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===o?t[9]=[e]:o.push(e)}(r,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(n,o,this._lContainer,i),jn(n,o,!0,Jn(i,this._lContainer)),t.attachToViewContainerRef(this),Vt(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);!function(t,e){const o=Bn(t,e);o&&Wn(o[1],o)}(this._lContainer,e),Bt(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),o=Bn(this._lContainer,e);return o&&null!=Bt(this._lContainer[8],e)?new ni(o):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=n[o.index];if(re(s))i=s;else{let t;if(4===o.type)t=fe(s);else if(t=n[11].createComment(""),de(n)){const e=n[11],i=ge(o,n);qn(e,$n(e,i),t,function(t,e){return pe(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Xn(n[1],n,t,o);n[o.index]=i=Dn(s,n,t,o),Sn(n,i)}return new ai(i,o,n)}(t,e,ke(),Te())},Ms={};class Ts extends Qi{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=oe(t);return new Ls(e,this.ngModule)}}function Ds(t){const e=[];for(let o in t)t.hasOwnProperty(o)&&e.push({propName:t[o],templateName:o});return e}const ks=new _t("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>uo});class Ls extends Ji{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Yo).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ds(this.componentDef.inputs)}get outputs(){return Ds(this.componentDef.outputs)}create(t,e,o,n){const i=(n=n||this.ngModule)?function(t,e){return{get:(o,n,i)=>{const s=t.get(o,Ms,i);return s!==Ms||n===Ms?s:e.get(o,n,i)}}}(t,n.injector):t,s=i.get(os,me),r=i.get(is,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=o?function(t,e,o){if(pe(t))return t.selectRootElement(e,o===Gt.ShadowDom);let n="string"==typeof e?t.querySelector(e):e;return n.textContent="",n}(a,o,this.componentDef.encapsulation):on(l,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),u=this.componentDef.onPush?576:528,d="string"==typeof o&&/^#root-ng-internal-isolated-\d+/.test(o),h={components:[],scheduler:uo,clean:zn,playerHandler:null,flags:0},p=pn(0,-1,null,1,0,null,null,null,null,null),m=nn(null,p,h,u,null,null,s,a,r,i);let f,g;Oe(m,null);try{const t=function(t,e,o,n,i,s){const r=o[1];o[20]=t;const a=sn(r,null,0,3,null,null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(Ti(a,l,!0),null!==t&&(to(i,t,l),null!==a.classes&&oi(i,t,a.classes),null!==a.styles&&ei(i,t,a.styles)));const c=n.createRenderer(t,e),u=nn(o,hn(e),null,e.onPush?64:16,o[20],a,n,c,void 0);return r.firstCreatePass&&(wo(go(a,o),r,e.type),En(r,a),xn(a,o.length,1)),Sn(o,u),o[20]=u}(c,this.componentDef,m,s,a);if(c)if(o)to(a,c,["ng-version",rs.full]);else{const{attrs:t,classes:e}=function(t){const e=[],o=[];let n=1,i=2;for(;n<t.length;){let s=t[n];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++n]):8===i&&o.push(s);else{if(!Wo(i))break;i=s}n++}return{attrs:e,classes:o}}(this.componentDef.selectors[0]);t&&to(a,c,t),e&&e.length>0&&oi(a,c,e.join(" "))}if(g=be(p,0),void 0!==e){const t=g.projection=[];for(let o=0;o<this.ngContentSelectors.length;o++){const n=e[o];t.push(null!=n?Array.from(n):null)}}f=function(t,e,o,n,i){const s=o[1],r=function(t,e,o){const n=ke();t.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),wn(t,n,1),Rn(t,e,o));const i=Ro(e,t,e.length-1,n);zo(i,e);const s=ge(n,e);return s&&zo(s,e),i}(s,o,e);n.components.push(r),t[8]=r,i&&i.forEach(t=>t(r,e)),e.contentQueries&&e.contentQueries(1,r,o.length-1);const a=ke();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){qe(a.index-20);const t=o[1];bn(t,e),vn(t,o,e.hostVars),yn(e,r)}return r}(t,this.componentDef,m,h,[qi]),rn(p,m,null)}finally{Ge()}const b=new Ss(this.componentType,f,li(ts,g,m),m,g);return o&&!d||(p.node.child=g),b}}class Ss extends class{}{constructor(t,e,o,n,i){super(),this.location=o,this._rootLView=n,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new ii(n),function(t,e,o,n){let i=t.node;null==i&&(t.node=i=mn(0,null,2,-1,null,null)),n[6]=i}(n[1],0,0,n),this.componentType=t}get injector(){return new To(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const As=void 0;var Ps=["en",[["a","p"],["AM","PM"],As],[["AM","PM"],As,As],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],As,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],As,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",As,"{1} 'at' {0}",As],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),o=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===o?1:5}];let Hs={};function zs(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=Fs(e);if(o)return o;const n=e.split("-")[0];if(o=Fs(n),o)return o;if("en"===n)return Ps;throw new Error(`Missing locale data for the locale "${t}".`)}function Fs(t){return t in Hs||(Hs[t]=bt.ng&&bt.ng.common&&bt.ng.common.locales&&bt.ng.common.locales[t]),Hs[t]}const Is=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let Ns="en-US";function Os(t){var e,o;o="Expected localeId to be defined",null==(e=t)&&function(t,e,o,n){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(o,e),"string"==typeof t&&(Ns=t.toLowerCase().replace(/_/g,"-"))}const js=new Map;class Vs extends Ot{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ts(this);const o=ie(t),n=t[Ct]||null;n&&Os(n),this._bootstrapComponents=ho(o.bootstrap),this._r3Injector=gi(t,e,[{provide:Ot,useValue:this},{provide:Qi,useValue:this.componentFactoryResolver}],lt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=xi.THROW_IF_NOT_FOUND,o=X.Default){return t===xi||t===Ot||t===Mt?this:this._r3Injector.get(t,e,o)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Bs extends class{}{constructor(t){super(),this.moduleType=t,null!==ie(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,o){if(e&&e!==o)throw new Error(`Duplicate module registered for ${t} - ${lt(e)} vs ${lt(e.name)}`)})(t,js.get(t),e),js.set(t,e)}let o=e.\u0275mod.imports;o instanceof Function&&(o=o()),o&&o.forEach(e=>t(e))}(t)}create(t){return new Vs(this.moduleType,t)}}function Ws(t,e,o,n){const i=Te(),s=ve(i,t);return function(t,e){return Si.isWrapped(e)&&(e=Si.unwrap(e),t[_e.lFrame.bindingIndex]=Zo),e}(i,function(t,e){return t[1].data[e+20].pure}(i,t)?function(t,e,o,n,i,s,r){const a=e+o;return function(t,e,o,n){const i=Hi(t,e,o);return Hi(t,e+1,n)||i}(t,a,i,s)?function(t,e,o){return t[e]=o}(t,a+2,r?n.call(r,i,s):n(i,s)):function(t,e){const o=t[e];return o===Zo?void 0:o}(t,a+2)}(i,function(){const t=_e.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,s.transform,o,n,s):s.transform(o,n))}class Gs extends _{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,o){let n,i=t=>null,s=()=>null;t&&"object"==typeof t?(n=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(n=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),o&&(s=this.__isAsync?()=>{setTimeout(()=>o())}:()=>{o()}));const r=super.subscribe(n,i,s);return t instanceof p&&t.add(r),r}}function Us(t,e){return ci(Cs,ts,t,e)}const qs=new _t("Application Initializer");let Ys=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const e=this.appInits[o]();Bi(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(zt(qs,8))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const Zs=new _t("AppId"),$s={provide:Zs,useFactory:function(){return`${Xs()}${Xs()}${Xs()}`},deps:[]};function Xs(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Js=new _t("Platform Initializer"),Ks=new _t("Platform ID"),Qs=new _t("appBootstrapListener");let tr=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const er=new _t("LocaleId"),or=new _t("DefaultCurrencyCode");class nr{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ir=function(t){return new Bs(t)},sr=ir,rr=function(t){return Promise.resolve(ir(t))},ar=function(t){const e=ir(t),o=ho(ie(t).declarations).reduce((t,e)=>{const o=oe(e);return o&&t.push(new Ls(o)),t},[]);return new nr(e,o)},lr=ar,cr=function(t){return Promise.resolve(ar(t))};let ur=(()=>{class t{constructor(){this.compileModuleSync=sr,this.compileModuleAsync=rr,this.compileModuleAndAllComponentsSync=lr,this.compileModuleAndAllComponentsAsync=cr}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const dr=new _t("compilerOptions"),hr=(()=>Promise.resolve(0))();function pr(t){"undefined"==typeof Zone?hr.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class mr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gs(!1),this.onMicrotaskEmpty=new Gs(!1),this.onStable=new Gs(!1),this.onError=new Gs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=bt.requestAnimationFrame,e=bt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o);const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(bt,()=>{t.lastRequestAnimationFrameId=-1,vr(t),br(t)}),vr(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(o,n,i,s,r,a)=>{try{return yr(t),o.invokeTask(i,s,r,a)}finally{e&&"eventTask"===s.type&&e(),wr(t)}},onInvoke:(e,o,n,i,s,r,a)=>{try{return yr(t),e.invoke(n,i,s,r,a)}finally{wr(t)}},onHasTask:(e,o,n,i)=>{e.hasTask(n,i),o===n&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,vr(t),br(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,o,n,i)=>(e.handleError(n,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(mr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,o){return this._inner.run(t,e,o)}runTask(t,e,o,n){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+n,t,gr,fr,fr);try{return i.runTask(s,e,o)}finally{i.cancelTask(s)}}runGuarded(t,e,o){return this._inner.runGuarded(t,e,o)}runOutsideAngular(t){return this._outer.run(t)}}function fr(){}const gr={};function br(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vr(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function yr(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function wr(t){t._nesting--,br(t)}class Er{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gs,this.onMicrotaskEmpty=new Gs,this.onStable=new Gs,this.onError=new Gs}run(t,e,o){return t.apply(e,o)}runGuarded(t,e,o){return t.apply(e,o)}runOutsideAngular(t){return t()}runTask(t,e,o,n){return t.apply(e,o)}}let Cr=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mr.assertNotInAngularZone(),pr(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pr(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,o){let n=-1;e&&e>0&&(n=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==n),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:n,updateCb:o})}whenStable(t,e,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,o){return[]}}return t.\u0275fac=function(e){return new(e||t)(zt(mr))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),xr=(()=>{class t{constructor(){this._applications=new Map,Mr.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Mr.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();class Rr{addToWindow(t){}findTestabilityInTree(t,e,o){return null}}let _r,Mr=new Rr,Tr=function(t,e,o){const n=t.get(dr,[]).concat(e),i=new Bs(o);if(0===Ri.size)return Promise.resolve(i);const s=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(n.map(t=>t.providers));if(0===s.length)return Promise.resolve(i);const r=function(){const t=bt.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),a=xi.create({providers:s}).get(r.ResourceLoader);return function(t){const e=[],o=new Map;function n(t){let e=o.get(t);if(!e){const n=(t=>Promise.resolve(a.get(t)))(t);o.set(t,e=n.then(Mi))}return e}return Ri.forEach((t,o)=>{const i=[];t.templateUrl&&i.push(n(t.templateUrl).then(e=>{t.template=e}));const s=t.styleUrls,r=t.styles||(t.styles=[]),a=t.styles.length;s&&s.forEach((e,o)=>{r.push(""),i.push(n(e).then(n=>{r[a+o]=n,s.splice(s.indexOf(e),1),0==s.length&&(t.styleUrls=void 0)}))});const l=Promise.all(i).then(()=>function(t){_i.delete(t)}(o));e.push(l)}),Ri=new Map,Promise.all(e).then(()=>{})}().then(()=>i)};const Dr=new _t("AllowMultipleToken");function kr(t,e,o=[]){const n="Platform: "+e,i=new _t(n);return(e=[])=>{let s=Lr();if(!s||s.injector.get(Dr,!1))if(t)t(o.concat(e).concat({provide:i,useValue:!0}));else{const t=o.concat(e).concat({provide:i,useValue:!0},{provide:ui,useValue:"platform"});!function(t){if(_r&&!_r.destroyed&&!_r.injector.get(Dr,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");_r=t.get(Sr);const e=t.get(Js,null);e&&e.forEach(t=>t())}(xi.create({providers:t,name:n}))}return function(t){const e=Lr();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Lr(){return _r&&!_r.destroyed?_r:null}let Sr=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,o){const n=function(t,e){let o;return o="noop"===t?new Er:("zone.js"===t?void 0:t)||new mr({enableLongStackTrace:Ho(),shouldCoalesceEventChangeDetection:e}),o}(o?o.ngZone:void 0,o&&o.ngZoneEventCoalescing||!1),i=[{provide:mr,useValue:n}];return n.run(()=>{const o=xi.create({providers:i,parent:this.injector,name:t.moduleType.name}),s=t.create(o),r=s.injector.get(So,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return s.onDestroy(()=>Hr(this._modules,s)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{r.handleError(t)}})),function(t,o,n){try{const e=n();return Bi(e)?e.catch(e=>{throw o.runOutsideAngular(()=>t.handleError(e)),e}):e}catch(e){throw o.runOutsideAngular(()=>t.handleError(e)),e}}(r,n,()=>{const t=s.injector.get(Ys);return t.runInitializers(),t.donePromise.then(()=>(Os(s.injector.get(er,"en-US")||"en-US"),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,e=[]){const o=Ar({},e);return Tr(this.injector,o,t).then(t=>this.bootstrapModuleFactory(t,o))}_moduleDoBootstrap(t){const e=t.injector.get(Pr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${lt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(zt(xi))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();function Ar(t,e){return Array.isArray(e)?e.reduce(Ar,t):Object.assign(Object.assign({},t),e)}let Pr=(()=>{class t{constructor(t,e,o,n,i,s){this._zone=t,this._console=e,this._injector=o,this._exceptionHandler=n,this._componentFactoryResolver=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Ho(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const r=new w(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new w(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{mr.assertNotInAngularZone(),pr(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const o=this._zone.onUnstable.subscribe(()=>{mr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),o.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,o=null,n=t[t.length-1];var i;return(i=n)&&"function"==typeof i.schedule?(o=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof n&&(e=t.pop()),null===o&&1===t.length&&t[0]instanceof w?t[0]:function(t=Number.POSITIVE_INFINITY){return function t(e,o,n=Number.POSITIVE_INFINITY){return"function"==typeof o?i=>i.pipe(t((t,n)=>{return(i=e(t,n),i instanceof w?i:new w(S(i))).pipe(function(t,e){return function(e){return e.lift(new P(t,void 0))}}((e,i)=>o(t,e,n,i)));var i},n)):("number"==typeof o&&(n=o),t=>t.lift(new z(e,n)))}(y,t)}(e)(function(t,e){return e?function(t,e){return new w(o=>{const n=new p;let i=0;return n.add(e.schedule((function(){i!==t.length?(o.next(t[i++]),o.closed||n.add(this.schedule())):o.complete()}))),n})}(t,e):new w(D(t))}(t,o))}(r,a.pipe(t=>{return I()((e=W,function(t){let o;o="function"==typeof e?e:function(){return e};const n=Object.create(t,V);return n.source=t,n.subjectFactory=o,n})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let o;o=t instanceof Ji?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(o.componentType);const n=o.isBoundToModule?void 0:this._injector.get(Ot),i=o.create(xi.NULL,[],e||o.selector,n);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(Cr,null);return s&&i.injector.get(xr).registerApplication(i.location.nativeElement,s),this._loadComponent(i),Ho()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Hr(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Qs,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Hr(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(zt(mr),zt(tr),zt(xi),zt(So),zt(Qi),zt(Ys))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();function Hr(t,e){const o=t.indexOf(e);o>-1&&t.splice(o,1)}const zr=kr(null,"core",[{provide:Ks,useValue:"unknown"},{provide:Sr,deps:[xi]},{provide:xr,deps:[]},{provide:tr,deps:[]}]),Fr=[{provide:Pr,useClass:Pr,deps:[mr,tr,xi,So,Qi,Ys]},{provide:ks,deps:[mr],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ys,useClass:Ys,deps:[[new Y,qs]]},{provide:ur,useClass:ur,deps:[]},$s,{provide:bs,useFactory:function(){return ws},deps:[]},{provide:vs,useFactory:function(){return Es},deps:[]},{provide:er,useFactory:function(t){return Os(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new q(er),new Y,new $]]},{provide:or,useValue:"USD"}];let Ir=(()=>{class t{constructor(t){}}return t.\u0275mod=Kt({type:t}),t.\u0275inj=Q({factory:function(e){return new(e||t)(zt(Pr))},providers:Fr}),t})(),Nr=null;function Or(){return Nr}const jr=new _t("DocumentToken"),Vr=function(){var t={Decimal:0,Percent:1,Currency:2,Scientific:3};return t[t.Decimal]="Decimal",t[t.Percent]="Percent",t[t.Currency]="Currency",t[t.Scientific]="Scientific",t}(),Br=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),Wr=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function Gr(t,e){const o=zs(t),n=o[Is.NumberSymbols][e];if(void 0===n){if(e===Wr.CurrencyDecimal)return o[Is.NumberSymbols][Wr.Decimal];if(e===Wr.CurrencyGroup)return o[Is.NumberSymbols][Wr.Group]}return n}const Ur=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function qr(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class Yr{}let Zr=(()=>{class t extends Yr{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return zs(t)[Is.PluralCase]}(e||this.locale)(t)){case Br.Zero:return"zero";case Br.One:return"one";case Br.Two:return"two";case Br.Few:return"few";case Br.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(zt(er))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),$r=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new Xr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Jr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Jr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Fi(Rs),Fi(Cs))},t.\u0275dir=te({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Xr{constructor(){this.$implicit=null,this.ngIf=null}}function Jr(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${lt(e)}'.`)}let Kr=(()=>{class t{constructor(t){this._locale=t}transform(e,o,n){if(function(t){return null==t||""===t||t!=t}(e))return null;n=n||this._locale;try{return function(t,e,o){return function(t,e,o,n,i,s,r=!1){let a="",l=!1;if(isFinite(t)){let c=function(t){let e,o,n,i,s,r=Math.abs(t)+"",a=0;for((o=r.indexOf("."))>-1&&(r=r.replace(".","")),(n=r.search(/e/i))>0?(o<0&&(o=n),o+=+r.slice(n+1),r=r.substring(0,n)):o<0&&(o=r.length),n=0;"0"===r.charAt(n);n++);if(n===(s=r.length))e=[0],o=1;else{for(s--;"0"===r.charAt(s);)s--;for(o-=n,e=[],i=0;n<=s;n++,i++)e[i]=Number(r.charAt(n))}return o>22&&(e=e.splice(0,21),a=o-1,o=1),{digits:e,exponent:a,integerLen:o}}(t);r&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let u=e.minInt,d=e.minFrac,h=e.maxFrac;if(s){const t=s.match(Ur);if(null===t)throw new Error(s+" is not a valid digit info");const e=t[1],o=t[3],n=t[5];null!=e&&(u=qr(e)),null!=o&&(d=qr(o)),null!=n?h=qr(n):null!=o&&d>h&&(h=d)}!function(t,e,o){if(e>o)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${o}).`);let n=t.digits,i=n.length-t.integerLen;const s=Math.min(Math.max(e,i),o);let r=s+t.integerLen,a=n[r];if(r>0){n.splice(Math.max(t.integerLen,r));for(let t=r;t<n.length;t++)n[t]=0}else{i=Math.max(0,i),t.integerLen=1,n.length=Math.max(1,r=s+1),n[0]=0;for(let t=1;t<r;t++)n[t]=0}if(a>=5)if(r-1<0){for(let e=0;e>r;e--)n.unshift(0),t.integerLen++;n.unshift(1),t.integerLen++}else n[r-1]++;for(;i<Math.max(0,s);i++)n.push(0);let l=0!==s;const c=e+t.integerLen,u=n.reduceRight((function(t,e,o,n){return n[o]=(e+=t)<10?e:e-10,l&&(0===n[o]&&o>=c?n.pop():l=!1),e>=10?1:0}),0);u&&(n.unshift(u),t.integerLen++)}(c,d,h);let p=c.digits,m=c.integerLen;const f=c.exponent;let g=[];for(l=p.every(t=>!t);m<u;m++)p.unshift(0);for(;m<0;m++)p.unshift(0);m>0?g=p.splice(m,p.length):(g=p,p=[0]);const b=[];for(p.length>=e.lgSize&&b.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)b.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&b.unshift(p.join("")),a=b.join(Gr(o,n)),g.length&&(a+=Gr(o,i)+g.join("")),f&&(a+=Gr(o,Wr.Exponential)+"+"+f)}else a=Gr(o,Wr.Infinity);return a=t<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const o={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=t.split(";"),i=n[0],s=n[1],r=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=r[0],l=r[1]||"";o.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const t=l.charAt(u);"0"===t?o.minFrac=o.maxFrac=u+1:"#"===t?o.maxFrac=u+1:o.posSuf+=t}const c=a.split(",");if(o.gSize=c[1]?c[1].length:0,o.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const t=i.length-o.posPre.length-o.posSuf.length,e=s.indexOf("#");o.negPre=s.substr(0,e).replace(/'/g,""),o.negSuf=s.substr(e+t).replace(/'/g,"")}else o.negPre=e+o.posPre,o.negSuf=o.posSuf;return o}(function(t,e){return zs(t)[Is.NumberFormats][e]}(e,Vr.Decimal),Gr(e,Wr.MinusSign)),e,Wr.Group,Wr.Decimal,o)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}(e),n,o)}catch(i){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${lt(t)}'`)}(t,i.message)}}}return t.\u0275fac=function(e){return new(e||t)(Fi(er))},t.\u0275pipe=ee({name:"number",type:t,pure:!0}),t})(),Qr=(()=>{class t{}return t.\u0275mod=Kt({type:t}),t.\u0275inj=Q({factory:function(e){return new(e||t)},providers:[{provide:Yr,useClass:Zr}]}),t})();class ta extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new ta,Nr||(Nr=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,o){return t.addEventListener(e,o,!1),()=>{t.removeEventListener(e,o,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=oa||(oa=document.querySelector("base"),oa)?oa.getAttribute("href"):null;return null==e?null:(o=e,ea||(ea=document.createElement("a")),ea.setAttribute("href",o),"/"===ea.pathname.charAt(0)?ea.pathname:"/"+ea.pathname);var o}resetBaseElement(){oa=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const o of t.split(";")){const t=o.indexOf("="),[n,i]=-1==t?[o,""]:[o.slice(0,t),o.slice(t+1)];if(n.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let ea,oa=null;const na=new _t("TRANSITION_ID"),ia=[{provide:qs,useFactory:function(t,e,o){return()=>{o.get(Ys).donePromise.then(()=>{const o=Or();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>o.remove(t))})}},deps:[na,jr,xi],multi:!0}];class sa{static init(){var t;t=new sa,Mr=t}addToWindow(t){bt.getAngularTestability=(e,o=!0)=>{const n=t.findTestabilityInTree(e,o);if(null==n)throw new Error("Could not find testability for element.");return n},bt.getAllAngularTestabilities=()=>t.getAllTestabilities(),bt.getAllAngularRootElements=()=>t.getAllRootElements(),bt.frameworkStabilizers||(bt.frameworkStabilizers=[]),bt.frameworkStabilizers.push(t=>{const e=bt.getAllAngularTestabilities();let o=e.length,n=!1;const i=function(e){n=n||e,o--,0==o&&t(n)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,o){if(null==e)return null;const n=t.getTestability(e);return null!=n?n:o?Or().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const ra=new _t("EventManagerPlugins");let aa=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,o){return this._findPluginFor(e).addEventListener(t,e,o)}addGlobalEventListener(t,e,o){return this._findPluginFor(e).addGlobalEventListener(t,e,o)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const o=this._plugins;for(let n=0;n<o.length;n++){const e=o[n];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(zt(ra),zt(mr))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();class la{constructor(t){this._doc=t}addGlobalEventListener(t,e,o){const n=Or().getGlobalEventTarget(this._doc,t);if(!n)throw new Error(`Unsupported event target ${n} for event ${e}`);return this.addEventListener(n,e,o)}}let ca=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),ua=(()=>{class t extends ca{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const o=this._doc.createElement("style");o.textContent=t,this._styleNodes.add(e.appendChild(o))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Or().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(zt(jr))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const da={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ha=/%COMP%/g;function pa(t,e,o){for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)?pa(t,i,o):(i=i.replace(ha,t),o.push(i))}return o}function ma(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let fa=(()=>{class t{constructor(t,e,o){this.eventManager=t,this.sharedStylesHost=e,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new ga(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Gt.Emulated:{let o=this.rendererByCompId.get(e.id);return o||(o=new ba(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,o)),o.applyToHost(t),o}case Gt.Native:case Gt.ShadowDom:return new va(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=pa(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(zt(aa),zt(ua),zt(Zs))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();class ga{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(da[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,o){t&&t.insertBefore(e,o)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let o="string"==typeof t?document.querySelector(t):t;if(!o)throw new Error(`The selector "${t}" did not match any elements`);return e||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,o,n){if(n){e=n+":"+e;const i=da[n];i?t.setAttributeNS(i,e,o):t.setAttribute(e,o)}else t.setAttribute(e,o)}removeAttribute(t,e,o){if(o){const n=da[o];n?t.removeAttributeNS(n,e):t.removeAttribute(`${o}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,o,n){n&ns.DashCase?t.style.setProperty(e,o,n&ns.Important?"important":""):t.style[e]=o}removeStyle(t,e,o){o&ns.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,o){t[e]=o}setValue(t,e){t.nodeValue=e}listen(t,e,o){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ma(o)):this.eventManager.addEventListener(t,e,ma(o))}}class ba extends ga{constructor(t,e,o,n){super(t),this.component=o;const i=pa(n+"-"+o.id,o.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(ha,n+"-"+o.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(ha,t)}(n+"-"+o.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const o=super.createElement(t,e);return super.setAttribute(o,this.contentAttr,""),o}}class va extends ga{constructor(t,e,o,n){super(t),this.sharedStylesHost=e,this.hostEl=o,this.component=n,this.shadowRoot=n.encapsulation===Gt.ShadowDom?o.attachShadow({mode:"open"}):o.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=pa(n.id,n.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,o){return super.insertBefore(this.nodeOrShadowRoot(t),e,o)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ya=(()=>{class t extends la{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,o){return t.addEventListener(e,o,!1),()=>this.removeEventListener(t,e,o)}removeEventListener(t,e,o){return t.removeEventListener(e,o)}}return t.\u0275fac=function(e){return new(e||t)(zt(jr))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const wa=["alt","control","meta","shift"],Ea={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ca={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},xa={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Ra=(()=>{class t extends la{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,o,n){const i=t.parseEventName(o),s=t.eventCallback(i.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Or().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const o=e.toLowerCase().split("."),n=o.shift();if(0===o.length||"keydown"!==n&&"keyup"!==n)return null;const i=t._normalizeKey(o.pop());let s="";if(wa.forEach(t=>{const e=o.indexOf(t);e>-1&&(o.splice(e,1),s+=t+".")}),s+=i,0!=o.length||0===i.length)return null;const r={};return r.domEventName=n,r.fullKey=s,r}static getEventFullKey(t){let e="",o=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ca.hasOwnProperty(e)&&(e=Ca[e]))}return Ea[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),wa.forEach(n=>{n!=o&&(0,xa[n])(t)&&(e+=n+".")}),e+=o,e}static eventCallback(e,o,n){return i=>{t.getEventFullKey(i)===e&&n.runGuarded(()=>o(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(zt(jr))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const _a=kr(zr,"browser",[{provide:Ks,useValue:"browser"},{provide:Js,useValue:function(){ta.makeCurrent(),sa.init()},multi:!0},{provide:jr,useFactory:function(){return function(t){he=t}(document),document},deps:[]}]),Ma=[[],{provide:ui,useValue:"root"},{provide:So,useFactory:function(){return new So},deps:[]},{provide:ra,useClass:ya,multi:!0,deps:[jr,mr,Ks]},{provide:ra,useClass:Ra,multi:!0,deps:[jr]},[],{provide:fa,useClass:fa,deps:[aa,ua,Zs]},{provide:os,useExisting:fa},{provide:ca,useExisting:ua},{provide:ua,useClass:ua,deps:[jr]},{provide:Cr,useClass:Cr,deps:[mr]},{provide:aa,useClass:aa,deps:[ra,mr]},[]];let Ta=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Zs,useValue:e.appId},{provide:na,useExisting:Zs},ia]}}}return t.\u0275mod=Kt({type:t}),t.\u0275inj=Q({factory:function(e){return new(e||t)(zt(t,12))},providers:Ma,imports:[Qr,Ir]}),t})();"undefined"!=typeof window&&window;let Da=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Zt({type:t,selectors:[["app-header"]],decls:4,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"fa","fa-bitcoin"],["id","header-text"]],template:function(t,e){1&t&&(Oi(0,"nav",0),Vi(1,"i",1),Oi(2,"span",2),Wi(3,"Bitcoin Checker"),ji(),ji())},styles:["#header-text[_ngcontent-%COMP%]{padding-left:10px}"]}),t})();function ka(t,e){if(1&t&&(Oi(0,"h1",5),Wi(1),function(t,e){const o=De();let n;o.firstCreatePass?(n=function(t,e){if(e)for(let o=e.length-1;o>=0;o--){const t=e[o];if("number"===t.name)return t}throw new Error("The pipe 'number' could not be found!")}(0,o.pipeRegistry),o.data[22]=n,n.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(22,n.onDestroy)):n=o.data[22];const i=n.factory||(n.factory=ne(n.type)),s=Pt(Fi),r=mo(!1),a=i();mo(r),Pt(s),function(t,e,o,n){22>=t.data.length&&(t.data[22]=null,t.blueprint[22]=null),e[22]=n}(o,Te(),0,a)}(),ji()),2&t){const t=function(t=1){return function(t){return(_e.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,_e.lFrame.contextLView))[8]}(t)}();Qo(1),Gi(Ws(2,1,t.averageBitcoin,"1.0-2"))}}function La(t,e){1&t&&(Oi(0,"h1",5),Wi(1,"-"),ji())}let Sa=(()=>{class t{constructor(){this.tableData=[],this.dataPresent=!1}ngOnChanges(){let t=this.tableData.reduce((t,e)=>t+e.price,0)/this.tableData.length;isNaN(t)||(this.dataPresent=!0,this.averageBitcoin=t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Zt({type:t,selectors:[["app-average-calculator"]],inputs:{tableData:"tableData"},features:[Zi],decls:7,vars:2,consts:[[1,"card","bg-light"],[1,"card-body"],[1,"card-title"],["class","card-text",4,"ngIf","ngIfElse"],["noData",""],[1,"card-text"]],template:function(t,e){if(1&t&&(Oi(0,"div",0),Oi(1,"div",1),Oi(2,"h5",2),Wi(3,"Average Bitcoin Price (\u20ac)"),ji(),zi(4,ka,3,4,"h1",3),zi(5,La,2,0,"ng-template",null,4,Us),ji(),ji()),2&t){const t=ve(_e.lFrame.contextLView,6);Qo(4),Ii("ngIf",e.dataPresent)("ngIfElse",t)}},directives:[$r],pipes:[Kr],styles:[".card[_ngcontent-%COMP%]{width:17rem;margin-top:10px}.card[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{text-align:center}"]}),t})();var Aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),o=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var n=arguments[1],i=0;i<o;){var s=e[i];if(t.call(n,s,i,e))return i;i++}return-1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),o=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var n=arguments[1],i=0;i<o;){var s=e[i];if(t.call(n,s,i,e))return s;i++}}}),String.prototype.includes||(String.prototype.includes=function(t,e){if(t instanceof RegExp)throw TypeError("first argument must not be a RegExp");return void 0===e&&(e=0),-1!==this.indexOf(t,e)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var o=Object(this),n=o.length>>>0;if(0===n)return!1;for(var i,s,r=0|e,a=Math.max(r>=0?r:n-Math.abs(r),0);a<n;){if((i=o[a])===(s=t)||"number"==typeof i&&"number"==typeof s&&isNaN(i)&&isNaN(s))return!0;a++}return!1}}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(o[s]=i[s])}return o},writable:!0,configurable:!0});var Pa=function(t){this.table=t,this.blockHozScrollEvent=!1,this.headersElement=this.createHeadersElement(),this.element=this.createHeaderElement(),this.rowManager=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.element.insertBefore(this.headersElement,this.element.firstChild)};Pa.prototype.createHeadersElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-headers"),t},Pa.prototype.createHeaderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-header"),this.table.options.headerVisible||t.classList.add("tabulator-header-hidden"),t},Pa.prototype.initialize=function(){},Pa.prototype.setRowManager=function(t){this.rowManager=t},Pa.prototype.getElement=function(){return this.element},Pa.prototype.getHeadersElement=function(){return this.headersElement},Pa.prototype.scrollHorizontal=function(t){var e=this.element.scrollWidth-this.table.element.clientWidth;this.element.scrollLeft=t,this.element.style.marginLeft=t>e?-(t-e)+"px":0,this.scrollLeft=t,this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.scrollHorizontal()},Pa.prototype.generateColumnsFromRowData=function(t){var e,o,n=[],i=this.table.options.autoColumnsDefinitions;if(t&&t.length){for(var s in e=t[0]){var r={field:s,title:s},a=e[s];switch(void 0===a?"undefined":Aa(a)){case"undefined":o="string";break;case"boolean":o="boolean";break;case"object":o=Array.isArray(a)?"array":"string";break;default:o=isNaN(a)||""===a?a.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?"alphanum":"string":"number"}r.sorter=o,n.push(r)}if(i)switch(void 0===i?"undefined":Aa(i)){case"function":this.table.options.columns=i.call(this.table,n);break;case"object":Array.isArray(i)?n.forEach((function(t){var e=i.find((function(e){return e.field===t.field}));e&&Object.assign(t,e)})):n.forEach((function(t){i[t.field]&&Object.assign(t,i[t.field])})),this.table.options.columns=n}else this.table.options.columns=n;this.setColumns(this.table.options.columns)}},Pa.prototype.setColumns=function(t,e){for(var o=this;o.headersElement.firstChild;)o.headersElement.removeChild(o.headersElement.firstChild);o.columns=[],o.columnsByIndex=[],o.columnsByField={},o.table.modExists("frozenColumns")&&o.table.modules.frozenColumns.reset(),t.forEach((function(t,e){o._addColumn(t)})),o._reIndexColumns(),o.table.options.responsiveLayout&&o.table.modExists("responsiveLayout",!0)&&o.table.modules.responsiveLayout.initialize(),this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitialize(!1,!0),o.redraw(!0)},Pa.prototype._addColumn=function(t,e,o){var n=new za(t,this),i=n.getElement(),s=o?this.findColumnIndex(o):o;if(o&&s>-1){var r=this.columns.indexOf(o.getTopColumn()),a=o.getElement();e?(this.columns.splice(r,0,n),a.parentNode.insertBefore(i,a)):(this.columns.splice(r+1,0,n),a.parentNode.insertBefore(i,a.nextSibling))}else e?(this.columns.unshift(n),this.headersElement.insertBefore(n.getElement(),this.headersElement.firstChild)):(this.columns.push(n),this.headersElement.appendChild(n.getElement())),n.columnRendered();return n},Pa.prototype.registerColumnField=function(t){t.definition.field&&(this.columnsByField[t.definition.field]=t)},Pa.prototype.registerColumnPosition=function(t){this.columnsByIndex.push(t)},Pa.prototype._reIndexColumns=function(){this.columnsByIndex=[],this.columns.forEach((function(t){t.reRegisterPosition()}))},Pa.prototype._verticalAlignHeaders=function(){var t=this,e=0;t.columns.forEach((function(t){var o;t.clearVerticalAlign(),(o=t.getHeight())>e&&(e=o)})),t.columns.forEach((function(o){o.verticalAlign(t.table.options.columnHeaderVertAlign,e)})),t.rowManager.adjustTableSize()},Pa.prototype.findColumn=function(t){return"object"!=(void 0===t?"undefined":Aa(t))?this.columnsByField[t]||!1:t instanceof za?t:t instanceof Ha?t._getSelf()||!1:"undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&this.columns.find((function(e){return e.element===t}))||!1},Pa.prototype.getColumnByField=function(t){return this.columnsByField[t]},Pa.prototype.getColumnsByFieldRoot=function(t){var e=this,o=[];return Object.keys(this.columnsByField).forEach((function(n){n.split(".")[0]===t&&o.push(e.columnsByField[n])})),o},Pa.prototype.getColumnByIndex=function(t){return this.columnsByIndex[t]},Pa.prototype.getFirstVisibileColumn=function(t){return(t=this.columnsByIndex.findIndex((function(t){return t.visible})))>-1&&this.columnsByIndex[t]},Pa.prototype.getColumns=function(){return this.columns},Pa.prototype.findColumnIndex=function(t){return this.columnsByIndex.findIndex((function(e){return t===e}))},Pa.prototype.getRealColumns=function(){return this.columnsByIndex},Pa.prototype.traverse=function(t){this.columnsByIndex.forEach((function(e,o){t(e,o)}))},Pa.prototype.getDefinitions=function(t){var e=[];return this.columnsByIndex.forEach((function(o){(!t||t&&o.visible)&&e.push(o.getDefinition())})),e},Pa.prototype.getDefinitionTree=function(){var t=[];return this.columns.forEach((function(e){t.push(e.getDefinition(!0))})),t},Pa.prototype.getComponents=function(t){var e=[];return(t?this.columns:this.columnsByIndex).forEach((function(t){e.push(t.getComponent())})),e},Pa.prototype.getWidth=function(){var t=0;return this.columnsByIndex.forEach((function(e){e.visible&&(t+=e.getWidth())})),t},Pa.prototype.moveColumn=function(t,e,o){this.moveColumnActual(t,e,o),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),e.element.parentNode.insertBefore(t.element,e.element),o&&e.element.parentNode.insertBefore(e.element,t.element),this._verticalAlignHeaders(),this.table.rowManager.reinitialize()},Pa.prototype.moveColumnActual=function(t,e,o){this._moveColumnInArray(t.parent.isGroup?t.parent.columns:this.columns,t,e,o),this._moveColumnInArray(this.columnsByIndex,t,e,o,!0),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitialize(!0),this.table.options.columnMoved&&this.table.options.columnMoved.call(this.table,t.getComponent(),this.table.columnManager.getComponents()),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns")},Pa.prototype._moveColumnInArray=function(t,e,o,n,i){var s,r=this,a=t.indexOf(e),l=[];a>-1&&(t.splice(a,1),(s=t.indexOf(o))>-1?n&&(s+=1):s=a,t.splice(s,0,e),i&&(this.table.options.dataTree&&this.table.modExists("dataTree",!0)&&this.table.rowManager.rows.forEach((function(t){l=l.concat(r.table.modules.dataTree.getTreeChildren(t,!1,!0))})),(l=l.concat(this.table.rowManager.rows)).forEach((function(t){if(t.cells.length){var e=t.cells.splice(a,1)[0];t.cells.splice(s,0,e)}}))))},Pa.prototype.scrollToColumn=function(t,e,o){var n=this,i=0,s=0,r=0,a=t.getElement();return new Promise((function(l,c){if(void 0===e&&(e=n.table.options.scrollToColumnPosition),void 0===o&&(o=n.table.options.scrollToColumnIfVisible),t.visible){switch(e){case"middle":case"center":r=-n.element.clientWidth/2;break;case"right":r=a.clientWidth-n.headersElement.clientWidth}if(!o&&(s=a.offsetLeft)>0&&s+a.offsetWidth<n.element.clientWidth)return!1;i=a.offsetLeft+r,i=Math.max(Math.min(i,n.table.rowManager.element.scrollWidth-n.table.rowManager.element.clientWidth),0),n.table.rowManager.scrollHorizontal(i),n.scrollHorizontal(i),l()}else console.warn("Scroll Error - Column not visible"),c("Scroll Error - Column not visible")}))},Pa.prototype.generateCells=function(t){var e=[];return this.columnsByIndex.forEach((function(o){e.push(o.generateCell(t))})),e},Pa.prototype.getFlexBaseWidth=function(){var t=this,e=t.table.element.clientWidth,o=0;return t.rowManager.element.scrollHeight>t.rowManager.element.clientHeight&&(e-=t.rowManager.element.offsetWidth-t.rowManager.element.clientWidth),this.columnsByIndex.forEach((function(n){var i,s,r;n.visible&&(i=n.definition.width||0,s=void 0===n.minWidth?t.table.options.columnMinWidth:parseInt(n.minWidth),r="string"==typeof i?i.indexOf("%")>-1?e/100*parseInt(i):parseInt(i):i,o+=r>s?r:s)})),o},Pa.prototype.addColumn=function(t,e,o){var n=this;return new Promise((function(i,s){var r=n._addColumn(t,e,o);n._reIndexColumns(),n.table.options.responsiveLayout&&n.table.modExists("responsiveLayout",!0)&&n.table.modules.responsiveLayout.initialize(),n.table.modExists("columnCalcs")&&n.table.modules.columnCalcs.recalc(n.table.rowManager.activeRows),n.redraw(),"fitColumns"!=n.table.modules.layout.getMode()&&r.reinitializeWidth(),n._verticalAlignHeaders(),n.table.rowManager.reinitialize(),n.table.options.virtualDomHoz&&n.table.vdomHoz.reinitialize(),i(r)}))},Pa.prototype.deregisterColumn=function(t){var e,o=t.getField();o&&delete this.columnsByField[o],(e=this.columnsByIndex.indexOf(t))>-1&&this.columnsByIndex.splice(e,1),(e=this.columns.indexOf(t))>-1&&this.columns.splice(e,1),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this._verticalAlignHeaders(),this.redraw()},Pa.prototype.redraw=function(t){t&&(Wa.prototype.helpers.elVisible(this.element)&&this._verticalAlignHeaders(),this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),["fitColumns","fitDataStretch"].indexOf(this.table.modules.layout.getMode())>-1||t?this.table.modules.layout.layout():this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout(),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),t&&(this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns"),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.redraw()),this.table.footerManager.redraw()};var Ha=function(t){this._column=t,this.type="ColumnComponent"};Ha.prototype.getElement=function(){return this._column.getElement()},Ha.prototype.getDefinition=function(){return this._column.getDefinition()},Ha.prototype.getField=function(){return this._column.getField()},Ha.prototype.getCells=function(){var t=[];return this._column.cells.forEach((function(e){t.push(e.getComponent())})),t},Ha.prototype.getVisibility=function(){return console.warn("getVisibility function is deprecated, you should now use the isVisible function"),this._column.visible},Ha.prototype.isVisible=function(){return this._column.visible},Ha.prototype.show=function(){this._column.isGroup?this._column.columns.forEach((function(t){t.show()})):this._column.show()},Ha.prototype.hide=function(){this._column.isGroup?this._column.columns.forEach((function(t){t.hide()})):this._column.hide()},Ha.prototype.toggle=function(){this._column.visible?this.hide():this.show()},Ha.prototype.delete=function(){return this._column.delete()},Ha.prototype.getSubColumns=function(){var t=[];return this._column.columns.length&&this._column.columns.forEach((function(e){t.push(e.getComponent())})),t},Ha.prototype.getParentColumn=function(){return this._column.parent instanceof za&&this._column.parent.getComponent()},Ha.prototype._getSelf=function(){return this._column},Ha.prototype.scrollTo=function(){return this._column.table.columnManager.scrollToColumn(this._column)},Ha.prototype.getTable=function(){return this._column.table},Ha.prototype.headerFilterFocus=function(){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.setHeaderFilterFocus(this._column)},Ha.prototype.reloadHeaderFilter=function(){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.reloadHeaderFilter(this._column)},Ha.prototype.getHeaderFilterValue=function(){if(this._column.table.modExists("filter",!0))return this._column.table.modules.filter.getHeaderFilterValue(this._column)},Ha.prototype.setHeaderFilterValue=function(t){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.setHeaderFilterValue(this._column,t)},Ha.prototype.move=function(t,e){var o=this._column.table.columnManager.findColumn(t);o?this._column.table.columnManager.moveColumn(this._column,o,e):console.warn("Move Error - No matching column found:",o)},Ha.prototype.getNextColumn=function(){var t=this._column.nextColumn();return!!t&&t.getComponent()},Ha.prototype.getPrevColumn=function(){var t=this._column.prevColumn();return!!t&&t.getComponent()},Ha.prototype.updateDefinition=function(t){return this._column.updateDefinition(t)},Ha.prototype.getWidth=function(){return this._column.getWidth()},Ha.prototype.setWidth=function(t){var e;return e=!0===t?this._column.reinitializeWidth(!0):this._column.setWidth(t),this._column.table.options.virtualDomHoz&&this._column.table.vdomHoz.reinitialize(!0),e},Ha.prototype.validate=function(){return this._column.validate()};var za=function t(e,o){var n=this;this.table=o.table,this.definition=e,this.parent=o,this.type="column",this.columns=[],this.cells=[],this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.isGroup=!1,this.tooltip=!1,this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleFormatterRendered=!1,this.setField(this.definition.field),this.table.options.invalidOptionWarnings&&this.checkDefinition(),this.modules={},this.cellEvents={cellClick:!1,cellDblClick:!1,cellContext:!1,cellTap:!1,cellDblTap:!1,cellTapHold:!1,cellMouseEnter:!1,cellMouseLeave:!1,cellMouseOver:!1,cellMouseOut:!1,cellMouseMove:!1},this.width=null,this.widthStyled="",this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this._mapDepricatedFunctionality(),e.columns?(this.isGroup=!0,e.columns.forEach((function(e,o){var i=new t(e,n);n.attachColumn(i)})),n.checkColumnVisibility()):o.registerColumnField(this),e.rowHandle&&!1!==this.table.options.movableRows&&this.table.modExists("moveRow")&&this.table.modules.moveRow.setHandle(!0),this._buildHeader(),this.bindModuleColumns()};za.prototype.createElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-col"),t.setAttribute("role","columnheader"),t.setAttribute("aria-sort","none"),t},za.prototype.createGroupElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-col-group-cols"),t},za.prototype.checkDefinition=function(){var t=this;Object.keys(this.definition).forEach((function(e){-1===t.defaultOptionList.indexOf(e)&&console.warn("Invalid column definition option in '"+(t.field||t.definition.title)+"' column:",e)}))},za.prototype.setField=function(t){this.field=t,this.fieldStructure=t?this.table.options.nestedFieldSeparator?t.split(this.table.options.nestedFieldSeparator):[t]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData},za.prototype.registerColumnPosition=function(t){this.parent.registerColumnPosition(t)},za.prototype.registerColumnField=function(t){this.parent.registerColumnField(t)},za.prototype.reRegisterPosition=function(){this.isGroup?this.columns.forEach((function(t){t.reRegisterPosition()})):this.registerColumnPosition(this)},za.prototype._mapDepricatedFunctionality=function(){void 0!==this.definition.hideInHtml&&(this.definition.htmlOutput=!this.definition.hideInHtml,console.warn("hideInHtml column definition property is deprecated, you should now use htmlOutput")),void 0!==this.definition.align&&(this.definition.hozAlign=this.definition.align,console.warn("align column definition property is deprecated, you should now use hozAlign")),void 0!==this.definition.downloadTitle&&(this.definition.titleDownload=this.definition.downloadTitle,console.warn("downloadTitle definition property is deprecated, you should now use titleDownload"))},za.prototype.setTooltip=function(){var t=this,e=t.definition,o=e.headerTooltip||!1===e.tooltip?e.headerTooltip:t.table.options.tooltipsHeader;o?!0===o?e.field?t.table.modules.localize.bind("columns|"+e.field,(function(o){t.element.setAttribute("title",o||e.title)})):t.element.setAttribute("title",e.title):("function"==typeof o&&!1===(o=o(t.getComponent()))&&(o=""),t.element.setAttribute("title",o)):t.element.setAttribute("title","")},za.prototype._buildHeader=function(){for(var t=this,e=t.definition;t.element.firstChild;)t.element.removeChild(t.element.firstChild);e.headerVertical&&(t.element.classList.add("tabulator-col-vertical"),"flip"===e.headerVertical&&t.element.classList.add("tabulator-col-vertical-flip")),t.contentElement=t._bindEvents(),t.contentElement=t._buildColumnHeaderContent(),t.element.appendChild(t.contentElement),t.isGroup?t._buildGroupHeader():t._buildColumnHeader(),t.setTooltip(),t.table.options.resizableColumns&&t.table.modExists("resizeColumns")&&t.table.modules.resizeColumns.initializeColumn("header",t,t.element),e.headerFilter&&t.table.modExists("filter")&&t.table.modExists("edit")&&(void 0!==e.headerFilterPlaceholder&&e.field&&t.table.modules.localize.setHeaderFilterColumnPlaceholder(e.field,e.headerFilterPlaceholder),t.table.modules.filter.initializeColumn(t)),t.table.modExists("frozenColumns")&&t.table.modules.frozenColumns.initializeColumn(t),t.table.options.movableColumns&&!t.isGroup&&t.table.modExists("moveColumn")&&t.table.modules.moveColumn.initializeColumn(t),(e.topCalc||e.bottomCalc)&&t.table.modExists("columnCalcs")&&t.table.modules.columnCalcs.initializeColumn(t),t.table.modExists("persistence")&&t.table.modules.persistence.config.columns&&t.table.modules.persistence.initializeColumn(t),t.element.addEventListener("mouseenter",(function(e){t.setTooltip()}))},za.prototype._bindEvents=function(){var t,e,o,n=this,i=n.definition;"function"==typeof i.headerClick&&n.element.addEventListener("click",(function(t){i.headerClick(t,n.getComponent())})),"function"==typeof i.headerDblClick&&n.element.addEventListener("dblclick",(function(t){i.headerDblClick(t,n.getComponent())})),"function"==typeof i.headerContext&&n.element.addEventListener("contextmenu",(function(t){i.headerContext(t,n.getComponent())})),"function"==typeof i.headerTap&&(o=!1,n.element.addEventListener("touchstart",(function(t){o=!0}),{passive:!0}),n.element.addEventListener("touchend",(function(t){o&&i.headerTap(t,n.getComponent()),o=!1}))),"function"==typeof i.headerDblTap&&(t=null,n.element.addEventListener("touchend",(function(e){t?(clearTimeout(t),t=null,i.headerDblTap(e,n.getComponent())):t=setTimeout((function(){clearTimeout(t),t=null}),300)}))),"function"==typeof i.headerTapHold&&(e=null,n.element.addEventListener("touchstart",(function(t){clearTimeout(e),e=setTimeout((function(){clearTimeout(e),e=null,o=!1,i.headerTapHold(t,n.getComponent())}),1e3)}),{passive:!0}),n.element.addEventListener("touchend",(function(t){clearTimeout(e),e=null}))),"function"==typeof i.cellClick&&(n.cellEvents.cellClick=i.cellClick),"function"==typeof i.cellDblClick&&(n.cellEvents.cellDblClick=i.cellDblClick),"function"==typeof i.cellContext&&(n.cellEvents.cellContext=i.cellContext),"function"==typeof i.cellMouseEnter&&(n.cellEvents.cellMouseEnter=i.cellMouseEnter),"function"==typeof i.cellMouseLeave&&(n.cellEvents.cellMouseLeave=i.cellMouseLeave),"function"==typeof i.cellMouseOver&&(n.cellEvents.cellMouseOver=i.cellMouseOver),"function"==typeof i.cellMouseOut&&(n.cellEvents.cellMouseOut=i.cellMouseOut),"function"==typeof i.cellMouseMove&&(n.cellEvents.cellMouseMove=i.cellMouseMove),"function"==typeof i.cellTap&&(n.cellEvents.cellTap=i.cellTap),"function"==typeof i.cellDblTap&&(n.cellEvents.cellDblTap=i.cellDblTap),"function"==typeof i.cellTapHold&&(n.cellEvents.cellTapHold=i.cellTapHold),"function"==typeof i.cellEdited&&(n.cellEvents.cellEdited=i.cellEdited),"function"==typeof i.cellEditing&&(n.cellEvents.cellEditing=i.cellEditing),"function"==typeof i.cellEditCancelled&&(n.cellEvents.cellEditCancelled=i.cellEditCancelled)},za.prototype._buildColumnHeader=function(){var t=this,e=this.definition,o=this.table;o.modExists("sort")&&o.modules.sort.initializeColumn(this,this.titleHolderElement),(e.headerContextMenu||e.headerClickMenu||e.headerMenu)&&o.modExists("menu")&&o.modules.menu.initializeColumnHeader(this),o.modExists("format")&&o.modules.format.initializeColumn(this),void 0!==e.editor&&o.modExists("edit")&&o.modules.edit.initializeColumn(this),void 0!==e.validator&&o.modExists("validate")&&o.modules.validate.initializeColumn(this),o.modExists("mutator")&&o.modules.mutator.initializeColumn(this),o.modExists("accessor")&&o.modules.accessor.initializeColumn(this),Aa(o.options.responsiveLayout)&&o.modExists("responsiveLayout")&&o.modules.responsiveLayout.initializeColumn(this),void 0!==e.visible&&(e.visible?this.show(!0):this.hide(!0)),e.cssClass&&e.cssClass.split(" ").forEach((function(e){t.element.classList.add(e)})),e.field&&this.element.setAttribute("tabulator-field",e.field),this.setMinWidth(void 0===e.minWidth?this.table.options.columnMinWidth:parseInt(e.minWidth)),this.reinitializeWidth(),this.tooltip=this.definition.tooltip||!1===this.definition.tooltip?this.definition.tooltip:this.table.options.tooltips,this.hozAlign=void 0===this.definition.hozAlign?this.table.options.cellHozAlign:this.definition.hozAlign,this.vertAlign=void 0===this.definition.vertAlign?this.table.options.cellVertAlign:this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign||this.table.options.headerHozAlign},za.prototype._buildColumnHeaderContent=function(){var t=document.createElement("div");return t.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),t.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),t},za.prototype._buildColumnHeaderTitle=function(){var t=this,e=t.definition,o=t.table,n=document.createElement("div");if(n.classList.add("tabulator-col-title"),e.editableTitle){var i=document.createElement("input");i.classList.add("tabulator-title-editor"),i.addEventListener("click",(function(t){t.stopPropagation(),i.focus()})),i.addEventListener("change",(function(){e.title=i.value,o.options.columnTitleChanged.call(t.table,t.getComponent())})),n.appendChild(i),e.field?o.modules.localize.bind("columns|"+e.field,(function(t){i.value=t||e.title||"&nbsp;"})):i.value=e.title||"&nbsp;"}else e.field?o.modules.localize.bind("columns|"+e.field,(function(o){t._formatColumnHeaderTitle(n,o||e.title||"&nbsp;")})):t._formatColumnHeaderTitle(n,e.title||"&nbsp;");return n},za.prototype._formatColumnHeaderTitle=function(t,e){var o,n,i,s,r,a=this;if(this.definition.titleFormatter&&this.table.modExists("format"))switch(o=this.table.modules.format.getFormatter(this.definition.titleFormatter),r=function(t){a.titleFormatterRendered=t},s={getValue:function(){return e},getElement:function(){return t}},i="function"==typeof(i=this.definition.titleFormatterParams||{})?i():i,void 0===(n=o.call(this.table.modules.format,s,i,r))?"undefined":Aa(n)){case"object":n instanceof Node?t.appendChild(n):(t.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",n));break;case"undefined":case"null":t.innerHTML="";break;default:t.innerHTML=n}else t.innerHTML=e},za.prototype._buildGroupHeader=function(){var t=this;this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass&&this.definition.cssClass.split(" ").forEach((function(e){t.element.classList.add(e)})),(this.definition.headerContextMenu||this.definition.headerMenu)&&this.table.modExists("menu")&&this.table.modules.menu.initializeColumnHeader(this),this.element.appendChild(this.groupElement)},za.prototype._getFlatData=function(t){return t[this.field]},za.prototype._getNestedData=function(t){for(var e,o=t,n=this.fieldStructure,i=n.length,s=0;s<i&&(e=o=o[n[s]],o);s++);return e},za.prototype._setFlatData=function(t,e){this.field&&(t[this.field]=e)},za.prototype._setNestedData=function(t,e){for(var o=t,n=this.fieldStructure,i=n.length,s=0;s<i;s++)if(s==i-1)o[n[s]]=e;else{if(!o[n[s]]){if(void 0===e)break;o[n[s]]={}}o=o[n[s]]}},za.prototype.attachColumn=function(t){this.groupElement?(this.columns.push(t),this.groupElement.appendChild(t.getElement())):console.warn("Column Warning - Column being attached to another column instead of column group")},za.prototype.verticalAlign=function(t,e){var o=this.parent.isGroup?this.parent.getGroupElement().clientHeight:e||this.parent.getHeadersElement().clientHeight;this.element.style.height=o+"px",this.isGroup&&(this.groupElement.style.minHeight=o-this.contentElement.offsetHeight+"px"),this.isGroup||"top"===t||(this.element.style.paddingTop="bottom"===t?this.element.clientHeight-this.contentElement.offsetHeight+"px":(this.element.clientHeight-this.contentElement.offsetHeight)/2+"px"),this.columns.forEach((function(e){e.verticalAlign(t)}))},za.prototype.clearVerticalAlign=function(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach((function(t){t.clearVerticalAlign()}))},za.prototype.bindModuleColumns=function(){"rownum"==this.definition.formatter&&(this.table.rowManager.rowNumColumn=this)},za.prototype.getElement=function(){return this.element},za.prototype.getGroupElement=function(){return this.groupElement},za.prototype.getField=function(){return this.field},za.prototype.getFirstColumn=function(){return this.isGroup?!!this.columns.length&&this.columns[0].getFirstColumn():this},za.prototype.getLastColumn=function(){return this.isGroup?!!this.columns.length&&this.columns[this.columns.length-1].getLastColumn():this},za.prototype.getColumns=function(){return this.columns},za.prototype.getCells=function(){return this.cells},za.prototype.getTopColumn=function(){return this.parent.isGroup?this.parent.getTopColumn():this},za.prototype.getDefinition=function(t){var e=[];return this.isGroup&&t&&(this.columns.forEach((function(t){e.push(t.getDefinition(!0))})),this.definition.columns=e),this.definition},za.prototype.checkColumnVisibility=function(){var t=!1;this.columns.forEach((function(e){e.visible&&(t=!0)})),t?(this.show(),this.parent.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!1)):this.hide()},za.prototype.show=function(t,e){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach((function(t){t.show()})),this.isGroup||null!==this.width||this.reinitializeWidth(),this.table.columnManager._verticalAlignHeaders(),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns"),!e&&this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.updateColumnVisibility(this,this.visible),t||this.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths())},za.prototype.hide=function(t,e){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager._verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach((function(t){t.hide()})),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns"),!e&&this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.updateColumnVisibility(this,this.visible),t||this.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths())},za.prototype.matchChildWidths=function(){var t=0;this.contentElement&&this.columns.length&&(this.columns.forEach((function(e){e.visible&&(t+=e.getWidth())})),this.contentElement.style.maxWidth=t-1+"px",this.parent.isGroup&&this.parent.matchChildWidths())},za.prototype.setWidth=function(t){this.widthFixed=!0,this.setWidthActual(t)},za.prototype.setWidthActual=function(t){isNaN(t)&&(t=Math.floor(this.table.element.clientWidth/100*parseInt(t))),t=Math.max(this.minWidth,t),this.width=t,this.widthStyled=t?t+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach((function(t){t.setWidth()})),this.parent.isGroup&&this.parent.matchChildWidths(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()},za.prototype.checkCellHeights=function(){var t=[];this.cells.forEach((function(e){e.row.heightInitialized&&(null!==e.row.getElement().offsetParent?(t.push(e.row),e.row.clearCellHeight()):e.row.heightInitialized=!1)})),t.forEach((function(t){t.calcHeight()})),t.forEach((function(t){t.setCellHeight()}))},za.prototype.getWidth=function(){var t=0;return this.isGroup?this.columns.forEach((function(e){e.visible&&(t+=e.getWidth())})):t=this.width,t},za.prototype.getHeight=function(){return this.element.offsetHeight},za.prototype.setMinWidth=function(t){this.minWidth=t,this.minWidthStyled=t?t+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach((function(t){t.setMinWidth()}))},za.prototype.delete=function(){var t=this;return new Promise((function(e,o){t.isGroup&&t.columns.forEach((function(t){t.delete()})),t.table.modExists("edit")&&t.table.modules.edit.currentCell.column===t&&t.table.modules.edit.cancelEdit();for(var n=t.cells.length,i=0;i<n;i++)t.cells[0].delete();t.element.parentNode&&t.element.parentNode.removeChild(t.element),t.element=!1,t.contentElement=!1,t.titleElement=!1,t.groupElement=!1,t.table.columnManager.deregisterColumn(t),t.table.options.virtualDomHoz&&t.table.vdomHoz.reinitialize(!0),e()}))},za.prototype.columnRendered=function(){this.titleFormatterRendered&&this.titleFormatterRendered()},za.prototype.validate=function(){var t=[];return this.cells.forEach((function(e){e.validate()||t.push(e.getComponent())})),!t.length||t},za.prototype.generateCell=function(t){var e=new Va(this,t);return this.cells.push(e),e},za.prototype.nextColumn=function(){var t=this.table.columnManager.findColumnIndex(this);return t>-1&&this._nextVisibleColumn(t+1)},za.prototype._nextVisibleColumn=function(t){var e=this.table.columnManager.getColumnByIndex(t);return!e||e.visible?e:this._nextVisibleColumn(t+1)},za.prototype.prevColumn=function(){var t=this.table.columnManager.findColumnIndex(this);return t>-1&&this._prevVisibleColumn(t-1)},za.prototype._prevVisibleColumn=function(t){var e=this.table.columnManager.getColumnByIndex(t);return!e||e.visible?e:this._prevVisibleColumn(t-1)},za.prototype.reinitializeWidth=function(t){this.widthFixed=!1,void 0===this.definition.width||t||this.setWidth(this.definition.width),this.table.modExists("filter")&&this.table.modules.filter.hideHeaderFilterElements(),this.fitToData(),this.table.modExists("filter")&&this.table.modules.filter.showHeaderFilterElements()},za.prototype.fitToData=function(){this.widthFixed||(this.element.style.width="",this.cells.forEach((function(t){t.clearWidth()})));var t=this.element.offsetWidth;this.width&&this.widthFixed||(this.cells.forEach((function(e){var o=e.getWidth();o>t&&(t=o)})),t&&this.setWidthActual(t+1))},za.prototype.updateDefinition=function(t){var e=this;return new Promise((function(o,n){var i;e.isGroup?(console.warn("Column Update Error - The updateDefinition function is only available on columns, not column groups"),n("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(i=Object.assign({},e.getDefinition()),i=Object.assign(i,t),e.table.columnManager.addColumn(i,!1,e).then((function(t){i.field==e.field&&(e.field=!1),e.delete().then((function(){o(t.getComponent())})).catch((function(t){n(t)}))})).catch((function(t){n(t)})))}))},za.prototype.deleteCell=function(t){var e=this.cells.indexOf(t);e>-1&&this.cells.splice(e,1)},za.prototype.defaultOptionList=["title","field","columns","visible","align","hozAlign","vertAlign","width","minWidth","widthGrow","widthShrink","resizable","frozen","responsive","tooltip","cssClass","rowHandle","hideInHtml","print","htmlOutput","sorter","sorterParams","formatter","formatterParams","variableHeight","editable","editor","editorParams","validator","mutator","mutatorParams","mutatorData","mutatorDataParams","mutatorEdit","mutatorEditParams","mutatorClipboard","mutatorClipboardParams","accessor","accessorParams","accessorData","accessorDataParams","accessorDownload","accessorDownloadParams","accessorClipboard","accessorClipboardParams","accessorPrint","accessorPrintParams","accessorHtmlOutput","accessorHtmlOutputParams","clipboard","download","downloadTitle","topCalc","topCalcParams","topCalcFormatter","topCalcFormatterParams","bottomCalc","bottomCalcParams","bottomCalcFormatter","bottomCalcFormatterParams","cellClick","cellDblClick","cellContext","cellTap","cellDblTap","cellTapHold","cellMouseEnter","cellMouseLeave","cellMouseOver","cellMouseOut","cellMouseMove","cellEditing","cellEdited","cellEditCancelled","headerSort","headerSortStartingDir","headerSortTristate","headerClick","headerDblClick","headerContext","headerTap","headerDblTap","headerTapHold","headerTooltip","headerVertical","headerHozAlign","editableTitle","titleFormatter","titleFormatterParams","headerFilter","headerFilterPlaceholder","headerFilterParams","headerFilterEmptyCheck","headerFilterFunc","headerFilterFuncParams","headerFilterLiveFilter","print","headerContextMenu","headerMenu","contextMenu","clickMenu","formatterPrint","formatterPrintParams","formatterClipboard","formatterClipboardParams","formatterHtmlOutput","formatterHtmlOutputParams","titlePrint","titleClipboard","titleHtmlOutput","titleDownload"],za.prototype.getComponent=function(){return this.component||(this.component=new Ha(this)),this.component};var Fa=function(t){this.table=t,this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.columnManager=null,this.height=0,this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[],this.rowNumColumn=!1,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRederInPosition=!1};Fa.prototype.createHolderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-tableHolder"),t.setAttribute("tabindex",0),t},Fa.prototype.createTableElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-table"),t},Fa.prototype.getElement=function(){return this.element},Fa.prototype.getTableElement=function(){return this.tableElement},Fa.prototype.getRowPosition=function(t,e){return e?this.activeRows.indexOf(t):this.rows.indexOf(t)},Fa.prototype.setColumnManager=function(t){this.columnManager=t},Fa.prototype.initialize=function(){var t=this;t.setRenderMode(),t.element.appendChild(t.tableElement),t.firstRender=!0,t.element.addEventListener("scroll",(function(){var e=t.element.scrollLeft;t.scrollLeft!=e&&(t.columnManager.scrollHorizontal(e),t.table.options.groupBy&&t.table.modules.groupRows.scrollHeaders(e),t.table.modExists("columnCalcs")&&t.table.modules.columnCalcs.scrollHorizontal(e),t.table.options.scrollHorizontal(e)),t.scrollLeft=e})),"virtual"===this.renderMode&&t.element.addEventListener("scroll",(function(){var e=t.element.scrollTop,o=t.scrollTop>e;t.scrollTop!=e?(t.scrollTop=e,t.scrollVertical(o),"scroll"==t.table.options.ajaxProgressiveLoad&&t.table.modules.ajax.nextPage(t.element.scrollHeight-t.element.clientHeight-e),t.table.options.scrollVertical(e)):t.scrollTop=e}))},Fa.prototype.findRow=function(t){var e=this;return"object"!=(void 0===t?"undefined":Aa(t))?null!=t&&(e.rows.find((function(o){return o.data[e.table.options.index]==t}))||!1):t instanceof Oa?t:t instanceof Na?t._getSelf()||!1:"undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&e.rows.find((function(e){return e.element===t}))||!1},Fa.prototype.getRowFromDataObject=function(t){return this.rows.find((function(e){return e.data===t}))||!1},Fa.prototype.getRowFromPosition=function(t,e){return e?this.activeRows[t]:this.rows[t]},Fa.prototype.scrollToRow=function(t,e,o){var n,i=this,s=this.getDisplayRows().indexOf(t),r=t.getElement(),a=0;return new Promise((function(t,l){if(s>-1){if(void 0===e&&(e=i.table.options.scrollToRowPosition),void 0===o&&(o=i.table.options.scrollToRowIfVisible),"nearest"===e)switch(i.renderMode){case"classic":n=Wa.prototype.helpers.elOffset(r).top,e=Math.abs(i.element.scrollTop-n)>Math.abs(i.element.scrollTop+i.element.clientHeight-n)?"bottom":"top";break;case"virtual":e=Math.abs(i.vDomTop-s)>Math.abs(i.vDomBottom-s)?"bottom":"top"}if(!o&&Wa.prototype.helpers.elVisible(r)&&(a=Wa.prototype.helpers.elOffset(r).top-Wa.prototype.helpers.elOffset(i.element).top)>0&&a<i.element.clientHeight-r.offsetHeight)return!1;switch(i.renderMode){case"classic":i.element.scrollTop=Wa.prototype.helpers.elOffset(r).top-Wa.prototype.helpers.elOffset(i.element).top+i.element.scrollTop;break;case"virtual":i._virtualRenderFill(s,!0)}switch(e){case"middle":case"center":i.element.scrollTop=i.element.scrollHeight-i.element.scrollTop==i.element.clientHeight?i.element.scrollTop+(r.offsetTop-i.element.scrollTop)-(i.element.scrollHeight-r.offsetTop)/2:i.element.scrollTop-i.element.clientHeight/2;break;case"bottom":i.element.scrollTop=i.element.scrollHeight-i.element.scrollTop==i.element.clientHeight?i.element.scrollTop-(i.element.scrollHeight-r.offsetTop)+r.offsetHeight:i.element.scrollTop-i.element.clientHeight+r.offsetHeight}t()}else console.warn("Scroll Error - Row not visible"),l("Scroll Error - Row not visible")}))},Fa.prototype.setData=function(t,e,o){var n=this,i=this;return new Promise((function(s,r){e&&n.getDisplayRows().length?i.table.options.pagination?i._setDataActual(t,!0):n.reRenderInPosition((function(){i._setDataActual(t)})):(n.table.options.autoColumns&&o&&n.table.columnManager.generateColumnsFromRowData(t),n.resetScroll(),n._setDataActual(t)),s()}))},Fa.prototype._setDataActual=function(t,e){var o=this;o.table.options.dataLoading.call(this.table,t),this._wipeElements(),this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.clear(),Array.isArray(t)?(this.table.modExists("selectRow")&&this.table.modules.selectRow.clearSelectionData(),this.table.options.reactiveData&&this.table.modExists("reactiveData",!0)&&this.table.modules.reactiveData.watchData(t),t.forEach((function(t,e){if(t&&"object"===(void 0===t?"undefined":Aa(t))){var n=new Oa(t,o);o.rows.push(n)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",t)})),o.refreshActiveData(!1,!1,e),o.table.options.dataLoaded.call(this.table,t)):console.error("Data Loading Error - Unable to process data due to invalid data type \nExpecting: array \nReceived: ",void 0===t?"undefined":Aa(t),"\nData:     ",t)},Fa.prototype._wipeElements=function(){this.rows.forEach((function(t){t.wipe()})),this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.wipe(),this.rows=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.adjustTableSize()},Fa.prototype.deleteRow=function(t,e){var o=this.rows.indexOf(t),n=this.activeRows.indexOf(t);n>-1&&this.activeRows.splice(n,1),o>-1&&this.rows.splice(o,1),this.setActiveRows(this.activeRows),this.displayRowIterator((function(e){var o=e.indexOf(t);o>-1&&e.splice(o,1)})),e||this.reRenderInPosition(),this.regenerateRowNumbers(),this.table.options.rowDeleted.call(this.table,t.getComponent()),this.table.options.dataChanged&&this.table.options.dataChanged.call(this.table,this.getData()),this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.updateGroupRows(!0):this.table.options.pagination&&this.table.modExists("page")?this.refreshActiveData(!1,!1,!0):this.table.options.pagination&&this.table.modExists("page")&&this.refreshActiveData("page")},Fa.prototype.addRow=function(t,e,o,n){var i=this.addRowActual(t,e,o,n);return this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("rowAdd",i,{data:t,pos:e,index:o}),i},Fa.prototype.addRows=function(t,e,o){var n=this,i=this,s=[];return new Promise((function(r,a){e=n.findAddRowPos(e),Array.isArray(t)||(t=[t]),(void 0===o&&e||void 0!==o&&!e)&&t.reverse(),t.forEach((function(t,n){var r=i.addRow(t,e,o,!0);s.push(r)})),n.table.options.groupBy&&n.table.modExists("groupRows")?n.table.modules.groupRows.updateGroupRows(!0):n.table.options.pagination&&n.table.modExists("page")?n.refreshActiveData(!1,!1,!0):n.reRenderInPosition(),n.table.modExists("columnCalcs")&&n.table.modules.columnCalcs.recalc(n.table.rowManager.activeRows),n.regenerateRowNumbers(),r(s)}))},Fa.prototype.findAddRowPos=function(t){return void 0===t&&(t=this.table.options.addRowPos),"pos"===t&&(t=!0),"bottom"===t&&(t=!1),t},Fa.prototype.addRowActual=function(t,e,o,n){var i,s,r=t instanceof Oa?t:new Oa(t||{},this),a=this.findAddRowPos(e),l=-1;if(!o&&this.table.options.pagination&&"page"==this.table.options.paginationAddRow&&(s=this.getDisplayRows(),a?s.length?o=s[0]:this.activeRows.length&&(o=this.activeRows[this.activeRows.length-1],a=!1):s.length&&(o=s[s.length-1],a=!(s.length<this.table.modules.page.getPageSize()))),void 0!==o&&(o=this.findRow(o)),this.table.options.groupBy&&this.table.modExists("groupRows")){this.table.modules.groupRows.assignRowToGroup(r);var c=r.getGroup().rows;c.length>1&&(!o||o&&-1==c.indexOf(o)?a?c[0]!==r&&(o=c[0],this._moveRowInArray(r.getGroup().rows,r,o,!a)):c[c.length-1]!==r&&(o=c[c.length-1],this._moveRowInArray(r.getGroup().rows,r,o,!a)):this._moveRowInArray(r.getGroup().rows,r,o,!a))}return o&&(l=this.rows.indexOf(o)),o&&l>-1?(i=this.activeRows.indexOf(o),this.displayRowIterator((function(t){var e=t.indexOf(o);e>-1&&t.splice(a?e:e+1,0,r)})),i>-1&&this.activeRows.splice(a?i:i+1,0,r),this.rows.splice(a?l:l+1,0,r)):a?(this.displayRowIterator((function(t){t.unshift(r)})),this.activeRows.unshift(r),this.rows.unshift(r)):(this.displayRowIterator((function(t){t.push(r)})),this.activeRows.push(r),this.rows.push(r)),this.setActiveRows(this.activeRows),this.table.options.rowAdded.call(this.table,r.getComponent()),this.table.options.dataChanged&&this.table.options.dataChanged.call(this.table,this.getData()),n||this.reRenderInPosition(),r},Fa.prototype.moveRow=function(t,e,o){this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("rowMove",t,{posFrom:this.getRowPosition(t),posTo:this.getRowPosition(e),to:e,after:o}),this.moveRowActual(t,e,o),this.regenerateRowNumbers(),this.table.options.rowMoved.call(this.table,t.getComponent())},Fa.prototype.moveRowActual=function(t,e,o){var n=this;if(this._moveRowInArray(this.rows,t,e,o),this._moveRowInArray(this.activeRows,t,e,o),this.displayRowIterator((function(i){n._moveRowInArray(i,t,e,o)})),this.table.options.groupBy&&this.table.modExists("groupRows")){!o&&e instanceof cl&&(e=this.table.rowManager.prevDisplayRow(t)||e);var i=e.getGroup(),s=t.getGroup();i===s?this._moveRowInArray(i.rows,t,e,o):(s&&s.removeRow(t),i.insertRow(t,e,o))}},Fa.prototype._moveRowInArray=function(t,e,o,n){var i,s,r;if(e!==o&&((i=t.indexOf(e))>-1&&(t.splice(i,1),s=t.indexOf(o),t.splice(s>-1?n?s+1:s:i,0,e)),t===this.getDisplayRows())){r=s>i?s:i+1;for(var a=i<s?i:s;a<=r;a++)t[a]&&this.styleRow(t[a],a)}},Fa.prototype.clearData=function(){this.setData([])},Fa.prototype.getRowIndex=function(t){return this.findRowIndex(t,this.rows)},Fa.prototype.getDisplayRowIndex=function(t){var e=this.getDisplayRows().indexOf(t);return e>-1&&e},Fa.prototype.nextDisplayRow=function(t,e){var o=this.getDisplayRowIndex(t),n=!1;return!1!==o&&o<this.displayRowsCount-1&&(n=this.getDisplayRows()[o+1]),!n||n instanceof Oa&&"row"==n.type?n:this.nextDisplayRow(n,e)},Fa.prototype.prevDisplayRow=function(t,e){var o=this.getDisplayRowIndex(t),n=!1;return o&&(n=this.getDisplayRows()[o-1]),!e||!n||n instanceof Oa&&"row"==n.type?n:this.prevDisplayRow(n,e)},Fa.prototype.findRowIndex=function(t,e){var o;return!!((t=this.findRow(t))&&(o=e.indexOf(t))>-1)&&o},Fa.prototype.getData=function(t,e){var o=[];return this.getRows(t).forEach((function(t){"row"==t.type&&o.push(t.getData(e||"data"))})),o},Fa.prototype.getComponents=function(t){var e=[];return this.getRows(t).forEach((function(t){e.push(t.getComponent())})),e},Fa.prototype.getDataCount=function(t){return this.getRows(t).length},Fa.prototype._genRemoteRequest=function(){var t=this,e=this.table,o=e.options,n={};if(e.modExists("page")){if(o.ajaxSorting){var i=this.table.modules.sort.getSort();i.forEach((function(t){delete t.column})),n[this.table.modules.page.paginationDataSentNames.sorters]=i}if(o.ajaxFiltering){var s=this.table.modules.filter.getFilters(!0,!0);n[this.table.modules.page.paginationDataSentNames.filters]=s}this.table.modules.ajax.setParams(n,!0)}e.modules.ajax.sendRequest().then((function(e){t._setDataActual(e,!0)})).catch((function(t){}))},Fa.prototype.filterRefresh=function(){var t=this.table,e=t.options,o=this.scrollLeft;e.ajaxFiltering?"remote"==e.pagination&&t.modExists("page")?(t.modules.page.reset(!0),t.modules.page.setPage(1).then((function(){})).catch((function(){}))):e.ajaxProgressiveLoad?t.modules.ajax.loadData().then((function(){})).catch((function(){})):this._genRemoteRequest():this.refreshActiveData("filter"),this.scrollHorizontal(o)},Fa.prototype.sorterRefresh=function(t){var e=this.table,o=this.table.options,n=this.scrollLeft;o.ajaxSorting?("remote"==o.pagination||o.progressiveLoad)&&e.modExists("page")?(e.modules.page.reset(!0),e.modules.page.setPage(1).then((function(){})).catch((function(){}))):o.ajaxProgressiveLoad?e.modules.ajax.loadData().then((function(){})).catch((function(){})):this._genRemoteRequest():this.refreshActiveData(t?"filter":"sort"),this.scrollHorizontal(n)},Fa.prototype.scrollHorizontal=function(t){this.scrollLeft=t,this.element.scrollLeft=t,this.table.options.groupBy&&this.table.modules.groupRows.scrollHeaders(t),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.scrollHorizontal(t)},Fa.prototype.refreshActiveData=function(t,e,o){var n,i=this.table,s=["all","filter","sort","display","freeze","group","tree","page"];if(this.redrawBlock)(!this.redrawBlockRestoreConfig||s.indexOf(t)<s.indexOf(this.redrawBlockRestoreConfig.stage))&&(this.redrawBlockRestoreConfig={stage:t,skipStage:e,renderInPosition:o});else{switch(this.table.modExists("edit")&&this.table.modules.edit.cancelEdit(),t||(t="all"),i.options.selectable&&!i.options.selectablePersistence&&i.modExists("selectRow")&&i.modules.selectRow.deselectRows(),t){case"all":case"filter":e?e=!1:i.modExists("filter")?this.setActiveRows(i.modules.filter.filter(this.rows)):this.setActiveRows(this.rows.slice(0));case"sort":e?e=!1:i.modExists("sort")&&i.modules.sort.sort(this.activeRows),this.regenerateRowNumbers();case"display":this.resetDisplayRows();case"freeze":e?e=!1:this.table.modExists("frozenRows")&&i.modules.frozenRows.isFrozen()&&(i.modules.frozenRows.getDisplayIndex()||i.modules.frozenRows.setDisplayIndex(this.getNextDisplayIndex()),n=i.modules.frozenRows.getDisplayIndex(),!0!==(n=this.setDisplayRows(i.modules.frozenRows.getRows(this.getDisplayRows(n-1)),n))&&i.modules.frozenRows.setDisplayIndex(n));case"group":e?e=!1:i.options.groupBy&&i.modExists("groupRows")&&(i.modules.groupRows.getDisplayIndex()||i.modules.groupRows.setDisplayIndex(this.getNextDisplayIndex()),n=i.modules.groupRows.getDisplayIndex(),!0!==(n=this.setDisplayRows(i.modules.groupRows.getRows(this.getDisplayRows(n-1)),n))&&i.modules.groupRows.setDisplayIndex(n));case"tree":e?e=!1:i.options.dataTree&&i.modExists("dataTree")&&(i.modules.dataTree.getDisplayIndex()||i.modules.dataTree.setDisplayIndex(this.getNextDisplayIndex()),n=i.modules.dataTree.getDisplayIndex(),!0!==(n=this.setDisplayRows(i.modules.dataTree.getRows(this.getDisplayRows(n-1)),n))&&i.modules.dataTree.setDisplayIndex(n)),i.options.pagination&&i.modExists("page")&&!o&&"local"==i.modules.page.getMode()&&i.modules.page.reset();case"page":e?e=!1:i.options.pagination&&i.modExists("page")&&(i.modules.page.getDisplayIndex()||i.modules.page.setDisplayIndex(this.getNextDisplayIndex()),n=i.modules.page.getDisplayIndex(),"local"==i.modules.page.getMode()&&i.modules.page.setMaxRows(this.getDisplayRows(n-1).length),!0!==(n=this.setDisplayRows(i.modules.page.getRows(this.getDisplayRows(n-1)),n))&&i.modules.page.setDisplayIndex(n))}Wa.prototype.helpers.elVisible(this.element)&&(o?this.reRenderInPosition():("all"===t&&this.table.options.virtualDomHoz&&this.table.vdomHoz.dataChange(),this.renderTable(),i.options.layoutColumnsOnNewData&&this.table.columnManager.redraw(!0))),i.modExists("columnCalcs")&&i.modules.columnCalcs.recalc(this.activeRows)}},Fa.prototype.regenerateRowNumbers=function(){var t=this;this.rowNumColumn&&this.activeRows.forEach((function(e){var o=e.getCell(t.rowNumColumn);o&&o._generateContents()}))},Fa.prototype.setActiveRows=function(t){this.activeRows=t,this.activeRowsCount=this.activeRows.length},Fa.prototype.resetDisplayRows=function(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length,this.table.modExists("frozenRows")&&this.table.modules.frozenRows.setDisplayIndex(0),this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.setDisplayIndex(0),this.table.options.pagination&&this.table.modExists("page")&&this.table.modules.page.setDisplayIndex(0)},Fa.prototype.getNextDisplayIndex=function(){return this.displayRows.length},Fa.prototype.setDisplayRows=function(t,e){var o=!0;return e&&void 0!==this.displayRows[e]?(this.displayRows[e]=t,o=!0):(this.displayRows.push(t),o=e=this.displayRows.length-1),e==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length),o},Fa.prototype.getDisplayRows=function(t){return void 0===t?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[t]||[]},Fa.prototype.getVisibleRows=function(t){var e=this.element.scrollTop,o=this.element.clientHeight+e,n=!1,i=0,s=0,r=this.getDisplayRows();if(t){this.getDisplayRows();for(var a=this.vDomTop;a<=this.vDomBottom;a++)if(r[a])if(n){if(!(o-r[a].getElement().offsetTop>=0))break;s=a}else if(e-r[a].getElement().offsetTop>=0)i=a;else{if(n=!0,!(o-r[a].getElement().offsetTop>=0))break;s=a}}else i=this.vDomTop,s=this.vDomBottom;return r.slice(i,s+1)},Fa.prototype.displayRowIterator=function(t){this.displayRows.forEach(t),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length},Fa.prototype.getRows=function(t){var e;switch(t){case"active":e=this.activeRows;break;case"display":e=this.table.rowManager.getDisplayRows();break;case"visible":e=this.getVisibleRows(!0);break;case"selected":e=this.table.modules.selectRow.selectedRows;break;default:e=this.rows}return e},Fa.prototype.reRenderInPosition=function(t){if("virtual"==this.getRenderMode())if(this.redrawBlock)t?t():this.redrawBlockRederInPosition=!0;else{for(var e=this.element.scrollTop,o=!1,n=!1,i=this.scrollLeft,s=this.getDisplayRows(),r=this.vDomTop;r<=this.vDomBottom;r++)if(s[r]){var a=e-s[r].getElement().offsetTop;if(!(!1===n||Math.abs(a)<n))break;n=a,o=r}t&&t(),this._virtualRenderFill(!1===o?this.displayRowsCount-1:o,!0,n||0),this.scrollHorizontal(i)}else this.renderTable(),t&&t()},Fa.prototype.setRenderMode=function(){this.table.options.virtualDom?(this.renderMode="virtual",this.fixedHeight=!(!this.table.element.clientHeight&&!this.table.options.height)):this.renderMode="classic"},Fa.prototype.getRenderMode=function(){return this.renderMode},Fa.prototype.renderTable=function(){switch(this.table.options.renderStarted.call(this.table),this.element.scrollTop=0,this.renderMode){case"classic":this._simpleRender();break;case"virtual":this._virtualRenderFill()}this.firstRender&&(this.displayRowsCount?(this.firstRender=!1,this.table.modules.layout.layout()):this.renderEmptyScroll()),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout(),this.displayRowsCount||this.table.options.placeholder&&(this.table.options.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.table.options.placeholder),this.table.options.placeholder.style.width=this.table.columnManager.getWidth()+"px"),this.table.options.renderComplete.call(this.table)},Fa.prototype._simpleRender=function(){this._clearVirtualDom(),this.displayRowsCount?this.checkClassicModeGroupHeaderWidth():this.renderEmptyScroll()},Fa.prototype.checkClassicModeGroupHeaderWidth=function(){var t=this,e=this.tableElement,o=!0;t.getDisplayRows().forEach((function(n,i){t.styleRow(n,i),e.appendChild(n.getElement()),n.initialize(!0),"group"!==n.type&&(o=!1)})),e.style.minWidth=o?t.table.columnManager.getWidth()+"px":""},Fa.prototype.renderEmptyScroll=function(){this.table.options.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"},Fa.prototype._clearVirtualDom=function(){var t=this.tableElement;for(this.table.options.placeholder&&this.table.options.placeholder.parentNode&&this.table.options.placeholder.parentNode.removeChild(this.table.options.placeholder);t.firstChild;)t.removeChild(t.firstChild);t.style.paddingTop="",t.style.paddingBottom="",t.style.minWidth="",t.style.minHeight="",t.style.display="",t.style.visibility="",this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0},Fa.prototype.styleRow=function(t,e){var o=t.getElement();e%2?(o.classList.add("tabulator-row-even"),o.classList.remove("tabulator-row-odd")):(o.classList.add("tabulator-row-odd"),o.classList.remove("tabulator-row-even"))},Fa.prototype._virtualRenderFill=function(t,e,o){var n=this.tableElement,i=this.element,s=0,r=0,a=0,l=0,c=!0,u=this.getDisplayRows();if(o=o||0,t=t||0){for(;n.firstChild;)n.removeChild(n.firstChild);var d=(this.displayRowsCount-t+1)*this.vDomRowHeight;d<this.height&&(t-=Math.ceil((this.height-d)/this.vDomRowHeight))<0&&(t=0),t-=s=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),t)}else this._clearVirtualDom();if(this.displayRowsCount&&Wa.prototype.helpers.elVisible(this.element)){for(this.vDomTop=t,this.vDomBottom=t-1;(r<=this.height+this.vDomWindowBuffer||l<this.vDomWindowMinTotalRows)&&this.vDomBottom<this.displayRowsCount-1;){var h,p=this.vDomBottom+1,m=u[p];this.styleRow(m,p),n.appendChild(m.getElement()),m.initialize(),m.heightInitialized||m.normalizeHeight(!0),h=m.getHeight(),l<s?a+=h:r+=h,h>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*h),"group"!==m.type&&(c=!1),this.vDomBottom++,l++}t?(this.vDomTopPad=e?this.vDomRowHeight*this.vDomTop+o:this.scrollTop-a,this.vDomBottomPad=this.vDomBottom==this.displayRowsCount-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-r-a,0)):(this.vDomTopPad=0,this.vDomRowHeight=Math.floor((r+a)/l),this.vDomBottomPad=this.vDomRowHeight*(this.displayRowsCount-this.vDomBottom-1),this.vDomScrollHeight=a+r+this.vDomBottomPad-this.height),n.style.paddingTop=this.vDomTopPad+"px",n.style.paddingBottom=this.vDomBottomPad+"px",e&&(this.scrollTop=this.vDomTopPad+a+o-(this.element.scrollWidth>this.element.clientWidth?this.element.offsetHeight-this.element.clientHeight:0)),this.scrollTop=Math.min(this.scrollTop,this.element.scrollHeight-this.height),this.element.scrollWidth>this.element.offsetWidth&&e&&(this.scrollTop+=this.element.offsetHeight-this.element.clientHeight),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,i.scrollTop=this.scrollTop,n.style.minWidth=c?this.table.columnManager.getWidth()+"px":"",this.table.options.groupBy&&"fitDataFill"!=this.table.modules.layout.getMode()&&this.displayRowsCount==this.table.modules.groupRows.countGroups()&&(this.tableElement.style.minWidth=this.table.columnManager.getWidth())}else this.renderEmptyScroll();this.fixedHeight||this.adjustTableSize()},Fa.prototype.scrollVertical=function(t){var e=this.scrollTop-this.vDomScrollPosTop,o=this.scrollTop-this.vDomScrollPosBottom,n=2*this.vDomWindowBuffer;if(-e>n||o>n){var i=this.scrollLeft;this._virtualRenderFill(Math.floor(this.element.scrollTop/this.element.scrollHeight*this.displayRowsCount)),this.scrollHorizontal(i)}else t?(e<0&&this._addTopRow(-e),o<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(-o):this.vDomScrollPosBottom=this.scrollTop)):(e>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(e):this.vDomScrollPosTop=this.scrollTop),o>=0&&this._addBottomRow(o))},Fa.prototype._addTopRow=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.tableElement,n=this.getDisplayRows();if(this.vDomTop){var i=this.vDomTop-1,s=n[i],r=s.getHeight()||this.vDomRowHeight;t>=r&&(this.styleRow(s,i),o.insertBefore(s.getElement(),o.firstChild),s.initialized&&s.heightInitialized||(this.vDomTopNewRows.push(s),s.heightInitialized||s.clearCellHeight()),s.initialize(),this.vDomTopPad-=r,this.vDomTopPad<0&&(this.vDomTopPad=i*this.vDomRowHeight),i||(this.vDomTopPad=0),o.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=r,this.vDomTop--),t=-(this.scrollTop-this.vDomScrollPosTop),s.getHeight()>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*s.getHeight()),e<this.vDomMaxRenderChain&&this.vDomTop&&t>=(n[this.vDomTop-1].getHeight()||this.vDomRowHeight)?this._addTopRow(t,e+1):this._quickNormalizeRowHeight(this.vDomTopNewRows)}},Fa.prototype._removeTopRow=function(t){var e=this.tableElement,o=this.getDisplayRows()[this.vDomTop],n=o.getHeight()||this.vDomRowHeight;if(t>=n){var i=o.getElement();i.parentNode.removeChild(i),this.vDomTopPad+=n,e.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?n:n+this.vDomWindowBuffer,this.vDomTop++,this._removeTopRow(t=this.scrollTop-this.vDomScrollPosTop)}},Fa.prototype._addBottomRow=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.tableElement,n=this.getDisplayRows();if(this.vDomBottom<this.displayRowsCount-1){var i=this.vDomBottom+1,s=n[i],r=s.getHeight()||this.vDomRowHeight;t>=r&&(this.styleRow(s,i),o.appendChild(s.getElement()),s.initialized&&s.heightInitialized||(this.vDomBottomNewRows.push(s),s.heightInitialized||s.clearCellHeight()),s.initialize(),this.vDomBottomPad-=r,(this.vDomBottomPad<0||i==this.displayRowsCount-1)&&(this.vDomBottomPad=0),o.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=r,this.vDomBottom++),t=this.scrollTop-this.vDomScrollPosBottom,s.getHeight()>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*s.getHeight()),e<this.vDomMaxRenderChain&&this.vDomBottom<this.displayRowsCount-1&&t>=(n[this.vDomBottom+1].getHeight()||this.vDomRowHeight)?this._addBottomRow(t,e+1):this._quickNormalizeRowHeight(this.vDomBottomNewRows)}},Fa.prototype._removeBottomRow=function(t){var e=this.tableElement,o=this.getDisplayRows()[this.vDomBottom],n=o.getHeight()||this.vDomRowHeight;if(t>=n){var i=o.getElement();i.parentNode&&i.parentNode.removeChild(i),this.vDomBottomPad+=n,this.vDomBottomPad<0&&(this.vDomBottomPad=0),e.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=n,this.vDomBottom--,this._removeBottomRow(t=-(this.scrollTop-this.vDomScrollPosBottom))}},Fa.prototype._quickNormalizeRowHeight=function(t){t.forEach((function(t){t.calcHeight()})),t.forEach((function(t){t.setCellHeight()})),t.length=0},Fa.prototype.normalizeHeight=function(){this.activeRows.forEach((function(t){t.normalizeHeight()}))},Fa.prototype.adjustTableSize=function(){var t,e=this.element.clientHeight;if("virtual"===this.renderMode){var o=Math.floor(this.columnManager.getElement().offsetHeight+(this.table.footerManager&&!this.table.footerManager.external?this.table.footerManager.getElement().offsetHeight:0));this.fixedHeight?(this.element.style.minHeight="calc(100% - "+o+"px)",this.element.style.height="calc(100% - "+o+"px)",this.element.style.maxHeight="calc(100% - "+o+"px)"):(this.element.style.height="",this.element.style.height=Math.floor(this.table.element.clientHeight)-o+"px",this.element.scrollTop=this.scrollTop),this.height=this.element.clientHeight,this.vDomWindowBuffer=this.table.options.virtualDomBuffer||this.height,this.fixedHeight||Math.floor(e)==Math.floor(this.element.clientHeight)||((t=this.table.modExists("resizeTable"))&&!this.table.modules.resizeTable.autoResize||!t)&&this.redraw()}},Fa.prototype.reinitialize=function(){this.rows.forEach((function(t){t.reinitialize(!0)}))},Fa.prototype.blockRedraw=function(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1},Fa.prototype.restoreRedraw=function(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.stage,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRederInPosition&&this.reRenderInPosition(),this.redrawBlockRederInPosition=!1},Fa.prototype.redraw=function(t){var e=this.scrollLeft;this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,t?this.renderTable():("classic"==this.renderMode?this.table.options.groupBy?this.refreshActiveData("group",!1,!1):this._simpleRender():(this.reRenderInPosition(),this.scrollHorizontal(e)),this.displayRowsCount||this.table.options.placeholder&&this.getElement().appendChild(this.table.options.placeholder))},Fa.prototype.resetScroll=function(){if(this.element.scrollLeft=0,this.element.scrollTop=0,"ie"===this.table.browser){var t=document.createEvent("Event");t.initEvent("scroll",!1,!0),this.element.dispatchEvent(t)}else this.element.dispatchEvent(new Event("scroll"))};var Ia=function(t){this.table=t,this.element=this.table.rowManager.tableElement,this.holderEl=this.table.rowManager.element,this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.window=200,this.initialized=!1,this.columns=[],this.compatabilityCheck()&&this.initialize()};Ia.prototype.compatabilityCheck=function(){var t=this.table.options,e=!0;return"fitDataTable"==t.layout&&(console.warn("Horizontal Vitrual DOM is not compatible with fitDataTable layout mode"),e=!1),t.responsiveLayout&&(console.warn("Horizontal Vitrual DOM is not compatible with responsive columns"),e=!1),this.table.rtl&&(console.warn("Horizontal Vitrual DOM is not currently compatible with RTL text direction"),e=!1),t.columns&&t.columns.find((function(t){return t.frozen}))&&(console.warn("Horizontal Vitrual DOM is not compatible with frozen columns"),e=!1),e||(t.virtualDomHoz=!1),e},Ia.prototype.initialize=function(){var t=this;this.holderEl.addEventListener("scroll",(function(){var e=t.holderEl.scrollLeft;t.scrollLeft!=e&&(t.scrollLeft=e,t.scroll(e-(t.vDomScrollPosLeft+t.window)))}))},Ia.prototype.deinitialize=function(){this.initialized=!1},Ia.prototype.clear=function(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0},Ia.prototype.dataChange=function(){var t,e,o=!1,n=0,i=0;if("fitData"===this.table.options.layout){if(this.table.columnManager.columnsByIndex.forEach((function(t){!t.definition.width&&t.visible&&(o=!0)})),o&&o&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.holderEl.clientWidth+this.window,t=this.table.options.groupBy?this.table.modules.groupRows.getGroups(!1)[0].getRows(!1)[0]:this.table.rowManager.getDisplayRows()[0])){for(e=t.getElement(),t.generateCells(),this.element.appendChild(e),i=0;i<t.cells.length;i++){var s=t.cells[i];if(e.appendChild(s.getElement()),s.column.reinitializeWidth(),(n+=s.column.getWidth())>this.vDomScrollPosRight)break}for(e.parentNode.removeChild(e),this.fitDataColAvg=Math.floor(n/(i+1));i<this.table.columnManager.columnsByIndex.length;i++)this.table.columnManager.columnsByIndex[i].setWidth(this.fitDataColAvg);this.reinitialize(!1,!0)}}else"fitColumns"===this.table.options.layout&&(this.table.modules.layout.layout(),this.table.vdomHoz.reinitialize(!1,!0))},Ia.prototype.fitDataLayoutOverride=function(){for(var t=this.leftCol;t<=this.rightCol;t++)this.columns[t].reinitializeWidth()},Ia.prototype.reinitialize=function(t,e){var o=this,n={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol};if(!t||this.initialized){this.clear(),this.scrollLeft=this.holderEl.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.window,this.vDomScrollPosRight=this.scrollLeft+this.holderEl.clientWidth+this.window;var i=0;this.table.columnManager.columnsByIndex.forEach((function(t){var e={};if(t.visible){var n=t.getWidth();e.leftPos=i,e.rightPos=i+n,i+n>o.vDomScrollPosLeft&&i<o.vDomScrollPosRight?(-1==o.leftCol&&(o.leftCol=o.columns.length,o.vDomPadLeft=i),o.rightCol=o.columns.length):-1!==o.leftCol&&(o.vDomPadRight+=n),o.columns.push(t),t.modules.vdomHoz=e,i+=n}})),this.element.style.paddingLeft=this.vDomPadLeft+"px",this.element.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,e||t&&!this.reinitChanged(n)||this.renitializeRows(),this.holderEl.scrollLeft=this.scrollLeft}},Ia.prototype.reinitChanged=function(t){var e=this,o=!0;return t.cols.length!==this.columns.length||t.leftCol!==this.leftCol||t.rightCol!==this.rightCol||(t.cols.forEach((function(t,n){t!==e.columns[n]&&(o=!1)})),!o)},Ia.prototype.renitializeRows=function(){var t=this;this.table.rowManager.getVisibleRows().forEach((function(e){t.reinitializeRow(e,!0)}))},Ia.prototype.scroll=function(t){this.vDomScrollPosLeft+=t,this.vDomScrollPosRight+=t,t>.8*this.holderEl.clientWidth?this.reinitialize():t>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())},Ia.prototype.colPositionAdjust=function(t,e,o){for(var n=t;n<e;n++){var i=this.columns[n];i.modules.vdomHoz.leftPos-=o,i.modules.vdomHoz.rightPos-=o}},Ia.prototype.addColRight=function(){var t,e,o=this.columns[this.rightCol+1];o&&o.modules.vdomHoz.leftPos<=this.vDomScrollPosRight&&(this.table.rowManager.getVisibleRows().forEach((function(t){if("group"!==t.type){var e=t.getCell(o);t.getElement().appendChild(e.getElement()),e.cellRendered()}})),this.fitDataColAvg&&(t=o.getWidth())===this.fitDataColAvg&&(o.reinitializeWidth(),(e=t-o.getWidth())&&(o.modules.vdomHoz.rightPos-=e,this.colPositionAdjust(this.rightCol+1,this.columns.length,e))),this.rightCol++,this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=o.getWidth(),this.element.style.paddingRight=this.vDomPadRight+"px",this.addColRight())},Ia.prototype.addColLeft=function(){var t=this.columns[this.leftCol-1];t&&t.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach((function(e){if("group"!==e.type){var o=e.getCell(t);e.getElement().prepend(o.getElement()),o.cellRendered()}})),this.leftCol?this.vDomPadLeft-=t.getWidth():this.vDomPadLeft=0,this.element.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol--,this.addColLeft())},Ia.prototype.removeColRight=function(t){var e;(t=this.columns[this.rightCol])&&t.modules.vdomHoz.leftPos>this.vDomScrollPosRight&&(e=this.table.rowManager.getVisibleRows(),t.modules.vdomHoz.visible=!1,e.forEach((function(e){if("group"!==e.type){var o=e.getCell(t);e.getElement().removeChild(o.getElement())}})),this.vDomPadRight+=t.getWidth(),this.element.style.paddingRight=this.vDomPadRight+"px",this.rightCol--,this.removeColRight())},Ia.prototype.removeColLeft=function(){var t=this.columns[this.leftCol];t&&t.modules.vdomHoz.rightPos<this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach((function(e){if("group"!==e.type){var o=e.getCell(t);e.getElement().removeChild(o.getElement())}})),this.vDomPadLeft+=t.getWidth(),this.element.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol++,this.removeColLeft())},Ia.prototype.initializeRow=function(t){if("group"!==t.type){t.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol};for(var e=this.leftCol;e<=this.rightCol;e++){var o=this.columns[e];if(o.visible){var n=t.getCell(o);t.element.appendChild(n.getElement()),n.cellRendered()}}}},Ia.prototype.reinitializeRow=function(t,e){if("group"!==t.type&&(e||!t.modules.vdomHoz||t.modules.vdomHoz.leftCol!==this.leftCol||t.modules.vdomHoz.rightCol!==this.rightCol)){for(;t.element.firstChild;)t.element.removeChild(t.element.firstChild);this.initializeRow(t)}};var Na=function(t){this._row=t};Na.prototype.getData=function(t){return this._row.getData(t)},Na.prototype.getElement=function(){return this._row.getElement()},Na.prototype.getCells=function(){var t=[];return this._row.getCells().forEach((function(e){t.push(e.getComponent())})),t},Na.prototype.getCell=function(t){var e=this._row.getCell(t);return!!e&&e.getComponent()},Na.prototype.getIndex=function(){return this._row.getData("data")[this._row.table.options.index]},Na.prototype.getPosition=function(t){return this._row.table.rowManager.getRowPosition(this._row,t)},Na.prototype.delete=function(){return this._row.delete()},Na.prototype.scrollTo=function(){return this._row.table.rowManager.scrollToRow(this._row)},Na.prototype.pageTo=function(){if(this._row.table.modExists("page",!0))return this._row.table.modules.page.setPageToRow(this._row)},Na.prototype.move=function(t,e){this._row.moveToRow(t,e)},Na.prototype.update=function(t){return this._row.updateData(t)},Na.prototype.normalizeHeight=function(){this._row.normalizeHeight(!0)},Na.prototype.select=function(){this._row.table.modules.selectRow.selectRows(this._row)},Na.prototype.deselect=function(){this._row.table.modules.selectRow.deselectRows(this._row)},Na.prototype.toggleSelect=function(){this._row.table.modules.selectRow.toggleRow(this._row)},Na.prototype.isSelected=function(){return this._row.table.modules.selectRow.isRowSelected(this._row)},Na.prototype._getSelf=function(){return this._row},Na.prototype.validate=function(){return this._row.validate()},Na.prototype.freeze=function(){this._row.table.modExists("frozenRows",!0)&&this._row.table.modules.frozenRows.freezeRow(this._row)},Na.prototype.unfreeze=function(){this._row.table.modExists("frozenRows",!0)&&this._row.table.modules.frozenRows.unfreezeRow(this._row)},Na.prototype.isFrozen=function(){return!!this._row.table.modExists("frozenRows",!0)&&this._row.table.modules.frozenRows.rows.indexOf(this._row)>-1},Na.prototype.treeCollapse=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.collapseRow(this._row)},Na.prototype.treeExpand=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.expandRow(this._row)},Na.prototype.treeToggle=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.toggleRow(this._row)},Na.prototype.getTreeParent=function(){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.getTreeParent(this._row)},Na.prototype.getTreeChildren=function(){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.getTreeChildren(this._row,!0)},Na.prototype.addTreeChild=function(t,e,o){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.addTreeChildRow(this._row,t,e,o)},Na.prototype.reformat=function(){return this._row.reinitialize()},Na.prototype.getGroup=function(){return this._row.getGroup().getComponent()},Na.prototype.getTable=function(){return this._row.table},Na.prototype.getNextRow=function(){var t=this._row.nextRow();return t?t.getComponent():t},Na.prototype.getPrevRow=function(){var t=this._row.prevRow();return t?t.getComponent():t};var Oa=function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"row";this.table=e.table,this.parent=e,this.data={},this.type=o,this.element=this.createElement(),this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.component=null,this.setData(t),this.generateElement()};Oa.prototype.createElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-row"),t.setAttribute("role","row"),t},Oa.prototype.getElement=function(){return this.element},Oa.prototype.detachElement=function(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)},Oa.prototype.generateElement=function(){var t,e,o,n=this;!1!==n.table.options.selectable&&n.table.modExists("selectRow")&&n.table.modules.selectRow.initializeRow(this),!1!==n.table.options.movableRows&&n.table.modExists("moveRow")&&n.table.modules.moveRow.initializeRow(this),!1!==n.table.options.dataTree&&n.table.modExists("dataTree")&&n.table.modules.dataTree.initializeRow(this),"collapse"===n.table.options.responsiveLayout&&n.table.modExists("responsiveLayout")&&n.table.modules.responsiveLayout.initializeRow(this),(n.table.options.rowContextMenu||n.table.options.rowClickMenu)&&this.table.modExists("menu")&&n.table.modules.menu.initializeRow(this),n.table.options.rowClick&&n.element.addEventListener("click",(function(t){n.table.options.rowClick(t,n.getComponent())})),n.table.options.rowDblClick&&n.element.addEventListener("dblclick",(function(t){n.table.options.rowDblClick(t,n.getComponent())})),n.table.options.rowContext&&n.element.addEventListener("contextmenu",(function(t){n.table.options.rowContext(t,n.getComponent())})),n.table.options.rowMouseEnter&&n.element.addEventListener("mouseenter",(function(t){n.table.options.rowMouseEnter(t,n.getComponent())})),n.table.options.rowMouseLeave&&n.element.addEventListener("mouseleave",(function(t){n.table.options.rowMouseLeave(t,n.getComponent())})),n.table.options.rowMouseOver&&n.element.addEventListener("mouseover",(function(t){n.table.options.rowMouseOver(t,n.getComponent())})),n.table.options.rowMouseOut&&n.element.addEventListener("mouseout",(function(t){n.table.options.rowMouseOut(t,n.getComponent())})),n.table.options.rowMouseMove&&n.element.addEventListener("mousemove",(function(t){n.table.options.rowMouseMove(t,n.getComponent())})),n.table.options.rowTap&&(o=!1,n.element.addEventListener("touchstart",(function(t){o=!0}),{passive:!0}),n.element.addEventListener("touchend",(function(t){o&&n.table.options.rowTap(t,n.getComponent()),o=!1}))),n.table.options.rowDblTap&&(t=null,n.element.addEventListener("touchend",(function(e){t?(clearTimeout(t),t=null,n.table.options.rowDblTap(e,n.getComponent())):t=setTimeout((function(){clearTimeout(t),t=null}),300)}))),n.table.options.rowTapHold&&(e=null,n.element.addEventListener("touchstart",(function(t){clearTimeout(e),e=setTimeout((function(){clearTimeout(e),e=null,o=!1,n.table.options.rowTapHold(t,n.getComponent())}),1e3)}),{passive:!0}),n.element.addEventListener("touchend",(function(t){clearTimeout(e),e=null})))},Oa.prototype.generateCells=function(){this.cells=this.table.columnManager.generateCells(this)},Oa.prototype.initialize=function(t){var e=this;if(!this.initialized||t){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layoutRow(this),this.generateCells(),this.table.options.virtualDomHoz&&this.table.vdomHoz.initialized?this.table.vdomHoz.initializeRow(this):this.cells.forEach((function(t){e.element.appendChild(t.getElement()),t.cellRendered()})),t&&this.normalizeHeight(),this.table.options.dataTree&&this.table.modExists("dataTree")&&this.table.modules.dataTree.layoutRow(this),"collapse"===this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout")&&this.table.modules.responsiveLayout.layoutRow(this),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.table.options.resizableRows&&this.table.modExists("resizeRows")&&this.table.modules.resizeRows.initializeRow(this),this.initialized=!0}else this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitializeRow(this)},Oa.prototype.reinitializeHeight=function(){this.heightInitialized=!1,null!==this.element.offsetParent&&this.normalizeHeight(!0)},Oa.prototype.reinitialize=function(t){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),null!==this.element.offsetParent&&this.initialize(!0),this.table.options.dataTree&&this.table.modExists("dataTree",!0)&&this.table.modules.dataTree.getTreeChildren(this,!1,!0).forEach((function(t){t.reinitialize(!0)}))},Oa.prototype.calcHeight=function(t){var e=0,o=this.table.options.resizableRows?this.element.clientHeight:0;this.cells.forEach((function(t){var o=t.getHeight();o>e&&(e=o)})),this.height=t?Math.max(e,o):this.manualHeight?this.height:Math.max(e,o),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight},Oa.prototype.setCellHeight=function(){this.cells.forEach((function(t){t.setHeight()})),this.heightInitialized=!0},Oa.prototype.clearCellHeight=function(){this.cells.forEach((function(t){t.clearHeight()}))},Oa.prototype.normalizeHeight=function(t){t&&this.clearCellHeight(),this.calcHeight(t),this.setCellHeight()},Oa.prototype.setHeight=function(t,e){(this.height!=t||e)&&(this.manualHeight=!0,this.height=t,this.heightStyled=t?t+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight)},Oa.prototype.getHeight=function(){return this.outerHeight},Oa.prototype.getWidth=function(){return this.element.offsetWidth},Oa.prototype.deleteCell=function(t){var e=this.cells.indexOf(t);e>-1&&this.cells.splice(e,1)},Oa.prototype.setData=function(t){this.table.modExists("mutator")&&(t=this.table.modules.mutator.transformRow(t,"data")),this.data=t,this.table.options.reactiveData&&this.table.modExists("reactiveData",!0)&&this.table.modules.reactiveData.watchRow(this)},Oa.prototype.updateData=function(t){var e,o=this,n=Wa.prototype.helpers.elVisible(this.element),i={};return new Promise((function(s,r){for(var a in"string"==typeof t&&(t=JSON.parse(t)),o.table.options.reactiveData&&o.table.modExists("reactiveData",!0)&&o.table.modules.reactiveData.block(),o.table.modExists("mutator")?(i=Object.assign(i,o.data),i=Object.assign(i,t),e=o.table.modules.mutator.transformRow(i,"data",t)):e=t,e)o.data[a]=e[a];for(var a in o.table.options.reactiveData&&o.table.modExists("reactiveData",!0)&&o.table.modules.reactiveData.unblock(),t)o.table.columnManager.getColumnsByFieldRoot(a).forEach((function(t){var i=o.getCell(t.getField());if(i){var s=t.getFieldValue(e);i.getValue()!=s&&(i.setValueProcessData(s),n&&i.cellRendered())}}));o.table.options.groupUpdateOnCellEdit&&o.table.options.groupBy&&o.table.modExists("groupRows")&&o.table.modules.groupRows.reassignRowToGroup(o.row),n?(o.normalizeHeight(!0),o.table.options.rowFormatter&&o.table.options.rowFormatter(o.getComponent())):(o.initialized=!1,o.height=0,o.heightStyled=""),!1!==o.table.options.dataTree&&o.table.modExists("dataTree")&&o.table.modules.dataTree.redrawNeeded(t)&&(o.table.modules.dataTree.initializeRow(o),o.table.modules.dataTree.layoutRow(o),o.table.rowManager.refreshActiveData("tree",!1,!0)),o.table.options.rowUpdated.call(o.table,o.getComponent()),o.table.options.dataChanged&&o.table.options.dataChanged.call(o.table,o.table.rowManager.getData()),s()}))},Oa.prototype.getData=function(t){return t&&this.table.modExists("accessor")?this.table.modules.accessor.transformRow(this,t):this.data},Oa.prototype.getCell=function(t){return t=this.table.columnManager.findColumn(t),this.cells.find((function(e){return e.column===t}))},Oa.prototype.getCellIndex=function(t){return this.cells.findIndex((function(e){return e===t}))},Oa.prototype.findNextEditableCell=function(t){var e=!1;if(t<this.cells.length-1)for(var o=t+1;o<this.cells.length;o++){var n=this.cells[o];if(n.column.modules.edit&&Wa.prototype.helpers.elVisible(n.getElement())){var i=!0;if("function"==typeof n.column.modules.edit.check&&(i=n.column.modules.edit.check(n.getComponent())),i){e=n;break}}}return e},Oa.prototype.findPrevEditableCell=function(t){var e=!1;if(t>0)for(var o=t-1;o>=0;o--){var n=this.cells[o],i=!0;if(n.column.modules.edit&&Wa.prototype.helpers.elVisible(n.getElement())&&("function"==typeof n.column.modules.edit.check&&(i=n.column.modules.edit.check(n.getComponent())),i)){e=n;break}}return e},Oa.prototype.getCells=function(){return this.cells},Oa.prototype.nextRow=function(){return this.table.rowManager.nextDisplayRow(this,!0)||!1},Oa.prototype.prevRow=function(){return this.table.rowManager.prevDisplayRow(this,!0)||!1},Oa.prototype.moveToRow=function(t,e){var o=this.table.rowManager.findRow(t);o?(this.table.rowManager.moveRowActual(this,o,!e),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",t)},Oa.prototype.validate=function(){var t=[];return this.cells.forEach((function(e){e.validate()||t.push(e.getComponent())})),!t.length||t},Oa.prototype.delete=function(){var t=this;return new Promise((function(e,o){var n,i;t.table.options.history&&t.table.modExists("history")&&(t.table.options.groupBy&&t.table.modExists("groupRows")?(n=(i=t.getGroup().rows).indexOf(t))&&(n=i[n-1]):(n=t.table.rowManager.getRowIndex(t))&&(n=t.table.rowManager.rows[n-1]),t.table.modules.history.action("rowDelete",t,{data:t.getData(),pos:!n,index:n})),t.deleteActual(),e()}))},Oa.prototype.deleteActual=function(t){this.table.rowManager.getRowIndex(this),this.detatchModules(),this.table.options.reactiveData&&this.table.modExists("reactiveData",!0),this.modules.group&&this.modules.group.removeRow(this),this.table.rowManager.deleteRow(this,t),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.table.options.dataTree&&this.table.modExists("dataTree",!0)&&this.table.modules.dataTree.rowDelete(this),this.table.modExists("columnCalcs")&&(this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.columnCalcs.recalcRowGroup(this):this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows))},Oa.prototype.detatchModules=function(){this.table.modExists("selectRow")&&this.table.modules.selectRow._deselectRow(this,!0),this.table.modExists("edit")&&this.table.modules.edit.currentCell.row===this&&this.table.modules.edit.cancelEdit(),this.table.modExists("frozenRows")&&this.table.modules.frozenRows.detachRow(this)},Oa.prototype.deleteCells=function(){for(var t=this.cells.length,e=0;e<t;e++)this.cells[0].delete()},Oa.prototype.wipe=function(){for(this.detatchModules(),this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element=!1,this.modules={},this.element.parentNode&&this.element.parentNode.removeChild(this.element)},Oa.prototype.getGroup=function(){return this.modules.group||!1},Oa.prototype.getComponent=function(){return this.component||(this.component=new Na(this)),this.component};var ja=function(t){this._cell=t};ja.prototype.getValue=function(){return this._cell.getValue()},ja.prototype.getOldValue=function(){return this._cell.getOldValue()},ja.prototype.getInitialValue=function(){return this._cell.initialValue},ja.prototype.getElement=function(){return this._cell.getElement()},ja.prototype.getRow=function(){return this._cell.row.getComponent()},ja.prototype.getData=function(){return this._cell.row.getData()},ja.prototype.getField=function(){return this._cell.column.getField()},ja.prototype.getColumn=function(){return this._cell.column.getComponent()},ja.prototype.setValue=function(t,e){void 0===e&&(e=!0),this._cell.setValue(t,e)},ja.prototype.restoreOldValue=function(){this._cell.setValueActual(this._cell.getOldValue())},ja.prototype.restoreInitialValue=function(){this._cell.setValueActual(this._cell.initialValue)},ja.prototype.edit=function(t){return this._cell.edit(t)},ja.prototype.cancelEdit=function(){this._cell.cancelEdit()},ja.prototype.isEdited=function(){return!!this._cell.modules.edit&&this._cell.modules.edit.edited},ja.prototype.clearEdited=function(){self.table.modExists("edit",!0)&&this._cell.table.modules.edit.clearEdited(this._cell)},ja.prototype.isValid=function(){return!this._cell.modules.validate||!this._cell.modules.validate.invalid},ja.prototype.validate=function(){return this._cell.validate()},ja.prototype.clearValidation=function(){this._cell.table.modExists("validate",!0)&&this._cell.table.modules.validate.clearValidation(this._cell)},ja.prototype.nav=function(){return this._cell.nav()},ja.prototype.checkHeight=function(){this._cell.checkHeight()},ja.prototype.getTable=function(){return this._cell.table},ja.prototype._getSelf=function(){return this._cell};var Va=function(t,e){this.table=t.table,this.column=t,this.row=e,this.element=null,this.value=null,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()};Va.prototype.build=function(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value},Va.prototype.generateElement=function(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell"),this.element=this.element},Va.prototype._configureCell=function(){var t=this,e=t.column.cellEvents,o=t.element,n=this.column.getField();o.style.textAlign=t.column.hozAlign,t.column.vertAlign&&(o.style.display="inline-flex",o.style.alignItems={top:"flex-start",bottom:"flex-end",middle:"center"}[t.column.vertAlign]||"",t.column.hozAlign&&(o.style.justifyContent={left:"flex-start",right:"flex-end",center:"center"}[t.column.hozAlign]||"")),n&&o.setAttribute("tabulator-field",n),t.column.definition.cssClass&&t.column.definition.cssClass.split(" ").forEach((function(t){o.classList.add(t)})),"hover"===this.table.options.tooltipGenerationMode&&o.addEventListener("mouseenter",(function(e){t._generateTooltip()})),t._bindClickEvents(e),t._bindTouchEvents(e),t._bindMouseEvents(e),t.column.modules.edit&&t.table.modules.edit.bindEditor(t),t.column.definition.rowHandle&&!1!==t.table.options.movableRows&&t.table.modExists("moveRow")&&t.table.modules.moveRow.initializeCell(t),t.column.visible||t.hide()},Va.prototype._bindClickEvents=function(t){var e=this,o=e.element;(t.cellClick||e.table.options.cellClick)&&o.addEventListener("click",(function(o){var n=e.getComponent();t.cellClick&&t.cellClick.call(e.table,o,n),e.table.options.cellClick&&e.table.options.cellClick.call(e.table,o,n)})),o.addEventListener("dblclick",t.cellDblClick||this.table.options.cellDblClick?function(o){var n=e.getComponent();t.cellDblClick&&t.cellDblClick.call(e.table,o,n),e.table.options.cellDblClick&&e.table.options.cellDblClick.call(e.table,o,n)}:function(t){if(!e.table.modExists("edit")||e.table.modules.edit.currentCell!==e){t.preventDefault();try{if(document.selection)(o=document.body.createTextRange()).moveToElementText(e.element),o.select();else if(window.getSelection){var o;(o=document.createRange()).selectNode(e.element),window.getSelection().removeAllRanges(),window.getSelection().addRange(o)}}catch(t){}}}),(t.cellContext||this.table.options.cellContext)&&o.addEventListener("contextmenu",(function(o){var n=e.getComponent();t.cellContext&&t.cellContext.call(e.table,o,n),e.table.options.cellContext&&e.table.options.cellContext.call(e.table,o,n)}))},Va.prototype._bindMouseEvents=function(t){var e=this,o=e.element;(t.cellMouseEnter||e.table.options.cellMouseEnter)&&o.addEventListener("mouseenter",(function(o){var n=e.getComponent();t.cellMouseEnter&&t.cellMouseEnter.call(e.table,o,n),e.table.options.cellMouseEnter&&e.table.options.cellMouseEnter.call(e.table,o,n)})),(t.cellMouseLeave||e.table.options.cellMouseLeave)&&o.addEventListener("mouseleave",(function(o){var n=e.getComponent();t.cellMouseLeave&&t.cellMouseLeave.call(e.table,o,n),e.table.options.cellMouseLeave&&e.table.options.cellMouseLeave.call(e.table,o,n)})),(t.cellMouseOver||e.table.options.cellMouseOver)&&o.addEventListener("mouseover",(function(o){var n=e.getComponent();t.cellMouseOver&&t.cellMouseOver.call(e.table,o,n),e.table.options.cellMouseOver&&e.table.options.cellMouseOver.call(e.table,o,n)})),(t.cellMouseOut||e.table.options.cellMouseOut)&&o.addEventListener("mouseout",(function(o){var n=e.getComponent();t.cellMouseOut&&t.cellMouseOut.call(e.table,o,n),e.table.options.cellMouseOut&&e.table.options.cellMouseOut.call(e.table,o,n)})),(t.cellMouseMove||e.table.options.cellMouseMove)&&o.addEventListener("mousemove",(function(o){var n=e.getComponent();t.cellMouseMove&&t.cellMouseMove.call(e.table,o,n),e.table.options.cellMouseMove&&e.table.options.cellMouseMove.call(e.table,o,n)}))},Va.prototype._bindTouchEvents=function(t){var e,o,n,i=this,s=i.element;(t.cellTap||this.table.options.cellTap)&&(n=!1,s.addEventListener("touchstart",(function(t){n=!0}),{passive:!0}),s.addEventListener("touchend",(function(e){if(n){var o=i.getComponent();t.cellTap&&t.cellTap.call(i.table,e,o),i.table.options.cellTap&&i.table.options.cellTap.call(i.table,e,o)}n=!1}))),(t.cellDblTap||this.table.options.cellDblTap)&&(e=null,s.addEventListener("touchend",(function(o){if(e){clearTimeout(e),e=null;var n=i.getComponent();t.cellDblTap&&t.cellDblTap.call(i.table,o,n),i.table.options.cellDblTap&&i.table.options.cellDblTap.call(i.table,o,n)}else e=setTimeout((function(){clearTimeout(e),e=null}),300)}))),(t.cellTapHold||this.table.options.cellTapHold)&&(o=null,s.addEventListener("touchstart",(function(e){clearTimeout(o),o=setTimeout((function(){clearTimeout(o),o=null,n=!1;var s=i.getComponent();t.cellTapHold&&t.cellTapHold.call(i.table,e,s),i.table.options.cellTapHold&&i.table.options.cellTapHold.call(i.table,e,s)}),1e3)}),{passive:!0}),s.addEventListener("touchend",(function(t){clearTimeout(o),o=null})))},Va.prototype._generateContents=function(){var t;switch(void 0===(t=this.table.modExists("format")?this.table.modules.format.formatValue(this):this.element.innerHTML=this.value)?"undefined":Aa(t)){case"object":if(t instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(t)}else this.element.innerHTML="",null!=t&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",t);break;case"undefined":case"null":this.element.innerHTML="";break;default:this.element.innerHTML=t}},Va.prototype.cellRendered=function(){this.table.modExists("format")&&this.table.modules.format.cellRendered&&this.table.modules.format.cellRendered(this)},Va.prototype._generateTooltip=function(){var t=this.column.tooltip;t?(!0===t?t=this.value:"function"==typeof t&&!1===(t=t(this.getComponent()))&&(t=""),void 0===t&&(t=""),this.element.setAttribute("title",t)):this.element.setAttribute("title","")},Va.prototype.getElement=function(){return this.loaded||(this.loaded=!0,this.layoutElement()),this.element},Va.prototype.getValue=function(){return this.value},Va.prototype.getOldValue=function(){return this.oldValue},Va.prototype.setValue=function(t,e){var o;this.setValueProcessData(t,e)&&(this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("cellEdit",this,{oldValue:this.oldValue,newValue:this.value}),o=this.getComponent(),this.column.cellEvents.cellEdited&&this.column.cellEvents.cellEdited.call(this.table,o),this.table.options.groupUpdateOnCellEdit&&this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.reassignRowToGroup(this.row),this.cellRendered(),this.table.options.cellEdited.call(this.table,o),this.table.options.dataChanged&&this.table.options.dataChanged.call(this.table,this.table.rowManager.getData()))},Va.prototype.setValueProcessData=function(t,e){var o=!1;return this.value!=t&&(o=!0,e&&this.column.modules.mutate&&(t=this.table.modules.mutator.transformCell(this,t))),this.setValueActual(t),o&&this.table.modExists("columnCalcs")&&(this.column.definition.topCalc||this.column.definition.bottomCalc)&&(this.table.options.groupBy&&this.table.modExists("groupRows")?("table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs||this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),"table"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.recalcRowGroup(this.row)):this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows)),o},Va.prototype.setValueActual=function(t){this.oldValue=this.value,this.value=t,this.table.options.reactiveData&&this.table.modExists("reactiveData")&&this.table.modules.reactiveData.block(),this.column.setFieldValue(this.row.data,t),this.table.options.reactiveData&&this.table.modExists("reactiveData")&&this.table.modules.reactiveData.unblock(),this.loaded&&this.layoutElement()},Va.prototype.layoutElement=function(){this._generateContents(),this._generateTooltip(),this.table.options.resizableColumns&&this.table.modExists("resizeColumns")&&"row"===this.row.type&&this.table.modules.resizeColumns.initializeColumn("cell",this.column,this.element),(this.column.definition.contextMenu||this.column.definition.clickMenu)&&this.table.modExists("menu")&&this.table.modules.menu.initializeCell(this),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layoutElement(this.element,this.column)},Va.prototype.setWidth=function(){this.width=this.column.width,this.element.style.width=this.column.widthStyled},Va.prototype.clearWidth=function(){this.width="",this.element.style.width=""},Va.prototype.getWidth=function(){return this.width||this.element.offsetWidth},Va.prototype.setMinWidth=function(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled},Va.prototype.checkHeight=function(){this.row.reinitializeHeight()},Va.prototype.clearHeight=function(){this.element.style.height="",this.height=null},Va.prototype.setHeight=function(){this.height=this.row.height,this.element.style.height=this.row.heightStyled},Va.prototype.getHeight=function(){return this.height||this.element.offsetHeight},Va.prototype.show=function(){this.element.style.display=this.column.vertAlign?"inline-flex":""},Va.prototype.hide=function(){this.element.style.display="none"},Va.prototype.edit=function(t){if(this.table.modExists("edit",!0))return this.table.modules.edit.editCell(this,t)},Va.prototype.cancelEdit=function(){if(this.table.modExists("edit",!0)){var t=this.table.modules.edit.getCurrentCell();t&&t._getSelf()===this?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}},Va.prototype.validate=function(){return!this.column.modules.validate||!this.table.modExists("validate",!0)||!0===this.table.modules.validate.validate(this.column.modules.validate,this,this.getValue())},Va.prototype.delete=function(){!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.modules.validate&&this.modules.validate.invalid&&this.table.modules.validate.clearValidation(this),this.modules.edit&&this.modules.edit.edited&&this.table.modules.edit.clearEdited(this),this.table.options.history&&this.table.modules.history.clearComponentHistory(this),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}},Va.prototype.nav=function(){var t=this,e=!1,o=this.row.getCellIndex(this);return{next:function(){var e,o=this.right();return!!o||!(!(e=t.table.rowManager.nextDisplayRow(t.row,!0))||!(o=e.findNextEditableCell(-1)))&&(o.edit(),!0)},prev:function(){var e,o=this.left();return!!o||!(!(e=t.table.rowManager.prevDisplayRow(t.row,!0))||!(o=e.findPrevEditableCell(e.cells.length)))&&(o.edit(),!0)},left:function(){return!!(e=t.row.findPrevEditableCell(o))&&(e.edit(),!0)},right:function(){return!!(e=t.row.findNextEditableCell(o))&&(e.edit(),!0)},up:function(){var e=t.table.rowManager.prevDisplayRow(t.row,!0);e&&e.cells[o].edit()},down:function(){var e=t.table.rowManager.nextDisplayRow(t.row,!0);e&&e.cells[o].edit()}}},Va.prototype.getIndex=function(){this.row.getCellIndex(this)},Va.prototype.getComponent=function(){return this.component||(this.component=new ja(this)),this.component};var Ba=function(t){this.table=t,this.active=!1,this.element=this.createElement(),this.external=!1,this.links=[],this._initialize()};Ba.prototype.createElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-footer"),t},Ba.prototype._initialize=function(t){if(this.table.options.footerElement)switch(Aa(this.table.options.footerElement)){case"string":"<"===this.table.options.footerElement[0]?this.element.innerHTML=this.table.options.footerElement:(this.external=!0,this.element=document.querySelector(this.table.options.footerElement));break;default:this.element=this.table.options.footerElement}},Ba.prototype.getElement=function(){return this.element},Ba.prototype.append=function(t,e){this.activate(e),this.element.appendChild(t),this.table.rowManager.adjustTableSize()},Ba.prototype.prepend=function(t,e){this.activate(e),this.element.insertBefore(t,this.element.firstChild),this.table.rowManager.adjustTableSize()},Ba.prototype.remove=function(t){t.parentNode.removeChild(t),this.deactivate()},Ba.prototype.deactivate=function(t){this.element.firstChild&&!t||(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)},Ba.prototype.activate=function(t){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display="")),t&&this.links.push(t)},Ba.prototype.redraw=function(){this.links.forEach((function(t){t.footerRedraw()}))};var Wa=function t(e,o){this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.vdomHoz=null,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.modules={},this.initializeElement(e)&&(this.initializeOptions(o||{}),this._create()),t.prototype.comms.register(this)};Wa.prototype.defaultOptions={height:!1,minHeight:!1,maxHeight:!1,layout:"fitData",layoutColumnsOnNewData:!1,columnMinWidth:40,columnHeaderVertAlign:"top",columnVertAlign:!1,resizableColumns:!0,resizableRows:!1,autoResize:!0,columns:[],cellHozAlign:"",cellVertAlign:"",headerHozAlign:"",data:[],autoColumns:!1,autoColumnsDefinitions:!1,reactiveData:!1,nestedFieldSeparator:".",tooltips:!1,tooltipsHeader:!1,tooltipGenerationMode:"load",initialSort:!1,initialFilter:!1,initialHeaderFilter:!1,columnHeaderSortMulti:!0,sortOrderReverse:!1,headerSort:!0,headerSortTristate:!1,headerSortElement:"<div class='tabulator-arrow'></div>",footerElement:!1,index:"id",textDirection:"auto",keybindings:[],tabEndNewRow:!1,invalidOptionWarnings:!0,clipboard:!1,clipboardCopyStyled:!0,clipboardCopyConfig:!1,clipboardCopyFormatter:!1,clipboardCopyRowRange:"active",clipboardPasteParser:"table",clipboardPasteAction:"insert",clipboardCopied:function(){},clipboardPasted:function(){},clipboardPasteError:function(){},downloadDataFormatter:!1,downloadReady:function(t,e){return e},downloadComplete:!1,downloadConfig:{},downloadRowRange:"active",dataTree:!1,dataTreeFilter:!0,dataTreeSort:!0,dataTreeElementColumn:!1,dataTreeBranchElement:!0,dataTreeChildIndent:9,dataTreeChildField:"_children",dataTreeCollapseElement:!1,dataTreeExpandElement:!1,dataTreeStartExpanded:!1,dataTreeRowExpanded:function(){},dataTreeRowCollapsed:function(){},dataTreeChildColumnCalcs:!1,dataTreeSelectPropagate:!1,printAsHtml:!1,printFormatter:!1,printHeader:!1,printFooter:!1,printCopyStyle:!0,printStyled:!0,printVisibleRows:!0,printRowRange:"visible",printConfig:{},addRowPos:"bottom",selectable:"highlight",selectableRangeMode:"drag",selectableRollingSelection:!0,selectablePersistence:!0,selectableCheck:function(t,e){return!0},headerFilterLiveFilterDelay:300,headerFilterPlaceholder:!1,headerVisible:!0,history:!1,locale:!1,langs:{},virtualDom:!0,virtualDomBuffer:0,virtualDomHoz:!1,persistentLayout:!1,persistentSort:!1,persistentFilter:!1,persistenceID:"",persistenceMode:!0,persistenceReaderFunc:!1,persistenceWriterFunc:!1,persistence:!1,responsiveLayout:!1,responsiveLayoutCollapseStartOpen:!0,responsiveLayoutCollapseUseFormatters:!0,responsiveLayoutCollapseFormatter:!1,pagination:!1,paginationSize:!1,paginationInitialPage:1,paginationButtonCount:5,paginationSizeSelector:!1,paginationElement:!1,paginationDataSent:{},paginationDataReceived:{},paginationAddRow:"page",ajaxURL:!1,ajaxURLGenerator:!1,ajaxParams:{},ajaxConfig:"get",ajaxContentType:"form",ajaxRequestFunc:!1,ajaxLoader:!0,ajaxLoaderLoading:!1,ajaxLoaderError:!1,ajaxFiltering:!1,ajaxSorting:!1,ajaxProgressiveLoad:!1,ajaxProgressiveLoadDelay:0,ajaxProgressiveLoadScrollMargin:0,groupBy:!1,groupStartOpen:!0,groupValues:!1,groupUpdateOnCellEdit:!1,groupHeader:!1,groupHeaderPrint:null,groupHeaderClipboard:null,groupHeaderHtmlOutput:null,groupHeaderDownload:null,htmlOutputConfig:!1,movableColumns:!1,movableRows:!1,movableRowsConnectedTables:!1,movableRowsConnectedElements:!1,movableRowsSender:!1,movableRowsReceiver:"insert",movableRowsSendingStart:function(){},movableRowsSent:function(){},movableRowsSentFailed:function(){},movableRowsSendingStop:function(){},movableRowsReceivingStart:function(){},movableRowsReceived:function(){},movableRowsReceivedFailed:function(){},movableRowsReceivingStop:function(){},movableRowsElementDrop:function(){},scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,placeholder:!1,tableBuilding:function(){},tableBuilt:function(){},renderStarted:function(){},renderComplete:function(){},rowClick:!1,rowDblClick:!1,rowContext:!1,rowTap:!1,rowDblTap:!1,rowTapHold:!1,rowMouseEnter:!1,rowMouseLeave:!1,rowMouseOver:!1,rowMouseOut:!1,rowMouseMove:!1,rowContextMenu:!1,rowClickMenu:!1,rowAdded:function(){},rowDeleted:function(){},rowMoved:function(){},rowUpdated:function(){},rowSelectionChanged:function(){},rowSelected:function(){},rowDeselected:function(){},rowResized:function(){},cellClick:!1,cellDblClick:!1,cellContext:!1,cellTap:!1,cellDblTap:!1,cellTapHold:!1,cellMouseEnter:!1,cellMouseLeave:!1,cellMouseOver:!1,cellMouseOut:!1,cellMouseMove:!1,cellEditing:function(){},cellEdited:function(){},cellEditCancelled:function(){},columnMoved:!1,columnResized:function(){},columnTitleChanged:function(){},columnVisibilityChanged:function(){},htmlImporting:function(){},htmlImported:function(){},dataLoading:function(){},dataLoaded:function(){},dataEdited:!1,dataChanged:!1,ajaxRequesting:function(){},ajaxResponse:!1,ajaxError:function(){},dataFiltering:!1,dataFiltered:!1,dataSorting:function(){},dataSorted:function(){},groupToggleElement:"arrow",groupClosedShowCalcs:!1,dataGrouping:function(){},dataGrouped:!1,groupVisibilityChanged:function(){},groupClick:!1,groupDblClick:!1,groupContext:!1,groupContextMenu:!1,groupClickMenu:!1,groupTap:!1,groupDblTap:!1,groupTapHold:!1,columnCalcs:!0,pageLoaded:function(){},localized:function(){},validationMode:"blocking",validationFailed:function(){},historyUndo:function(){},historyRedo:function(){},scrollHorizontal:function(){},scrollVertical:function(){}},Wa.prototype.initializeOptions=function(t){if(!1!==t.invalidOptionWarnings)for(var e in t)void 0===this.defaultOptions[e]&&console.warn("Invalid table constructor option:",e);for(var e in this.defaultOptions)this.options[e]=e in t?t[e]:Array.isArray(this.defaultOptions[e])?[]:"object"===Aa(this.defaultOptions[e])&&null!==this.defaultOptions[e]?{}:this.defaultOptions[e]},Wa.prototype.initializeElement=function(t){return"undefined"!=typeof HTMLElement&&t instanceof HTMLElement?(this.element=t,!0):"string"==typeof t?(this.element=document.querySelector(t),!!this.element||(console.error("Tabulator Creation Error - no element found matching selector: ",t),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",t),!1)},Wa.prototype.rtlCheck=function(){var t=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if("rtl"!==t.direction)break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}},Wa.prototype._mapDepricatedFunctionality=function(){(this.options.persistentLayout||this.options.persistentSort||this.options.persistentFilter)&&(this.options.persistence||(this.options.persistence={})),this.options.dataEdited&&(console.warn("DEPRECATION WARNING - dataEdited option has been deprecated, please use the dataChanged option instead"),this.options.dataChanged=this.options.dataEdited),this.options.downloadDataFormatter&&console.warn("DEPRECATION WARNING - downloadDataFormatter option has been deprecated"),void 0!==this.options.clipboardCopyHeader&&(this.options.columnHeaders=this.options.clipboardCopyHeader,console.warn("DEPRECATION WARNING - clipboardCopyHeader option has been deprecated, please use the columnHeaders property on the clipboardCopyConfig option")),!0!==this.options.printVisibleRows&&(console.warn("printVisibleRows option is deprecated, you should now use the printRowRange option"),this.options.persistence.printRowRange="active"),!0!==this.options.printCopyStyle&&(console.warn("printCopyStyle option is deprecated, you should now use the printStyled option"),this.options.persistence.printStyled=this.options.printCopyStyle),this.options.persistentLayout&&(console.warn("persistentLayout option is deprecated, you should now use the persistence option"),!0!==this.options.persistence&&void 0===this.options.persistence.columns&&(this.options.persistence.columns=!0)),this.options.persistentSort&&(console.warn("persistentSort option is deprecated, you should now use the persistence option"),!0!==this.options.persistence&&void 0===this.options.persistence.sort&&(this.options.persistence.sort=!0)),this.options.persistentFilter&&(console.warn("persistentFilter option is deprecated, you should now use the persistence option"),!0!==this.options.persistence&&void 0===this.options.persistence.filter&&(this.options.persistence.filter=!0)),this.options.columnVertAlign&&(console.warn("columnVertAlign option is deprecated, you should now use the columnHeaderVertAlign option"),this.options.columnHeaderVertAlign=this.options.columnVertAlign)},Wa.prototype._clearSelection=function(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")},Wa.prototype._create=function(){this._clearObjectPointers(),this._mapDepricatedFunctionality(),this.bindModules(),this.rtlCheck(),"TABLE"===this.element.tagName&&this.modExists("htmlTableImport",!0)&&this.modules.htmlTableImport.parseTable(),this.columnManager=new Pa(this),this.rowManager=new Fa(this),this.footerManager=new Ba(this),this.columnManager.setRowManager(this.rowManager),this.rowManager.setColumnManager(this.columnManager),this.options.virtualDomHoz&&(this.vdomHoz=new Ia(this)),this._buildElement(),this._loadInitialData()},Wa.prototype._clearObjectPointers=function(){this.options.columns=this.options.columns.slice(0),this.options.reactiveData||(this.options.data=this.options.data.slice(0))},Wa.prototype._buildElement=function(){var t=this,e=this.element,o=this.modules,n=this.options;for(n.tableBuilding.call(this),e.classList.add("tabulator"),e.setAttribute("role","grid");e.firstChild;)e.removeChild(e.firstChild);for(var i in n.height&&(n.height=isNaN(n.height)?n.height:n.height+"px",e.style.height=n.height),!1!==n.minHeight&&(n.minHeight=isNaN(n.minHeight)?n.minHeight:n.minHeight+"px",e.style.minHeight=n.minHeight),!1!==n.maxHeight&&(n.maxHeight=isNaN(n.maxHeight)?n.maxHeight:n.maxHeight+"px",e.style.maxHeight=n.maxHeight),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modExists("layout",!0)&&o.layout.initialize(n.layout),o.localize.initialize(),!1!==n.headerFilterPlaceholder&&o.localize.setHeaderFilterPlaceholder(n.headerFilterPlaceholder),n.langs)o.localize.installLang(i,n.langs[i]);if(o.localize.setLocale(n.locale),"string"==typeof n.placeholder){var s=document.createElement("div");s.classList.add("tabulator-placeholder");var r=document.createElement("span");r.innerHTML=n.placeholder,s.appendChild(r),n.placeholder=s}if(e.appendChild(this.columnManager.getElement()),e.appendChild(this.rowManager.getElement()),n.footerElement&&this.footerManager.activate(),n.persistence&&this.modExists("persistence",!0)&&o.persistence.initialize(),n.persistence&&this.modExists("persistence",!0)&&o.persistence.config.columns&&(n.columns=o.persistence.load("columns",n.columns)),n.movableRows&&this.modExists("moveRow")&&o.moveRow.initialize(),n.autoColumns&&this.options.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modExists("columnCalcs")&&o.columnCalcs.initialize(),this.columnManager.setColumns(n.columns),n.dataTree&&this.modExists("dataTree",!0)&&o.dataTree.initialize(),this.modExists("frozenRows")&&this.modules.frozenRows.initialize(),(n.persistence&&this.modExists("persistence",!0)&&o.persistence.config.sort||n.initialSort)&&this.modExists("sort",!0)){var a=[];n.persistence&&this.modExists("persistence",!0)&&o.persistence.config.sort?!1===(a=o.persistence.load("sort"))&&n.initialSort&&(a=n.initialSort):n.initialSort&&(a=n.initialSort),o.sort.setSort(a)}if((n.persistence&&this.modExists("persistence",!0)&&o.persistence.config.filter||n.initialFilter)&&this.modExists("filter",!0)){var l=[];n.persistence&&this.modExists("persistence",!0)&&o.persistence.config.filter?!1===(l=o.persistence.load("filter"))&&n.initialFilter&&(l=n.initialFilter):n.initialFilter&&(l=n.initialFilter),o.filter.setFilter(l)}n.initialHeaderFilter&&this.modExists("filter",!0)&&n.initialHeaderFilter.forEach((function(e){var n=t.columnManager.findColumn(e.field);if(!n)return console.warn("Column Filter Error - No matching column found:",e.field),!1;o.filter.setHeaderFilterValue(n,e.value)})),this.modExists("ajax")&&o.ajax.initialize(),n.pagination&&this.modExists("page",!0)&&o.page.initialize(),n.groupBy&&this.modExists("groupRows",!0)&&o.groupRows.initialize(),this.modExists("keybindings")&&o.keybindings.initialize(),this.modExists("selectRow")&&o.selectRow.clearSelectionData(!0),n.autoResize&&this.modExists("resizeTable")&&o.resizeTable.initialize(),this.modExists("clipboard")&&o.clipboard.initialize(),n.printAsHtml&&this.modExists("print")&&o.print.initialize(),n.tableBuilt.call(this)},Wa.prototype._loadInitialData=function(){var t=this;if(t.options.pagination&&t.modExists("page"))if(t.modules.page.reset(!0,!0),"local"==t.options.pagination){if(t.options.data.length)t.rowManager.setData(t.options.data,!1,!0);else{if((t.options.ajaxURL||t.options.ajaxURLGenerator)&&t.modExists("ajax"))return void t.modules.ajax.loadData(!1,!0).then((function(){})).catch((function(){t.options.paginationInitialPage&&t.modules.page.setPage(t.options.paginationInitialPage)}));t.rowManager.setData(t.options.data,!1,!0)}t.options.paginationInitialPage&&t.modules.page.setPage(t.options.paginationInitialPage)}else t.options.ajaxURL?t.modules.page.setPage(t.options.paginationInitialPage).then((function(){})).catch((function(){})):t.rowManager.setData([],!1,!0);else t.options.data.length?t.rowManager.setData(t.options.data):(t.options.ajaxURL||t.options.ajaxURLGenerator)&&t.modExists("ajax")?t.modules.ajax.loadData(!1,!0).then((function(){})).catch((function(){})):t.rowManager.setData(t.options.data,!1,!0)},Wa.prototype.destroy=function(){var t=this.element;for(Wa.prototype.comms.deregister(this),this.options.reactiveData&&this.modExists("reactiveData",!0)&&this.modules.reactiveData.unwatchData(),this.rowManager.rows.forEach((function(t){t.wipe()})),this.rowManager.rows=[],this.rowManager.activeRows=[],this.rowManager.displayRows=[],this.options.autoResize&&this.modExists("resizeTable")&&this.modules.resizeTable.clearBindings(),this.modExists("keybindings")&&this.modules.keybindings.clearBindings();t.firstChild;)t.removeChild(t.firstChild);t.classList.remove("tabulator")},Wa.prototype._detectBrowser=function(){var t=navigator.userAgent||navigator.vendor||window.opera;t.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):t.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):t.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))},Wa.prototype.blockRedraw=function(){return this.rowManager.blockRedraw()},Wa.prototype.restoreRedraw=function(){return this.rowManager.restoreRedraw()},Wa.prototype.setDataFromLocalFile=function(t){var e=this;return new Promise((function(o,n){var i=document.createElement("input");i.type="file",i.accept=t||".json,application/json",i.addEventListener("change",(function(t){var s,r=i.files[0],a=new FileReader;a.readAsText(r),a.onload=function(t){try{s=JSON.parse(a.result)}catch(t){return console.warn("File Load Error - File contents is invalid JSON",t),void n(t)}e.setData(s).then((function(t){o(t)})).catch((function(t){o(t)}))},a.onerror=function(t){console.warn("File Load Error - Unable to read file"),n()}})),i.click()}))},Wa.prototype.setData=function(t,e,o){return this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this._setData(t,e,o,!1,!0)},Wa.prototype._setData=function(t,e,o,n,i){return"string"!=typeof t?t?this.rowManager.setData(t,n,i):this.modExists("ajax")&&(this.modules.ajax.getUrl||this.options.ajaxURLGenerator)?"remote"==this.options.pagination&&this.modExists("page",!0)?(this.modules.page.reset(!0,!0),this.modules.page.setPage(1)):this.modules.ajax.loadData(n,i):this.rowManager.setData([],n,i):0==t.indexOf("{")||0==t.indexOf("[")?this.rowManager.setData(JSON.parse(t),n,i):this.modExists("ajax",!0)?(e&&this.modules.ajax.setParams(e),o&&this.modules.ajax.setConfig(o),this.modules.ajax.setUrl(t),"remote"==this.options.pagination&&this.modExists("page",!0)?(this.modules.page.reset(!0,!0),this.modules.page.setPage(1)):this.modules.ajax.loadData(n,i)):void 0},Wa.prototype.clearData=function(){this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this.rowManager.clearData()},Wa.prototype.getData=function(t){return!0===t&&(console.warn("passing a boolean to the getData function is deprecated, you should now pass the string 'active'"),t="active"),this.rowManager.getData(t)},Wa.prototype.getDataCount=function(t){return!0===t&&(console.warn("passing a boolean to the getDataCount function is deprecated, you should now pass the string 'active'"),t="active"),this.rowManager.getDataCount(t)},Wa.prototype.searchRows=function(t,e,o){if(this.modExists("filter",!0))return this.modules.filter.search("rows",t,e,o)},Wa.prototype.searchData=function(t,e,o){if(this.modExists("filter",!0))return this.modules.filter.search("data",t,e,o)},Wa.prototype.getHtml=function(t,e,o){if(this.modExists("export",!0))return this.modules.export.getHtml(t,e,o)},Wa.prototype.print=function(t,e,o){if(this.modExists("print",!0))return this.modules.print.printFullscreen(t,e,o)},Wa.prototype.getAjaxUrl=function(){if(this.modExists("ajax",!0))return this.modules.ajax.getUrl()},Wa.prototype.replaceData=function(t,e,o){return this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this._setData(t,e,o,!0)},Wa.prototype.updateData=function(t){var e=this,o=this,n=0;return new Promise((function(i,s){e.modExists("ajax")&&e.modules.ajax.blockActiveRequest(),"string"==typeof t&&(t=JSON.parse(t)),t?t.forEach((function(t){var e=o.rowManager.findRow(t[o.options.index]);e&&(n++,e.updateData(t).then((function(){--n||i()})))})):(console.warn("Update Error - No data provided"),s("Update Error - No data provided"))}))},Wa.prototype.addData=function(t,e,o){var n=this;return new Promise((function(i,s){n.modExists("ajax")&&n.modules.ajax.blockActiveRequest(),"string"==typeof t&&(t=JSON.parse(t)),t?n.rowManager.addRows(t,e,o).then((function(t){var e=[];t.forEach((function(t){e.push(t.getComponent())})),i(e)})):(console.warn("Update Error - No data provided"),s("Update Error - No data provided"))}))},Wa.prototype.updateOrAddData=function(t){var e=this,o=this,n=[],i=0;return new Promise((function(s,r){e.modExists("ajax")&&e.modules.ajax.blockActiveRequest(),"string"==typeof t&&(t=JSON.parse(t)),t?t.forEach((function(t){var e=o.rowManager.findRow(t[o.options.index]);i++,e?e.updateData(t).then((function(){i--,n.push(e.getComponent()),i||s(n)})):o.rowManager.addRows(t).then((function(t){i--,n.push(t[0].getComponent()),i||s(n)}))})):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))}))},Wa.prototype.getRow=function(t){var e=this.rowManager.findRow(t);return e?e.getComponent():(console.warn("Find Error - No matching row found:",t),!1)},Wa.prototype.getRowFromPosition=function(t,e){var o=this.rowManager.getRowFromPosition(t,e);return o?o.getComponent():(console.warn("Find Error - No matching row found:",t),!1)},Wa.prototype.deleteRow=function(t){var e=this;return new Promise((function(o,n){var i=e,s=0,r=0,a=[];function l(){++s==t.length&&r&&(i.rowManager.reRenderInPosition(),o())}Array.isArray(t)||(t=[t]),t.forEach((function(t){var o=e.rowManager.findRow(t,!0);o?a.push(o):(console.warn("Delete Error - No matching row found:",t),n("Delete Error - No matching row found"),l())})),a.sort((function(t,o){return e.rowManager.rows.indexOf(t)>e.rowManager.rows.indexOf(o)?1:-1})),a.forEach((function(t){t.delete().then((function(){r++,l()})).catch((function(t){l(),n(t)}))}))}))},Wa.prototype.addRow=function(t,e,o){var n=this;return new Promise((function(i,s){"string"==typeof t&&(t=JSON.parse(t)),n.rowManager.addRows(t,e,o).then((function(t){n.modExists("columnCalcs")&&n.modules.columnCalcs.recalc(n.rowManager.activeRows),i(t[0].getComponent())}))}))},Wa.prototype.updateOrAddRow=function(t,e){var o=this;return new Promise((function(n,i){var s=o.rowManager.findRow(t);"string"==typeof e&&(e=JSON.parse(e)),s?s.updateData(e).then((function(){o.modExists("columnCalcs")&&o.modules.columnCalcs.recalc(o.rowManager.activeRows),n(s.getComponent())})).catch((function(t){i(t)})):s=o.rowManager.addRows(e).then((function(t){o.modExists("columnCalcs")&&o.modules.columnCalcs.recalc(o.rowManager.activeRows),n(t[0].getComponent())})).catch((function(t){i(t)}))}))},Wa.prototype.updateRow=function(t,e){var o=this;return new Promise((function(n,i){var s=o.rowManager.findRow(t);"string"==typeof e&&(e=JSON.parse(e)),s?s.updateData(e).then((function(){n(s.getComponent())})).catch((function(t){i(t)})):(console.warn("Update Error - No matching row found:",t),i("Update Error - No matching row found"))}))},Wa.prototype.scrollToRow=function(t,e,o){var n=this;return new Promise((function(i,s){var r=n.rowManager.findRow(t);r?n.rowManager.scrollToRow(r,e,o).then((function(){i()})).catch((function(t){s(t)})):(console.warn("Scroll Error - No matching row found:",t),s("Scroll Error - No matching row found"))}))},Wa.prototype.moveRow=function(t,e,o){var n=this.rowManager.findRow(t);n?n.moveToRow(e,o):console.warn("Move Error - No matching row found:",t)},Wa.prototype.getRows=function(t){return!0===t&&(console.warn("passing a boolean to the getRows function is deprecated, you should now pass the string 'active'"),t="active"),this.rowManager.getComponents(t)},Wa.prototype.getRowPosition=function(t,e){var o=this.rowManager.findRow(t);return o?this.rowManager.getRowPosition(o,e):(console.warn("Position Error - No matching row found:",t),!1)},Wa.prototype.copyToClipboard=function(t){this.modExists("clipboard",!0)&&this.modules.clipboard.copy(t)},Wa.prototype.setColumns=function(t){this.columnManager.setColumns(t)},Wa.prototype.getColumns=function(t){return this.columnManager.getComponents(t)},Wa.prototype.getColumn=function(t){var e=this.columnManager.findColumn(t);return e?e.getComponent():(console.warn("Find Error - No matching column found:",t),!1)},Wa.prototype.getColumnDefinitions=function(){return this.columnManager.getDefinitionTree()},Wa.prototype.getColumnLayout=function(){if(this.modExists("persistence",!0))return this.modules.persistence.parseColumns(this.columnManager.getColumns())},Wa.prototype.setColumnLayout=function(t){return!!this.modExists("persistence",!0)&&(this.columnManager.setColumns(this.modules.persistence.mergeDefinition(this.options.columns,t)),!0)},Wa.prototype.showColumn=function(t){var e=this.columnManager.findColumn(t);if(!e)return console.warn("Column Show Error - No matching column found:",t),!1;e.show(),this.options.responsiveLayout&&this.modExists("responsiveLayout",!0)&&this.modules.responsiveLayout.update()},Wa.prototype.hideColumn=function(t){var e=this.columnManager.findColumn(t);if(!e)return console.warn("Column Hide Error - No matching column found:",t),!1;e.hide(),this.options.responsiveLayout&&this.modExists("responsiveLayout",!0)&&this.modules.responsiveLayout.update()},Wa.prototype.toggleColumn=function(t){var e=this.columnManager.findColumn(t);if(!e)return console.warn("Column Visibility Toggle Error - No matching column found:",t),!1;e.visible?e.hide():e.show()},Wa.prototype.addColumn=function(t,e,o){var n=this;return new Promise((function(i,s){var r=n.columnManager.findColumn(o);n.columnManager.addColumn(t,e,r).then((function(t){i(t.getComponent())})).catch((function(t){s(t)}))}))},Wa.prototype.deleteColumn=function(t){var e=this;return new Promise((function(o,n){var i=e.columnManager.findColumn(t);i?i.delete().then((function(){o()})).catch((function(t){n(t)})):(console.warn("Column Delete Error - No matching column found:",t),n())}))},Wa.prototype.updateColumnDefinition=function(t,e){var o=this;return new Promise((function(n,i){var s=o.columnManager.findColumn(t);s?s.updateDefinition(e).then((function(t){n(t)})).catch((function(t){i(t)})):(console.warn("Column Update Error - No matching column found:",t),i())}))},Wa.prototype.moveColumn=function(t,e,o){var n=this.columnManager.findColumn(t),i=this.columnManager.findColumn(e);n?i?this.columnManager.moveColumn(n,i,o):console.warn("Move Error - No matching column found:",i):console.warn("Move Error - No matching column found:",t)},Wa.prototype.scrollToColumn=function(t,e,o){var n=this;return new Promise((function(i,s){var r=n.columnManager.findColumn(t);r?n.columnManager.scrollToColumn(r,e,o).then((function(){i()})).catch((function(t){s(t)})):(console.warn("Scroll Error - No matching column found:",t),s("Scroll Error - No matching column found"))}))},Wa.prototype.setLocale=function(t){this.modules.localize.setLocale(t)},Wa.prototype.getLocale=function(){return this.modules.localize.getLocale()},Wa.prototype.getLang=function(t){return this.modules.localize.getLang(t)},Wa.prototype.redraw=function(t){this.columnManager.redraw(t),this.rowManager.redraw(t)},Wa.prototype.setHeight=function(t){"classic"!==this.rowManager.renderMode?(this.options.height=isNaN(t)?t:t+"px",this.element.style.height=this.options.height,this.rowManager.setRenderMode(),this.rowManager.redraw()):console.warn("setHeight function is not available in classic render mode")},Wa.prototype.setSort=function(t,e){this.modExists("sort",!0)&&(this.modules.sort.setSort(t,e),this.rowManager.sorterRefresh())},Wa.prototype.getSorters=function(){if(this.modExists("sort",!0))return this.modules.sort.getSort()},Wa.prototype.clearSort=function(){this.modExists("sort",!0)&&(this.modules.sort.clear(),this.rowManager.sorterRefresh())},Wa.prototype.setFilter=function(t,e,o,n){this.modExists("filter",!0)&&(this.modules.filter.setFilter(t,e,o,n),this.rowManager.filterRefresh())},Wa.prototype.addFilter=function(t,e,o,n){this.modExists("filter",!0)&&(this.modules.filter.addFilter(t,e,o,n),this.rowManager.filterRefresh())},Wa.prototype.getFilters=function(t){if(this.modExists("filter",!0))return this.modules.filter.getFilters(t)},Wa.prototype.setHeaderFilterFocus=function(t){if(this.modExists("filter",!0)){var e=this.columnManager.findColumn(t);if(!e)return console.warn("Column Filter Focus Error - No matching column found:",t),!1;this.modules.filter.setHeaderFilterFocus(e)}},Wa.prototype.getHeaderFilterValue=function(t){if(this.modExists("filter",!0)){var e=this.columnManager.findColumn(t);if(e)return this.modules.filter.getHeaderFilterValue(e);console.warn("Column Filter Error - No matching column found:",t)}},Wa.prototype.setHeaderFilterValue=function(t,e){if(this.modExists("filter",!0)){var o=this.columnManager.findColumn(t);if(!o)return console.warn("Column Filter Error - No matching column found:",t),!1;this.modules.filter.setHeaderFilterValue(o,e)}},Wa.prototype.getHeaderFilters=function(){if(this.modExists("filter",!0))return this.modules.filter.getHeaderFilters()},Wa.prototype.removeFilter=function(t,e,o){this.modExists("filter",!0)&&(this.modules.filter.removeFilter(t,e,o),this.rowManager.filterRefresh())},Wa.prototype.clearFilter=function(t){this.modExists("filter",!0)&&(this.modules.filter.clearFilter(t),this.rowManager.filterRefresh())},Wa.prototype.clearHeaderFilter=function(){this.modExists("filter",!0)&&(this.modules.filter.clearHeaderFilter(),this.rowManager.filterRefresh())},Wa.prototype.selectRow=function(t){this.modExists("selectRow",!0)&&(!0===t&&(console.warn("passing a boolean to the selectRowselectRow function is deprecated, you should now pass the string 'active'"),t="active"),this.modules.selectRow.selectRows(t))},Wa.prototype.deselectRow=function(t){this.modExists("selectRow",!0)&&this.modules.selectRow.deselectRows(t)},Wa.prototype.toggleSelectRow=function(t){this.modExists("selectRow",!0)&&this.modules.selectRow.toggleRow(t)},Wa.prototype.getSelectedRows=function(){if(this.modExists("selectRow",!0))return this.modules.selectRow.getSelectedRows()},Wa.prototype.getSelectedData=function(){if(this.modExists("selectRow",!0))return this.modules.selectRow.getSelectedData()},Wa.prototype.getInvalidCells=function(){if(this.modExists("validate",!0))return this.modules.validate.getInvalidCells()},Wa.prototype.clearCellValidation=function(t){var e=this;this.modExists("validate",!0)&&(t||(t=this.modules.validate.getInvalidCells()),Array.isArray(t)||(t=[t]),t.forEach((function(t){e.modules.validate.clearValidation(t._getSelf())})))},Wa.prototype.validate=function(t){var e=[];return this.rowManager.rows.forEach((function(t){var o=t.validate();!0!==o&&(e=e.concat(o))})),!e.length||e},Wa.prototype.setMaxPage=function(t){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.setMaxPage(t)},Wa.prototype.setPage=function(t){return this.options.pagination&&this.modExists("page")?this.modules.page.setPage(t):new Promise((function(t,e){e()}))},Wa.prototype.setPageToRow=function(t){var e=this;return new Promise((function(o,n){e.options.pagination&&e.modExists("page")&&(t=e.rowManager.findRow(t))?e.modules.page.setPageToRow(t).then((function(){o()})).catch((function(){n()})):n()}))},Wa.prototype.setPageSize=function(t){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.setPageSize(t),this.modules.page.setPage(1).then((function(){})).catch((function(){}))},Wa.prototype.getPageSize=function(){if(this.options.pagination&&this.modExists("page",!0))return this.modules.page.getPageSize()},Wa.prototype.previousPage=function(){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.previousPage()},Wa.prototype.nextPage=function(){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.nextPage()},Wa.prototype.getPage=function(){return!(!this.options.pagination||!this.modExists("page"))&&this.modules.page.getPage()},Wa.prototype.getPageMax=function(){return!(!this.options.pagination||!this.modExists("page"))&&this.modules.page.getPageMax()},Wa.prototype.setGroupBy=function(t){if(!this.modExists("groupRows",!0))return!1;this.options.groupBy=t,this.modules.groupRows.initialize(),this.rowManager.refreshActiveData("display"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")},Wa.prototype.setGroupValues=function(t){if(!this.modExists("groupRows",!0))return!1;this.options.groupValues=t,this.modules.groupRows.initialize(),this.rowManager.refreshActiveData("display"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")},Wa.prototype.setGroupStartOpen=function(t){if(!this.modExists("groupRows",!0))return!1;this.options.groupStartOpen=t,this.modules.groupRows.initialize(),this.options.groupBy?(this.rowManager.refreshActiveData("group"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")):console.warn("Grouping Update - cant refresh view, no groups have been set")},Wa.prototype.setGroupHeader=function(t){if(!this.modExists("groupRows",!0))return!1;this.options.groupHeader=t,this.modules.groupRows.initialize(),this.options.groupBy?(this.rowManager.refreshActiveData("group"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")):console.warn("Grouping Update - cant refresh view, no groups have been set")},Wa.prototype.getGroups=function(t){return!!this.modExists("groupRows",!0)&&this.modules.groupRows.getGroups(!0)},Wa.prototype.getGroupedData=function(){if(this.modExists("groupRows",!0))return this.options.groupBy?this.modules.groupRows.getGroupedData():this.getData()},Wa.prototype.getEditedCells=function(){if(this.modExists("edit",!0))return this.modules.edit.getEditedCells()},Wa.prototype.clearCellEdited=function(t){var e=this;this.modExists("edit",!0)&&(t||(t=this.modules.edit.getEditedCells()),Array.isArray(t)||(t=[t]),t.forEach((function(t){e.modules.edit.clearEdited(t._getSelf())})))},Wa.prototype.getCalcResults=function(){return!!this.modExists("columnCalcs",!0)&&this.modules.columnCalcs.getResults()},Wa.prototype.recalc=function(){this.modExists("columnCalcs",!0)&&this.modules.columnCalcs.recalcAll(this.rowManager.activeRows)},Wa.prototype.navigatePrev=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&t.nav().prev()},Wa.prototype.navigateNext=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&t.nav().next()},Wa.prototype.navigateLeft=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().left())},Wa.prototype.navigateRight=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().right())},Wa.prototype.navigateUp=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().up())},Wa.prototype.navigateDown=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().down())},Wa.prototype.undo=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.undo()},Wa.prototype.redo=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.redo()},Wa.prototype.getHistoryUndoSize=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.getHistoryUndoSize()},Wa.prototype.getHistoryRedoSize=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.getHistoryRedoSize()},Wa.prototype.download=function(t,e,o,n){this.modExists("download",!0)&&this.modules.download.download(t,e,o,n)},Wa.prototype.downloadToTab=function(t,e,o,n){this.modExists("download",!0)&&this.modules.download.download(t,e,o,n,!0)},Wa.prototype.tableComms=function(t,e,o,n){this.modules.comms.receive(t,e,o,n)},Wa.prototype.moduleBindings={},Wa.prototype.extendModule=function(t,e,o){if(Wa.prototype.moduleBindings[t]){var n=Wa.prototype.moduleBindings[t].prototype[e];if(n)if("object"==(void 0===o?"undefined":Aa(o)))for(var i in o)n[i]=o[i];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",e)}else console.warn("Module Error - module does not exist:",t)},Wa.prototype.registerModule=function(t,e){Wa.prototype.moduleBindings[t]=e},Wa.prototype.bindModules=function(){for(var t in this.modules={},Wa.prototype.moduleBindings)this.modules[t]=new Wa.prototype.moduleBindings[t](this)},Wa.prototype.modExists=function(t,e){return!!this.modules[t]||(e&&console.error("Tabulator Module Not Installed: "+t),!1)},Wa.prototype.helpers={elVisible:function(t){return!(t.offsetWidth<=0&&t.offsetHeight<=0)},elOffset:function(t){var e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset-document.documentElement.clientTop,left:e.left+window.pageXOffset-document.documentElement.clientLeft}},deepClone:function(t){var e=Object.assign(Array.isArray(t)?[]:{},t);for(var o in t)null!=t[o]&&"object"===Aa(t[o])&&(e[o]=t[o]instanceof Date?new Date(t[o]):this.deepClone(t[o]));return e}},Wa.prototype.comms={tables:[],register:function(t){Wa.prototype.comms.tables.push(t)},deregister:function(t){var e=Wa.prototype.comms.tables.indexOf(t);e>-1&&Wa.prototype.comms.tables.splice(e,1)},lookupTable:function(t,e){var o,n,i=[];if("string"==typeof t){if((o=document.querySelectorAll(t)).length)for(var s=0;s<o.length;s++)(n=Wa.prototype.comms.matchElement(o[s]))&&i.push(n)}else"undefined"!=typeof HTMLElement&&t instanceof HTMLElement||t instanceof Wa?(n=Wa.prototype.comms.matchElement(t))&&i.push(n):Array.isArray(t)?t.forEach((function(t){i=i.concat(Wa.prototype.comms.lookupTable(t))})):e||console.warn("Table Connection Error - Invalid Selector",t);return i},matchElement:function(t){return Wa.prototype.comms.tables.find((function(e){return t instanceof Wa?e===t:e.element===t}))}},Wa.prototype.findTable=function(t){var e=Wa.prototype.comms.lookupTable(t,!0);return!(Array.isArray(e)&&!e.length)&&e};var Ga=function(t){this.table=t,this.mode=null};Ga.prototype.initialize=function(t){this.modes[t]?this.mode=t:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+t),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode)},Ga.prototype.getMode=function(){return this.mode},Ga.prototype.layout=function(){this.modes[this.mode].call(this,this.table.columnManager.columnsByIndex)},Ga.prototype.modes={fitData:function(t){this.table.options.virtualDomHoz?this.table.vdomHoz.fitDataLayoutOverride():t.forEach((function(t){t.reinitializeWidth()})),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataFill:function(t){t.forEach((function(t){t.reinitializeWidth()})),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataTable:function(t){t.forEach((function(t){t.reinitializeWidth()})),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataStretch:function(t){var e=this,o=0,n=this.table.rowManager.element.clientWidth,i=0,s=!1;t.forEach((function(t,n){t.widthFixed||t.reinitializeWidth(),(e.table.options.responsiveLayout?t.modules.responsive.visible:t.visible)&&(s=t),t.visible&&(o+=t.getWidth())})),s?(i=n-o+s.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(s.setWidth(0),this.table.modules.responsiveLayout.update()),i>0?s.setWidth(i):s.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitColumns:function(t){var e,o,n=this.table.element.clientWidth,i=0,s=0,r=0,a=[],l=[],c=0,u=0;function d(t){return"string"==typeof t?t.indexOf("%")>-1?n/100*parseInt(t):parseInt(t):t}function h(t,e,o,n){var i=[],s=0,r=0,a=0,l=0,c=0,u=[];function p(t){return o*(t.column.definition.widthGrow||1)}function m(t){return d(t.width)-o*(t.column.definition.widthShrink||0)}return t.forEach((function(t,e){var o=n?m(t):p(t);t.column.minWidth>=o?i.push(t):(u.push(t),c+=n?t.column.definition.widthShrink||1:t.column.definition.widthGrow||1)})),i.length?(i.forEach((function(t){s+=n?t.width-t.column.minWidth:t.column.minWidth,t.width=t.column.minWidth})),l=(r=e-s)-(a=c?Math.floor(r/c):r)*c,l+=h(u,r,a,n)):(l=c?e-Math.floor(e/c)*c:e,u.forEach((function(t){t.width=n?m(t):p(t)}))),l}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(n-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),t.forEach((function(t){var e,o,n;t.visible&&(e=t.definition.width,o=parseInt(t.minWidth),e?(n=d(e),i+=n>o?n:o,t.definition.widthShrink&&(l.push({column:t,width:n>o?n:o}),c+=t.definition.widthShrink)):(a.push({column:t,width:0}),r+=t.definition.widthGrow||1))})),s=n-i,e=Math.floor(s/r),u=h(a,s,e,!1),a.length&&u>0&&(a[a.length-1].width+=+u),a.forEach((function(t){s-=t.width})),(o=Math.abs(u)+s)>0&&c&&(u=h(l,o,Math.floor(o/c),!0)),l.length&&(l[l.length-1].width-=u),a.forEach((function(t){t.column.setWidth(t.width)})),l.forEach((function(t){t.column.setWidth(t.width)}))}},Wa.prototype.registerModule("layout",Ga);var Ua=function(t){this.table=t,this.locale="default",this.lang=!1,this.bindings={},this.langList={}};Ua.prototype.initialize=function(){this.langList=Wa.prototype.helpers.deepClone(this.langs)},Ua.prototype.setHeaderFilterPlaceholder=function(t){this.langList.default.headerFilters.default=t},Ua.prototype.setHeaderFilterColumnPlaceholder=function(t,e){this.langList.default.headerFilters.columns[t]=e,this.lang&&!this.lang.headerFilters.columns[t]&&(this.lang.headerFilters.columns[t]=e)},Ua.prototype.installLang=function(t,e){this.langList[t]?this._setLangProp(this.langList[t],e):this.langList[t]=e},Ua.prototype._setLangProp=function(t,e){for(var o in e)t[o]&&"object"==Aa(t[o])?this._setLangProp(t[o],e[o]):t[o]=e[o]},Ua.prototype.setLocale=function(t){if(!0===(t=t||"default")&&navigator.language&&(t=navigator.language.toLowerCase()),t&&!this.langList[t]){var e=t.split("-")[0];this.langList[e]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",t,e),t=e):(console.warn("Localization Error - Matching locale not found, using default: ",t),t="default")}this.locale=t,this.lang=Wa.prototype.helpers.deepClone(this.langList.default||{}),"default"!=t&&function t(e,o){for(var n in e)"object"==Aa(e[n])?(o[n]||(o[n]={}),t(e[n],o[n])):o[n]=e[n]}(this.langList[t],this.lang),this.table.options.localized.call(this.table,this.locale,this.lang),this._executeBindings()},Ua.prototype.getLocale=function(t){return self.locale},Ua.prototype.getLang=function(t){return t?this.langList[t]:this.lang},Ua.prototype.getText=function(t,e){var o=(t=e?t+"|"+e:t).split("|");return this._getLangElement(o,this.locale)||""},Ua.prototype._getLangElement=function(t,e){var o=this.lang;return t.forEach((function(t){var e;o&&(o=void 0!==(e=o[t])&&e)})),o},Ua.prototype.bind=function(t,e){this.bindings[t]||(this.bindings[t]=[]),this.bindings[t].push(e),e(this.getText(t),this.lang)},Ua.prototype._executeBindings=function(){var t=this,e=function(e){t.bindings[e].forEach((function(o){o(t.getText(e),t.lang)}))};for(var o in t.bindings)e(o)},Ua.prototype.langs={default:{groups:{item:"item",items:"items"},columns:{},ajax:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All"},headerFilters:{default:"filter column...",columns:{}}}},Wa.prototype.registerModule("localize",Ua);var qa=function(t){this.table=t};qa.prototype.getConnections=function(t){var e=this,o=[];return Wa.prototype.comms.lookupTable(t).forEach((function(t){e.table!==t&&o.push(t)})),o},qa.prototype.send=function(t,e,o,n){var i=this,s=this.getConnections(t);s.forEach((function(t){t.tableComms(i.table.element,e,o,n)})),!s.length&&t&&console.warn("Table Connection Error - No tables matching selector found",t)},qa.prototype.receive=function(t,e,o,n){if(this.table.modExists(e))return this.table.modules[e].commsReceived(t,o,n);console.warn("Inter-table Comms Error - no such module:",e)},Wa.prototype.registerModule("comms",qa);var Ya=function(t){this.table=t,this.allowedTypes=["","data","download","clipboard","print","htmlOutput"]};Ya.prototype.initializeColumn=function(t){var e=this,o=!1,n={};this.allowedTypes.forEach((function(i){var s,r="accessor"+(i.charAt(0).toUpperCase()+i.slice(1));t.definition[r]&&(s=e.lookupAccessor(t.definition[r]))&&(o=!0,n[r]={accessor:s,params:t.definition[r+"Params"]||{}})})),o&&(t.modules.accessor=n)},Ya.prototype.lookupAccessor=function(t){var e=!1;switch(void 0===t?"undefined":Aa(t)){case"string":this.accessors[t]?e=this.accessors[t]:console.warn("Accessor Error - No such accessor found, ignoring: ",t);break;case"function":e=t}return e},Ya.prototype.transformRow=function(t,e){var o="accessor"+(e.charAt(0).toUpperCase()+e.slice(1)),n=t.getComponent(),i=Wa.prototype.helpers.deepClone(t.data||{});return this.table.columnManager.traverse((function(t){var s,r,a,l;t.modules.accessor&&(r=t.modules.accessor[o]||t.modules.accessor.accessor||!1)&&"undefined"!=(s=t.getFieldValue(i))&&(l=t.getComponent(),a="function"==typeof r.params?r.params(s,i,e,l,n):r.params,t.setFieldValue(i,r.accessor(s,i,e,a,l,n)))})),i},Ya.prototype.accessors={},Wa.prototype.registerModule("accessor",Ya);var Za=function(t){this.table=t,this.config=!1,this.url="",this.urlGenerator=!1,this.params=!1,this.loaderElement=this.createLoaderElement(),this.msgElement=this.createMsgElement(),this.loadingElement=!1,this.errorElement=!1,this.loaderPromise=!1,this.progressiveLoad=!1,this.loading=!1,this.requestOrder=0};Za.prototype.initialize=function(){var t;this.loaderElement.appendChild(this.msgElement),this.table.options.ajaxLoaderLoading&&("string"==typeof this.table.options.ajaxLoaderLoading?((t=document.createElement("template")).innerHTML=this.table.options.ajaxLoaderLoading.trim(),this.loadingElement=t.content.firstChild):this.loadingElement=this.table.options.ajaxLoaderLoading),this.loaderPromise=this.table.options.ajaxRequestFunc||this.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||this.defaultURLGenerator,this.table.options.ajaxLoaderError&&("string"==typeof this.table.options.ajaxLoaderError?((t=document.createElement("template")).innerHTML=this.table.options.ajaxLoaderError.trim(),this.errorElement=t.content.firstChild):this.errorElement=this.table.options.ajaxLoaderError),this.table.options.ajaxParams&&this.setParams(this.table.options.ajaxParams),this.table.options.ajaxConfig&&this.setConfig(this.table.options.ajaxConfig),this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.table.options.ajaxProgressiveLoad&&(this.table.options.pagination?(this.progressiveLoad=!1,console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time")):this.table.modExists("page")?(this.progressiveLoad=this.table.options.ajaxProgressiveLoad,this.table.modules.page.initializeProgressive(this.progressiveLoad)):console.error("Pagination plugin is required for progressive ajax loading"))},Za.prototype.createLoaderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-loader"),t},Za.prototype.createMsgElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-loader-msg"),t.setAttribute("role","alert"),t},Za.prototype.setParams=function(t,e){if(e)for(var o in this.params=this.params||{},t)this.params[o]=t[o];else this.params=t},Za.prototype.getParams=function(){return this.params||{}},Za.prototype.setConfig=function(t){if(this._loadDefaultConfig(),"string"==typeof t)this.config.method=t;else for(var e in t)this.config[e]=t[e]},Za.prototype._loadDefaultConfig=function(t){if(!this.config||t)for(var e in this.config={},this.defaultConfig)this.config[e]=this.defaultConfig[e]},Za.prototype.setUrl=function(t){this.url=t},Za.prototype.getUrl=function(){return this.url},Za.prototype.loadData=function(t,e){return this.progressiveLoad?this._loadDataProgressive():this._loadDataStandard(t,e)},Za.prototype.nextPage=function(t){this.loading||t<(this.table.options.ajaxProgressiveLoadScrollMargin||2*this.table.rowManager.getElement().clientHeight)&&this.table.modules.page.nextPage().then((function(){})).catch((function(){}))},Za.prototype.blockActiveRequest=function(){this.requestOrder++},Za.prototype._loadDataProgressive=function(){return this.table.rowManager.setData([]),this.table.modules.page.setPage(1)},Za.prototype._loadDataStandard=function(t,e){var o=this;return new Promise((function(n,i){o.sendRequest(t).then((function(s){o.table.rowManager.setData(s,t,e).then((function(){n()})).catch((function(t){i(t)}))})).catch((function(t){i(t)}))}))},Za.prototype.generateParamsList=function(t,e){var o=this,n=[];if(e=e||"",Array.isArray(t))t.forEach((function(t,i){n=n.concat(o.generateParamsList(t,e?e+"["+i+"]":i))}));else if("object"===(void 0===t?"undefined":Aa(t)))for(var i in t)n=n.concat(o.generateParamsList(t[i],e?e+"["+i+"]":i));else n.push({key:e,value:t});return n},Za.prototype.serializeParams=function(t){var e=this.generateParamsList(t),o=[];return e.forEach((function(t){o.push(encodeURIComponent(t.key)+"="+encodeURIComponent(t.value))})),o.join("&")},Za.prototype.sendRequest=function(t){var e,o=this,n=this,i=n.url;return n.requestOrder++,e=n.requestOrder,n._loadDefaultConfig(),new Promise((function(s,r){!1!==n.table.options.ajaxRequesting.call(o.table,n.url,n.params)?(n.loading=!0,t||n.showLoader(),o.loaderPromise(i,n.config,n.params).then((function(t){e===n.requestOrder?(n.table.options.ajaxResponse&&(t=n.table.options.ajaxResponse.call(n.table,n.url,n.params,t)),s(t),n.hideLoader(),n.loading=!1):console.warn("Ajax Response Blocked - An active ajax request was blocked by an attempt to change table data while the request was being made")})).catch((function(t){console.error("Ajax Load Error: ",t),n.table.options.ajaxError.call(n.table,t),n.showError(),setTimeout((function(){n.hideLoader()}),3e3),n.loading=!1,r()}))):r()}))},Za.prototype.showLoader=function(){if("function"==typeof this.table.options.ajaxLoader?this.table.options.ajaxLoader():this.table.options.ajaxLoader){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-error"),this.msgElement.classList.add("tabulator-loading"),this.loadingElement?this.msgElement.appendChild(this.loadingElement):this.msgElement.innerHTML=this.table.modules.localize.getText("ajax|loading"),this.table.element.appendChild(this.loaderElement)}},Za.prototype.showError=function(){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-loading"),this.msgElement.classList.add("tabulator-error"),this.errorElement?this.msgElement.appendChild(this.errorElement):this.msgElement.innerHTML=this.table.modules.localize.getText("ajax|error"),this.table.element.appendChild(this.loaderElement)},Za.prototype.hideLoader=function(){this.loaderElement.parentNode&&this.loaderElement.parentNode.removeChild(this.loaderElement)},Za.prototype.defaultConfig={method:"GET"},Za.prototype.defaultURLGenerator=function(t,e,o){return t&&o&&Object.keys(o).length&&(e.method&&"get"!=e.method.toLowerCase()||(e.method="get",t+=(t.includes("?")?"&":"?")+this.serializeParams(o))),t},Za.prototype.defaultLoaderPromise=function(t,e,o){var n,i=this;return new Promise((function(s,r){if(t=i.urlGenerator(t,e,o),"GET"!=e.method.toUpperCase())if(n="object"===Aa(i.table.options.ajaxContentType)?i.table.options.ajaxContentType:i.contentTypeFormatters[i.table.options.ajaxContentType]){for(var a in n.headers)e.headers||(e.headers={}),void 0===e.headers[a]&&(e.headers[a]=n.headers[a]);e.body=n.body.call(i,t,e,o)}else console.warn("Ajax Error - Invalid ajaxContentType value:",i.table.options.ajaxContentType);t?(void 0===e.headers&&(e.headers={}),void 0===e.headers.Accept&&(e.headers.Accept="application/json"),void 0===e.headers["X-Requested-With"]&&(e.headers["X-Requested-With"]="XMLHttpRequest"),void 0===e.mode&&(e.mode="cors"),"cors"==e.mode?(void 0===e.headers["Access-Control-Allow-Origin"]&&(e.headers["Access-Control-Allow-Origin"]=window.location.origin),void 0===e.credentials&&(e.credentials="same-origin")):void 0===e.credentials&&(e.credentials="include"),fetch(t,e).then((function(t){t.ok?t.json().then((function(t){s(t)})).catch((function(t){r(t),console.warn("Ajax Load Error - Invalid JSON returned",t)})):(console.error("Ajax Load Error - Connection Error: "+t.status,t.statusText),r(t))})).catch((function(t){console.error("Ajax Load Error - Connection Error: ",t),r(t)}))):(console.warn("Ajax Load Error - No URL Set"),s([]))}))},Za.prototype.contentTypeFormatters={json:{headers:{"Content-Type":"application/json"},body:function(t,e,o){return JSON.stringify(o)}},form:{headers:{},body:function(t,e,o){var n=this.generateParamsList(o),i=new FormData;return n.forEach((function(t){i.append(t.key,t.value)})),i}}},Wa.prototype.registerModule("ajax",Za);var $a=function(t){this._row=t};$a.prototype.getData=function(t){return this._row.getData(t)},$a.prototype.getElement=function(){return this._row.getElement()},$a.prototype.getTable=function(){return this._row.table},$a.prototype.getCells=function(){var t=[];return this._row.getCells().forEach((function(e){t.push(e.getComponent())})),t},$a.prototype.getCell=function(t){var e=this._row.getCell(t);return!!e&&e.getComponent()},$a.prototype._getSelf=function(){return this._row};var Xa=function(t){this.table=t,this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.initialize()};Xa.prototype.createElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-calcs-holder"),t},Xa.prototype.initialize=function(){this.genColumn=new za({field:"value"},this)},Xa.prototype.registerColumnField=function(){},Xa.prototype.initializeColumn=function(t){var e=t.definition,o={topCalcParams:e.topCalcParams||{},botCalcParams:e.bottomCalcParams||{}};if(e.topCalc){switch(Aa(e.topCalc)){case"string":this.calculations[e.topCalc]?o.topCalc=this.calculations[e.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",e.topCalc);break;case"function":o.topCalc=e.topCalc}o.topCalc&&(t.modules.columnCalcs=o,this.topCalcs.push(t),"group"!=this.table.options.columnCalcs&&this.initializeTopRow())}if(e.bottomCalc){switch(Aa(e.bottomCalc)){case"string":this.calculations[e.bottomCalc]?o.botCalc=this.calculations[e.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",e.bottomCalc);break;case"function":o.botCalc=e.bottomCalc}o.botCalc&&(t.modules.columnCalcs=o,this.botCalcs.push(t),"group"!=this.table.options.columnCalcs&&this.initializeBottomRow())}},Xa.prototype.removeCalcs=function(){var t=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),t=!0),this.botInitialized&&(this.botInitialized=!1,this.table.footerManager.remove(this.botElement),t=!0),t&&this.table.rowManager.adjustTableSize()},Xa.prototype.initializeTopRow=function(){this.topInitialized||(this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)},Xa.prototype.initializeBottomRow=function(){this.botInitialized||(this.table.footerManager.prepend(this.botElement),this.botInitialized=!0)},Xa.prototype.scrollHorizontal=function(t){this.table.columnManager.getElement(),this.botInitialized&&this.botRow&&(this.botRow.getElement().style.marginLeft=-t+"px")},Xa.prototype.recalc=function(t){var e;if(this.topInitialized||this.botInitialized){if(this.rowsToData(t),this.topInitialized){for(this.topRow&&this.topRow.deleteCells(),e=this.generateRow("top",this.rowsToData(t)),this.topRow=e;this.topElement.firstChild;)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(e.getElement()),e.initialize(!0)}if(this.botInitialized){for(this.botRow&&this.botRow.deleteCells(),e=this.generateRow("bottom",this.rowsToData(t)),this.botRow=e;this.botElement.firstChild;)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(e.getElement()),e.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}},Xa.prototype.recalcRowGroup=function(t){this.recalcGroup(this.table.modules.groupRows.getRowGroup(t))},Xa.prototype.recalcAll=function(){var t=this;(this.topCalcs.length||this.botCalcs.length)&&("group"!==this.table.options.columnCalcs&&this.recalc(this.table.rowManager.activeRows),this.table.options.groupBy&&"table"!==this.table.options.columnCalcs&&table.modules.groupRows.getChildGroups().forEach((function(e){t.recalcGroup(e)})))},Xa.prototype.recalcGroup=function(t){var e,o;t&&t.calcs&&(t.calcs.bottom&&(e=this.rowsToData(t.rows),o=this.generateRowData("bottom",e),t.calcs.bottom.updateData(o),t.calcs.bottom.reinitialize()),t.calcs.top&&(e=this.rowsToData(t.rows),o=this.generateRowData("top",e),t.calcs.top.updateData(o),t.calcs.top.reinitialize()))},Xa.prototype.generateTopRow=function(t){return this.generateRow("top",this.rowsToData(t))},Xa.prototype.generateBottomRow=function(t){return this.generateRow("bottom",this.rowsToData(t))},Xa.prototype.rowsToData=function(t){var e=this,o=[];return t.forEach((function(t){if(o.push(t.getData()),e.table.options.dataTree&&e.table.options.dataTreeChildColumnCalcs&&t.modules.dataTree.open){var n=e.rowsToData(e.table.modules.dataTree.getFilteredTreeChildren(t));o=o.concat(n)}})),o},Xa.prototype.generateRow=function(t,e){var o,n=this,i=this.generateRowData(t,e);return n.table.modExists("mutator")&&n.table.modules.mutator.disable(),o=new Oa(i,this,"calc"),n.table.modExists("mutator")&&n.table.modules.mutator.enable(),o.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+t),o.component=!1,o.getComponent=function(){return this.component||(this.component=new $a(this)),this.component},o.generateCells=function(){var e=[];n.table.columnManager.columnsByIndex.forEach((function(i){n.genColumn.setField(i.getField()),n.genColumn.hozAlign=i.hozAlign,n.genColumn.modules.format=i.definition[t+"CalcFormatter"]&&n.table.modExists("format")?{formatter:n.table.modules.format.getFormatter(i.definition[t+"CalcFormatter"]),params:i.definition[t+"CalcFormatterParams"]||{}}:{formatter:n.table.modules.format.getFormatter("plaintext"),params:{}},n.genColumn.definition.cssClass=i.definition.cssClass;var s=new Va(n.genColumn,o);s.getElement(),s.column=i,s.setWidth(),i.cells.push(s),e.push(s),i.visible||s.hide()})),this.cells=e},o},Xa.prototype.generateRowData=function(t,e){var o,n,i={},s="top"==t?"topCalc":"botCalc";return("top"==t?this.topCalcs:this.botCalcs).forEach((function(t){var r=[];t.modules.columnCalcs&&t.modules.columnCalcs[s]&&(e.forEach((function(e){r.push(t.getFieldValue(e))})),o="function"==typeof t.modules.columnCalcs[n=s+"Params"]?t.modules.columnCalcs[n](r,e):t.modules.columnCalcs[n],t.setFieldValue(i,t.modules.columnCalcs[s](r,e,o)))})),i},Xa.prototype.hasTopCalcs=function(){return!!this.topCalcs.length},Xa.prototype.hasBottomCalcs=function(){return!!this.botCalcs.length},Xa.prototype.redraw=function(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)},Xa.prototype.getResults=function(){var t=this,e={};return this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.getGroups(!0).forEach((function(o){e[o.getKey()]=t.getGroupResults(o)})):e={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},e},Xa.prototype.getGroupResults=function(t){var e=this,o=t._getSelf(),n=t.getSubGroups(),i={};return n.forEach((function(t){i[t.getKey()]=e.getGroupResults(t)})),{top:o.calcs.top?o.calcs.top.getData():{},bottom:o.calcs.bottom?o.calcs.bottom.getData():{},groups:i}},Xa.prototype.calculations={avg:function(t,e,o){var n=0,i=void 0!==o.precision?o.precision:2;return t.length&&(n=t.reduce((function(t,e){return t+Number(e)})),n/=t.length,n=!1!==i?n.toFixed(i):n),parseFloat(n).toString()},max:function(t,e,o){var n=null,i=void 0!==o.precision&&o.precision;return t.forEach((function(t){((t=Number(t))>n||null===n)&&(n=t)})),null!==n?!1!==i?n.toFixed(i):n:""},min:function(t,e,o){var n=null,i=void 0!==o.precision&&o.precision;return t.forEach((function(t){((t=Number(t))<n||null===n)&&(n=t)})),null!==n?!1!==i?n.toFixed(i):n:""},sum:function(t,e,o){var n=0,i=void 0!==o.precision&&o.precision;return t.length&&t.forEach((function(t){t=Number(t),n+=isNaN(t)?0:Number(t)})),!1!==i?n.toFixed(i):n},concat:function(t,e,o){var n=0;return t.length&&(n=t.reduce((function(t,e){return String(t)+String(e)}))),n},count:function(t,e,o){var n=0;return t.length&&t.forEach((function(t){t&&n++})),n}},Wa.prototype.registerModule("columnCalcs",Xa);var Ja=function(t){this.table=t,this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0};Ja.prototype.initialize=function(){var t=this;this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,!0!==this.mode&&"copy"!==this.mode||this.table.element.addEventListener("copy",(function(e){var o,n;if(!t.blocked){if(e.preventDefault(),t.customSelection)o=t.customSelection,t.table.options.clipboardCopyFormatter&&(o=t.table.options.clipboardCopyFormatter("plain",o));else{var i=t.table.modules.export.generateExportList(t.rowRange,t.table.options.clipboardCopyStyled,t.table.options.clipboardCopyConfig,"clipboard");o=(n=t.table.modules.export.genereateHTMLTable(i))?t.generatePlainContent(i):"",t.table.options.clipboardCopyFormatter&&(o=t.table.options.clipboardCopyFormatter("plain",o),n=t.table.options.clipboardCopyFormatter("html",n))}window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",o):e.clipboardData&&e.clipboardData.setData?(e.clipboardData.setData("text/plain",o),n&&e.clipboardData.setData("text/html",n)):e.originalEvent&&e.originalEvent.clipboardData.setData&&(e.originalEvent.clipboardData.setData("text/plain",o),n&&e.originalEvent.clipboardData.setData("text/html",n)),t.table.options.clipboardCopied.call(t.table,o,n),t.reset()}})),!0!==this.mode&&"paste"!==this.mode||this.table.element.addEventListener("paste",(function(e){t.paste(e)})),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction)},Ja.prototype.reset=function(){this.blocked=!1,this.originalSelectionText=""},Ja.prototype.generatePlainContent=function(t){var e=[];return t.forEach((function(t){var o=[];t.columns.forEach((function(e){var n="";if(e)if("group"===t.type&&(e.value=e.component.getKey()),null===e.value)n="";else switch(Aa(e.value)){case"object":n=JSON.stringify(e.value);break;case"undefined":n="";break;default:n=e.value}o.push(n)})),e.push(o.join("\t"))})),e.join("\n")},Ja.prototype.copy=function(t,e){var o,n;this.blocked=!1,this.customSelection=!1,!0!==this.mode&&"copy"!==this.mode||(this.rowRange=t||this.table.options.clipboardCopyRowRange,void 0!==window.getSelection&&void 0!==document.createRange?((t=document.createRange()).selectNodeContents(this.table.element),(o=window.getSelection()).toString()&&e&&(this.customSelection=o.toString()),o.removeAllRanges(),o.addRange(t)):void 0!==document.selection&&void 0!==document.body.createTextRange&&((n=document.body.createTextRange()).moveToElementText(this.table.element),n.select()),document.execCommand("copy"),o&&o.removeAllRanges())},Ja.prototype.setPasteAction=function(t){switch(void 0===t?"undefined":Aa(t)){case"string":this.pasteAction=this.pasteActions[t],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",t);break;case"function":this.pasteAction=t}},Ja.prototype.setPasteParser=function(t){switch(void 0===t?"undefined":Aa(t)){case"string":this.pasteParser=this.pasteParsers[t],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",t);break;case"function":this.pasteParser=t}},Ja.prototype.paste=function(t){var e,o,n;this.checkPaseOrigin(t)&&(e=this.getPasteData(t),(o=this.pasteParser.call(this,e))?(t.preventDefault(),this.table.modExists("mutator")&&(o=this.mutateData(o)),n=this.pasteAction.call(this,o),this.table.options.clipboardPasted.call(this.table,e,o,n)):this.table.options.clipboardPasteError.call(this.table,e))},Ja.prototype.mutateData=function(t){var e=this,o=[];return Array.isArray(t)?t.forEach((function(t){o.push(e.table.modules.mutator.transformRow(t,"clipboard"))})):o=t,o},Ja.prototype.checkPaseOrigin=function(t){var e=!0;return("DIV"!=t.target.tagName||this.table.modules.edit.currentCell)&&(e=!1),e},Ja.prototype.getPasteData=function(t){var e;return window.clipboardData&&window.clipboardData.getData?e=window.clipboardData.getData("Text"):t.clipboardData&&t.clipboardData.getData?e=t.clipboardData.getData("text/plain"):t.originalEvent&&t.originalEvent.clipboardData.getData&&(e=t.originalEvent.clipboardData.getData("text/plain")),e},Ja.prototype.pasteParsers={table:function(t){var e=[],o=!0,n=this.table.columnManager.columns,i=[],s=[];return(t=t.split("\n")).forEach((function(t){e.push(t.split("\t"))})),!(!e.length||1===e.length&&e[0].length<2)&&(e[0].forEach((function(t){var e=n.find((function(e){return t&&e.definition.title&&t.trim()&&e.definition.title.trim()===t.trim()}));e?i.push(e):o=!1})),o||(o=!0,i=[],e[0].forEach((function(t){var e=n.find((function(e){return t&&e.field&&t.trim()&&e.field.trim()===t.trim()}));e?i.push(e):o=!1})),o||(i=this.table.columnManager.columnsByIndex)),o&&e.shift(),e.forEach((function(t){var e={};t.forEach((function(t,o){i[o]&&(e[i[o].field]=t)})),s.push(e)})),s)}},Ja.prototype.pasteActions={replace:function(t){return this.table.setData(t)},update:function(t){return this.table.updateOrAddData(t)},insert:function(t){return this.table.addData(t)}},Wa.prototype.registerModule("clipboard",Ja);var Ka=function(t){this.table=t,this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.displayIndex=0};Ka.prototype.initialize=function(){var t=null,e=this.table.columnManager.getFirstVisibileColumn(),o=this.table.options;switch(this.field=o.dataTreeChildField,this.indent=o.dataTreeChildIndent,this.elementField=o.dataTreeElementColumn||!!e&&e.field,o.dataTreeBranchElement&&(!0===o.dataTreeBranchElement?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):"string"==typeof o.dataTreeBranchElement?((t=document.createElement("div")).innerHTML=o.dataTreeBranchElement,this.branchEl=t.firstChild):this.branchEl=o.dataTreeBranchElement),o.dataTreeCollapseElement?"string"==typeof o.dataTreeCollapseElement?((t=document.createElement("div")).innerHTML=o.dataTreeCollapseElement,this.collapseEl=t.firstChild):this.collapseEl=o.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),o.dataTreeExpandElement?"string"==typeof o.dataTreeExpandElement?((t=document.createElement("div")).innerHTML=o.dataTreeExpandElement,this.expandEl=t.firstChild):this.expandEl=o.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),Aa(o.dataTreeStartExpanded)){case"boolean":this.startOpen=function(t,e){return o.dataTreeStartExpanded};break;case"function":this.startOpen=o.dataTreeStartExpanded;break;default:this.startOpen=function(t,e){return o.dataTreeStartExpanded[e]}}},Ka.prototype.initializeRow=function(t){var e=t.getData()[this.field],o=Array.isArray(e),n=o||!o&&"object"===(void 0===e?"undefined":Aa(e))&&null!==e;!n&&t.modules.dataTree&&t.modules.dataTree.branchEl&&t.modules.dataTree.branchEl.parentNode.removeChild(t.modules.dataTree.branchEl),!n&&t.modules.dataTree&&t.modules.dataTree.controlEl&&t.modules.dataTree.controlEl.parentNode.removeChild(t.modules.dataTree.controlEl),t.modules.dataTree={index:t.modules.dataTree?t.modules.dataTree.index:0,open:!!n&&(t.modules.dataTree?t.modules.dataTree.open:this.startOpen(t.getComponent(),0)),controlEl:!(!t.modules.dataTree||!n)&&t.modules.dataTree.controlEl,branchEl:!(!t.modules.dataTree||!n)&&t.modules.dataTree.branchEl,parent:!!t.modules.dataTree&&t.modules.dataTree.parent,children:n}},Ka.prototype.layoutRow=function(t){var e=(this.elementField?t.getCell(this.elementField):t.getCells()[0]).getElement(),o=t.modules.dataTree;o.branchEl&&(o.branchEl.parentNode&&o.branchEl.parentNode.removeChild(o.branchEl),o.branchEl=!1),o.controlEl&&(o.controlEl.parentNode&&o.controlEl.parentNode.removeChild(o.controlEl),o.controlEl=!1),this.generateControlElement(t,e),t.element.classList.add("tabulator-tree-level-"+o.index),o.index&&(this.branchEl?(o.branchEl=this.branchEl.cloneNode(!0),e.insertBefore(o.branchEl,e.firstChild),this.table.rtl?o.branchEl.style.marginRight=(o.branchEl.offsetWidth+o.branchEl.style.marginLeft)*(o.index-1)+o.index*this.indent+"px":o.branchEl.style.marginLeft=(o.branchEl.offsetWidth+o.branchEl.style.marginRight)*(o.index-1)+o.index*this.indent+"px"):this.table.rtl?e.style.paddingRight=parseInt(window.getComputedStyle(e,null).getPropertyValue("padding-right"))+o.index*this.indent+"px":e.style.paddingLeft=parseInt(window.getComputedStyle(e,null).getPropertyValue("padding-left"))+o.index*this.indent+"px")},Ka.prototype.generateControlElement=function(t,e){var o=this,n=t.modules.dataTree,i=(e=e||t.getCells()[0].getElement(),n.controlEl);!1!==n.children&&(n.open?(n.controlEl=this.collapseEl.cloneNode(!0),n.controlEl.addEventListener("click",(function(e){e.stopPropagation(),o.collapseRow(t)}))):(n.controlEl=this.expandEl.cloneNode(!0),n.controlEl.addEventListener("click",(function(e){e.stopPropagation(),o.expandRow(t)}))),n.controlEl.addEventListener("mousedown",(function(t){t.stopPropagation()})),i&&i.parentNode===e?i.parentNode.replaceChild(n.controlEl,i):e.insertBefore(n.controlEl,e.firstChild))},Ka.prototype.setDisplayIndex=function(t){this.displayIndex=t},Ka.prototype.getDisplayIndex=function(){return this.displayIndex},Ka.prototype.getRows=function(t){var e=this,o=[];return t.forEach((function(t,n){var i;o.push(t),t instanceof Oa&&((i=t.modules.dataTree.children).index||!1===i.children||e.getChildren(t).forEach((function(t){o.push(t)})))})),o},Ka.prototype.getChildren=function(t){var e=this,o=t.modules.dataTree,n=[],i=[];return!1!==o.children&&o.open&&(Array.isArray(o.children)||(o.children=this.generateChildren(t)),n=this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(o.children):o.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(n),n.forEach((function(t){i.push(t),e.getChildren(t).forEach((function(t){i.push(t)}))}))),i},Ka.prototype.generateChildren=function(t){var e=this,o=[],n=t.getData()[this.field];return Array.isArray(n)||(n=[n]),n.forEach((function(n){var i=new Oa(n||{},e.table.rowManager);i.modules.dataTree.index=t.modules.dataTree.index+1,i.modules.dataTree.parent=t,i.modules.dataTree.children&&(i.modules.dataTree.open=e.startOpen(i.getComponent(),i.modules.dataTree.index)),o.push(i)})),o},Ka.prototype.expandRow=function(t,e){var o=t.modules.dataTree;!1!==o.children&&(o.open=!0,t.reinitialize(),this.table.rowManager.refreshActiveData("tree",!1,!0),this.table.options.dataTreeRowExpanded(t.getComponent(),t.modules.dataTree.index))},Ka.prototype.collapseRow=function(t){var e=t.modules.dataTree;!1!==e.children&&(e.open=!1,t.reinitialize(),this.table.rowManager.refreshActiveData("tree",!1,!0),this.table.options.dataTreeRowCollapsed(t.getComponent(),t.modules.dataTree.index))},Ka.prototype.toggleRow=function(t){var e=t.modules.dataTree;!1!==e.children&&(e.open?this.collapseRow(t):this.expandRow(t))},Ka.prototype.getTreeParent=function(t){return!!t.modules.dataTree.parent&&t.modules.dataTree.parent.getComponent()},Ka.prototype.getFilteredTreeChildren=function(t){var e=t.modules.dataTree,o=[];return e.children&&(Array.isArray(e.children)||(e.children=this.generateChildren(t)),(this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(e.children):e.children).forEach((function(t){t instanceof Oa&&o.push(t)}))),o},Ka.prototype.rowDelete=function(t){var e,o=t.modules.dataTree.parent;o&&(!1!==(e=this.findChildIndex(t,o))&&o.data[this.field].splice(e,1),o.data[this.field].length||delete o.data[this.field],this.initializeRow(o),this.layoutRow(o)),this.table.rowManager.refreshActiveData("tree",!1,!0)},Ka.prototype.addTreeChildRow=function(t,e,o,n){var i=!1;"string"==typeof e&&(e=JSON.parse(e)),Array.isArray(t.data[this.field])||(t.data[this.field]=[],t.modules.dataTree.open=this.startOpen(t.getComponent(),t.modules.dataTree.index)),void 0!==n&&!1!==(i=this.findChildIndex(n,t))&&t.data[this.field].splice(o?i:i+1,0,e),!1===i&&(o?t.data[this.field].unshift(e):t.data[this.field].push(e)),this.initializeRow(t),this.layoutRow(t),this.table.rowManager.refreshActiveData("tree",!1,!0)},Ka.prototype.findChildIndex=function(t,e){var o=this,n=!1;return"object"==(void 0===t?"undefined":Aa(t))?t instanceof Oa?n=t.data:t instanceof Na?n=t._getSelf().data:"undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&e.modules.dataTree&&(n=e.modules.dataTree.children.find((function(e){return e instanceof Oa&&e.element===t})))&&(n=n.data):n=null!=t&&e.data[this.field].find((function(e){return e.data[o.table.options.index]==t})),n&&(Array.isArray(e.data[this.field])&&(n=e.data[this.field].indexOf(n)),-1==n&&(n=!1)),n},Ka.prototype.getTreeChildren=function(t,e,o){var n=this,i=t.modules.dataTree,s=[];return i.children&&(Array.isArray(i.children)||(i.children=this.generateChildren(t)),i.children.forEach((function(t){t instanceof Oa&&(s.push(e?t.getComponent():t),o&&(s=s.concat(n.getTreeChildren(t,e,o))))}))),s},Ka.prototype.checkForRestyle=function(t){t.row.cells.indexOf(t)||t.row.reinitialize()},Ka.prototype.getChildField=function(){return this.field},Ka.prototype.redrawNeeded=function(t){return!!this.field&&void 0!==t[this.field]||!!this.elementField&&void 0!==t[this.elementField]},Wa.prototype.registerModule("dataTree",Ka);var Qa=function(t){this.table=t};Qa.prototype.download=function(t,e,o,n,i){var s=this,r=!1;if("function"==typeof t?r=t:s.downloaders[t]?r=s.downloaders[t]:console.warn("Download Error - No such download type found: ",t),r){var a=this.generateExportList(n);r.call(this.table,a,o||{},(function(o,n){i?!0===i?s.triggerDownload(o,n,t,e,!0):i(o):s.triggerDownload(o,n,t,e)}))}},Qa.prototype.generateExportList=function(t){var e=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,t||this.table.options.downloadRowRange,"download"),o=this.table.options.groupHeaderDownload;return o&&!Array.isArray(o)&&(o=[o]),e.forEach((function(t){var e;"group"===t.type&&(e=t.columns[0],o&&o[t.indent]&&(e.value=o[t.indent](e.value,t.component._group.getRowCount(),t.component._group.getData(),t.component)))})),e},Qa.prototype.triggerDownload=function(t,e,o,n,i){var s=document.createElement("a"),r=new Blob([t],{type:e});n=n||"Tabulator."+("function"==typeof o?"txt":o),(r=this.table.options.downloadReady.call(this.table,t,r))&&(i?window.open(window.URL.createObjectURL(r)):navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(r,n):(s.setAttribute("href",window.URL.createObjectURL(r)),s.setAttribute("download",n),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)),this.table.options.downloadComplete&&this.table.options.downloadComplete())},Qa.prototype.commsReceived=function(t,e,o){switch(e){case"intercept":this.download(o.type,"",o.options,o.active,o.intercept)}},Qa.prototype.downloaders={csv:function(t,e,o){var n=e&&e.delimiter?e.delimiter:",",i=[],s=[];t.forEach((function(t){var e=[];switch(t.type){case"group":console.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":console.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":t.columns.forEach((function(t,e){t&&1===t.depth&&(s[e]=null==t.value?"":'"'+String(t.value).split('"').join('""')+'"')}));break;case"row":t.columns.forEach((function(t){if(t){switch(Aa(t.value)){case"object":t.value=JSON.stringify(t.value);break;case"undefined":case"null":t.value=""}e.push('"'+String(t.value).split('"').join('""')+'"')}})),i.push(e.join(n))}})),s.length&&i.unshift(s.join(n)),i=i.join("\n"),e.bom&&(i="\ufeff"+i),o(i,"text/csv")},json:function(t,e,o){var n=[];t.forEach((function(t){var e={};switch(t.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":t.columns.forEach((function(t){t&&(e[t.component.getField()]=t.value)})),n.push(e)}})),o(n=JSON.stringify(n,null,"\t"),"application/json")},pdf:function(t,e,o){var n=[],i=[],s={},r=e.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},a=e.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},l=e.jsPDF||{},c=e&&e.title?e.title:"";function u(t,e){var o=[];return t.columns.forEach((function(t){var n;if(t){switch(Aa(t.value)){case"object":t.value=JSON.stringify(t.value);break;case"undefined":case"null":t.value=""}n={content:t.value,colSpan:t.width,rowSpan:t.height},e&&(n.styles=e),o.push(n)}else o.push("")})),o}l.orientation||(l.orientation=e.orientation||"landscape"),l.unit||(l.unit="pt"),t.forEach((function(t){switch(t.type){case"header":n.push(u(t));break;case"group":i.push(u(t,r));break;case"calc":i.push(u(t,a));break;case"row":i.push(u(t))}}));var d=new jsPDF(l);e&&e.autoTable&&(s="function"==typeof e.autoTable?e.autoTable(d)||{}:e.autoTable),c&&(s.addPageContent=function(t){d.text(c,40,30)}),s.head=n,s.body=i,d.autoTable(s),e&&e.documentProcessing&&e.documentProcessing(d),o(d.output("arraybuffer"),"application/pdf")},xlsx:function(t,e,o){var n=e.sheetName||"Sheet1",i=XLSX.utils.book_new();function s(){var e=[],o=[],n={},i={s:{c:0,r:0},e:{c:t[0]?t[0].columns.reduce((function(t,e){return t+(e&&e.width?e.width:1)}),0):0,r:t.length}};return t.forEach((function(t,n){var i=[];t.columns.forEach((function(t,e){t?(i.push(t.value instanceof Date||"object"!==Aa(t.value)?t.value:JSON.stringify(t.value)),(t.width>1||t.height>-1)&&o.push({s:{r:n,c:e},e:{r:n+t.height-1,c:e+t.width-1}})):i.push("")})),e.push(i)})),XLSX.utils.sheet_add_aoa(n,e),n["!ref"]=XLSX.utils.encode_range(i),o.length&&(n["!merges"]=o),n}if(i.SheetNames=[],i.Sheets={},e.sheetOnly)o(s());else{if(e.sheets)for(var r in e.sheets)!0===e.sheets[r]?(i.SheetNames.push(r),i.Sheets[r]=s()):(i.SheetNames.push(r),this.modules.comms.send(e.sheets[r],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:this.active,intercept:function(t){i.Sheets[r]=t}}));else i.SheetNames.push(n),i.Sheets[n]=s();e.documentProcessing&&(i=e.documentProcessing(i)),o(function(t){for(var e=new ArrayBuffer(t.length),o=new Uint8Array(e),n=0;n!=t.length;++n)o[n]=255&t.charCodeAt(n);return e}(XLSX.write(i,{bookType:"xlsx",bookSST:!0,type:"binary"})),"application/octet-stream")}},html:function(t,e,o){this.modExists("export",!0)&&o(this.modules.export.genereateHTMLTable(t),"text/html")}},Wa.prototype.registerModule("download",Qa);var tl=function(t){this.table=t,this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[]};tl.prototype.initializeColumn=function(t){var e={editor:!1,blocked:!1,check:t.definition.editable,params:t.definition.editorParams||{}};switch(Aa(t.definition.editor)){case"string":"tick"===t.definition.editor&&(t.definition.editor="tickCross",console.warn("DEPRECATION WARNING - the tick editor has been deprecated, please use the tickCross editor")),this.editors[t.definition.editor]?e.editor=this.editors[t.definition.editor]:console.warn("Editor Error - No such editor found: ",t.definition.editor);break;case"function":e.editor=t.definition.editor;break;case"boolean":!0===t.definition.editor&&("function"!=typeof t.definition.formatter?("tick"===t.definition.formatter&&(t.definition.formatter="tickCross",console.warn("DEPRECATION WARNING - the tick editor has been deprecated, please use the tickCross editor")),e.editor=this.editors[t.definition.formatter]?this.editors[t.definition.formatter]:this.editors.input):console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",t.definition.formatter))}e.editor&&(t.modules.edit=e)},tl.prototype.getCurrentCell=function(){return!!this.currentCell&&this.currentCell.getComponent()},tl.prototype.clearEditor=function(t){var e,o=this.currentCell;if(this.invalidEdit=!1,o){for(this.currentCell=!1,e=o.getElement(),t?o.validate():e.classList.remove("tabulator-validation-fail"),e.classList.remove("tabulator-editing");e.firstChild;)e.removeChild(e.firstChild);o.row.getElement().classList.remove("tabulator-row-editing")}},tl.prototype.cancelEdit=function(){if(this.currentCell){var t=this.currentCell,e=this.currentCell.getComponent();this.clearEditor(!0),t.setValueActual(t.getValue()),t.cellRendered(),("textarea"==t.column.definition.editor||t.column.definition.variableHeight)&&t.row.normalizeHeight(!0),t.column.cellEvents.cellEditCancelled&&t.column.cellEvents.cellEditCancelled.call(this.table,e),this.table.options.cellEditCancelled.call(this.table,e)}},tl.prototype.bindEditor=function(t){var e=this,o=t.getElement();o.setAttribute("tabindex",0),o.addEventListener("click",(function(t){o.classList.contains("tabulator-editing")||o.focus({preventScroll:!0})})),o.addEventListener("mousedown",(function(t){2===t.button?t.preventDefault():e.mouseClick=!0})),o.addEventListener("focus",(function(o){e.recursionBlock||e.edit(t,o,!1)}))},tl.prototype.focusCellNoEvent=function(t,e){this.recursionBlock=!0,e&&"ie"===this.table.browser||t.getElement().focus({preventScroll:!0}),this.recursionBlock=!1},tl.prototype.editCell=function(t,e){this.focusCellNoEvent(t),this.edit(t,!1,e)},tl.prototype.focusScrollAdjust=function(t){if("virtual"==this.table.rowManager.getRenderMode()){var e=this.table.rowManager.element.scrollTop,o=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,n=t.row.getElement();n.offsetTop<e?this.table.rowManager.element.scrollTop-=e-n.offsetTop:n.offsetTop+n.offsetHeight>o&&(this.table.rowManager.element.scrollTop+=n.offsetTop+n.offsetHeight-o);var i=this.table.rowManager.element.scrollLeft,s=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,r=t.getElement();this.table.modExists("frozenColumns")&&(i+=parseInt(this.table.modules.frozenColumns.leftMargin),s-=parseInt(this.table.modules.frozenColumns.rightMargin)),r.offsetLeft<i?this.table.rowManager.element.scrollLeft-=i-r.offsetLeft:r.offsetLeft+r.offsetWidth>s&&(this.table.rowManager.element.scrollLeft+=r.offsetLeft+r.offsetWidth-s)}},tl.prototype.edit=function(t,e,o){var n,i,s,r=this,a=!0,l=function(){},c=t.getElement();if(!this.currentCell){if(t.column.modules.edit.blocked)return this.mouseClick=!1,c.blur(),!1;switch(e&&e.stopPropagation(),Aa(t.column.modules.edit.check)){case"function":a=t.column.modules.edit.check(t.getComponent());break;case"boolean":a=t.column.modules.edit.check}if(a||o){if(r.cancelEdit(),r.currentCell=t,this.focusScrollAdjust(t),i=t.getComponent(),this.mouseClick&&(this.mouseClick=!1,t.column.cellEvents.cellClick&&t.column.cellEvents.cellClick.call(this.table,e,i)),t.column.cellEvents.cellEditing&&t.column.cellEvents.cellEditing.call(this.table,i),r.table.options.cellEditing.call(this.table,i),s="function"==typeof t.column.modules.edit.params?t.column.modules.edit.params(i):t.column.modules.edit.params,!1===(n=t.column.modules.edit.editor.call(r,i,(function(t){l=t}),(function(e){if(r.currentCell===t){var o=!0;return t.column.modules.validate&&r.table.modExists("validate")&&"manual"!=r.table.options.validationMode&&(o=r.table.modules.validate.validate(t.column.modules.validate,t,e)),!0===o||"highlight"===r.table.options.validationMode?(r.clearEditor(),t.modules.edit||(t.modules.edit={}),t.modules.edit.edited=!0,-1==r.editedCells.indexOf(t)&&r.editedCells.push(t),t.setValue(e,!0),r.table.options.dataTree&&r.table.modExists("dataTree")&&r.table.modules.dataTree.checkForRestyle(t),!0===o||(c.classList.add("tabulator-validation-fail"),r.table.options.validationFailed.call(r.table,t.getComponent(),e,o),!1)):(r.invalidEdit=!0,c.classList.add("tabulator-validation-fail"),r.focusCellNoEvent(t,!0),l(),r.table.options.validationFailed.call(r.table,t.getComponent(),e,o),!1)}}),(function(){r.currentCell===t&&(r.cancelEdit(),r.table.options.dataTree&&r.table.modExists("dataTree")&&r.table.modules.dataTree.checkForRestyle(t))}),s)))return c.blur(),!1;if(!(n instanceof Node))return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",n),c.blur(),!1;for(c.classList.add("tabulator-editing"),t.row.getElement().classList.add("tabulator-row-editing");c.firstChild;)c.removeChild(c.firstChild);c.appendChild(n),l();for(var u=c.children,d=0;d<u.length;d++)u[d].addEventListener("click",(function(t){t.stopPropagation()}));return!0}return this.mouseClick=!1,c.blur(),!1}this.invalidEdit||this.cancelEdit()},tl.prototype.maskInput=function(t,e){var o=e.mask,n=void 0!==e.maskLetterChar?e.maskLetterChar:"A",i=void 0!==e.maskNumberChar?e.maskNumberChar:"9",s=void 0!==e.maskWildcardChar?e.maskWildcardChar:"*";function r(e){var a=o[e];void 0!==a&&a!==s&&a!==n&&a!==i&&(t.value=t.value+""+a,r(e+1))}t.addEventListener("keydown",(function(e){var r=t.value.length,a=e.key;if(e.keyCode>46){if(r>=o.length)return e.preventDefault(),e.stopPropagation(),!1;switch(o[r]){case n:if(a.toUpperCase()==a.toLowerCase())return e.preventDefault(),e.stopPropagation(),!1;break;case i:if(isNaN(a))return e.preventDefault(),e.stopPropagation(),!1;break;case s:break;default:if(a!==o[r])return e.preventDefault(),e.stopPropagation(),!1}}})),t.addEventListener("keyup",(function(o){o.keyCode>46&&e.maskAutoFill&&r(t.value.length)})),t.placeholder||(t.placeholder=o),e.maskAutoFill&&r(t.value.length)},tl.prototype.getEditedCells=function(){var t=[];return this.editedCells.forEach((function(e){t.push(e.getComponent())})),t},tl.prototype.clearEdited=function(t){var e;t.modules.validate&&t.modules.edit&&t.modules.edit.edited&&(t.modules.validate.invalid=!1,(e=this.editedCells.indexOf(t))>-1&&this.editedCells.splice(e,1))},tl.prototype.editors={input:function(t,e,o,n,i){var s=t.getValue(),r=document.createElement("input");if(r.setAttribute("type",i.search?"search":"text"),r.style.padding="4px",r.style.width="100%",r.style.boxSizing="border-box",i.elementAttributes&&"object"==Aa(i.elementAttributes))for(var a in i.elementAttributes)"+"==a.charAt(0)?(a=a.slice(1),r.setAttribute(a,r.getAttribute(a)+i.elementAttributes["+"+a])):r.setAttribute(a,i.elementAttributes[a]);function l(t){null==s&&""!==r.value||r.value!==s?o(r.value)&&(s=r.value):n()}return r.value=void 0!==s?s:"",e((function(){r.focus({preventScroll:!0}),r.style.height="100%"})),r.addEventListener("change",l),r.addEventListener("blur",l),r.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:l();break;case 27:n();break;case 35:case 36:t.stopPropagation()}})),i.mask&&this.table.modules.edit.maskInput(r,i),r},textarea:function(t,e,o,n,i){var s=t.getValue(),r=i.verticalNavigation||"hybrid",a=String(null!=s?s:""),l=(a.match(/(?:\r\n|\r|\n)/g),document.createElement("textarea")),c=0;if(l.style.display="block",l.style.padding="2px",l.style.height="100%",l.style.width="100%",l.style.boxSizing="border-box",l.style.whiteSpace="pre-wrap",l.style.resize="none",i.elementAttributes&&"object"==Aa(i.elementAttributes))for(var u in i.elementAttributes)"+"==u.charAt(0)?(u=u.slice(1),l.setAttribute(u,l.getAttribute(u)+i.elementAttributes["+"+u])):l.setAttribute(u,i.elementAttributes[u]);function d(e){null==s&&""!==l.value||l.value!==s?(o(l.value)&&(s=l.value),setTimeout((function(){t.getRow().normalizeHeight()}),300)):n()}return l.value=a,e((function(){l.focus({preventScroll:!0}),l.style.height="100%",l.style.height=l.scrollHeight+"px",t.getRow().normalizeHeight()})),l.addEventListener("change",d),l.addEventListener("blur",d),l.addEventListener("keyup",(function(){l.style.height="";var e=l.scrollHeight;l.style.height=e+"px",e!=c&&(c=e,t.getRow().normalizeHeight())})),l.addEventListener("keydown",(function(t){switch(t.keyCode){case 27:n();break;case 38:("editor"==r||"hybrid"==r&&l.selectionStart)&&(t.stopImmediatePropagation(),t.stopPropagation());break;case 40:("editor"==r||"hybrid"==r&&l.selectionStart!==l.value.length)&&(t.stopImmediatePropagation(),t.stopPropagation());break;case 35:case 36:t.stopPropagation()}})),i.mask&&this.table.modules.edit.maskInput(l,i),l},number:function(t,e,o,n,i){var s=t.getValue(),r=i.verticalNavigation||"editor",a=document.createElement("input");if(a.setAttribute("type","number"),void 0!==i.max&&a.setAttribute("max",i.max),void 0!==i.min&&a.setAttribute("min",i.min),void 0!==i.step&&a.setAttribute("step",i.step),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",i.elementAttributes&&"object"==Aa(i.elementAttributes))for(var l in i.elementAttributes)"+"==l.charAt(0)?(l=l.slice(1),a.setAttribute(l,a.getAttribute(l)+i.elementAttributes["+"+l])):a.setAttribute(l,i.elementAttributes[l]);a.value=s;var c=function(t){u()};function u(){var t=a.value;isNaN(t)||""===t||(t=Number(t)),t!==s?o(t)&&(s=t):n()}return e((function(){a.removeEventListener("blur",c),a.focus({preventScroll:!0}),a.style.height="100%",a.addEventListener("blur",c)})),a.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:u();break;case 27:n();break;case 38:case 40:"editor"==r&&(t.stopImmediatePropagation(),t.stopPropagation());break;case 35:case 36:t.stopPropagation()}})),i.mask&&this.table.modules.edit.maskInput(a,i),a},range:function(t,e,o,n,i){var s=t.getValue(),r=document.createElement("input");if(r.setAttribute("type","range"),void 0!==i.max&&r.setAttribute("max",i.max),void 0!==i.min&&r.setAttribute("min",i.min),void 0!==i.step&&r.setAttribute("step",i.step),r.style.padding="4px",r.style.width="100%",r.style.boxSizing="border-box",i.elementAttributes&&"object"==Aa(i.elementAttributes))for(var a in i.elementAttributes)"+"==a.charAt(0)?(a=a.slice(1),r.setAttribute(a,r.getAttribute(a)+i.elementAttributes["+"+a])):r.setAttribute(a,i.elementAttributes[a]);function l(){var t=r.value;isNaN(t)||""===t||(t=Number(t)),t!=s?o(t)&&(s=t):n()}return r.value=s,e((function(){r.focus({preventScroll:!0}),r.style.height="100%"})),r.addEventListener("blur",(function(t){l()})),r.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:l();break;case 27:n()}})),r},select:function(t,e,o,n,i){var s=this,r=this,a=t.getElement(),l=t.getValue(),c=i.verticalNavigation||"editor",u=void 0!==l||null===l?Array.isArray(l)?l:[l]:void 0!==i.defaultValue?i.defaultValue:[],d=document.createElement("input"),h=document.createElement("div"),p=i.multiselect,m=[],f={},g=[],b=[],v=!0,y=!1;function w(e){var o,n={},s=r.table.getData();return(o=e?r.table.columnManager.getColumnByField(e):t.getColumn()._getSelf())?(s.forEach((function(t){var e=o.getFieldValue(t);null!=e&&""!==e&&(n[e]=!0)})),n=i.sortValuesList?"asc"==i.sortValuesList?Object.keys(n).sort():Object.keys(n).sort().reverse():Object.keys(n)):console.warn("unable to find matching column to create select lookup list:",e),n}function E(t,e){!p&&f&&f.element&&f.element.classList.remove("active"),f&&f.element&&f.element.classList.remove("focused"),f=t,t.element&&(t.element.classList.add("focused"),e&&t.element.classList.add("active"))}function C(t){-1==b.indexOf(t)&&(b.push(t),E(t,!0)),T()}function x(t){var e=b[t];t>-1&&(b.splice(t,1),e.element&&e.element.classList.remove("active"))}function R(t){t||(t=f);var e=b.indexOf(t);e>-1?x(e):(!0!==p&&b.length>=p&&x(0),C(t)),T()}function _(t){k(),t||(t=f),t&&(d.value=t.label,o(t.value)),u=d.value}function M(t){t||k();var e=[];b.forEach((function(t){e.push(t.value)})),u=d.value,o(e)}function T(){var t=[];b.forEach((function(e){t.push(e.label)})),d.value=t.join(", "),!1===r.currentCell&&M(!0)}function D(){k(),n()}function k(){h.parentNode&&h.parentNode.removeChild(h),r.table.rowManager.element.removeEventListener("scroll",D)}if((Array.isArray(i)||!Array.isArray(i)&&"object"===(void 0===i?"undefined":Aa(i))&&!i.values)&&(console.warn("DEPRECATION WARNING - values for the select editor must now be passed into the values property of the editorParams object, not as the editorParams object"),i={values:i}),d.setAttribute("type","text"),d.style.padding="4px",d.style.width="100%",d.style.boxSizing="border-box",d.style.cursor="default",d.readOnly=0!=this.currentCell,i.elementAttributes&&"object"==Aa(i.elementAttributes))for(var L in i.elementAttributes)"+"==L.charAt(0)?(L=L.slice(1),d.setAttribute(L,d.getAttribute(L)+i.elementAttributes["+"+L])):d.setAttribute(L,i.elementAttributes[L]);return d.value=void 0!==l||null===l?l:"",d.addEventListener("search",(function(t){d.value||(function(){for(var t=b.length,e=0;e<t;e++)x(0)}(),M())})),d.addEventListener("keydown",(function(t){var e;switch(t.keyCode){case 38:e=m.indexOf(f),("editor"==c||"hybrid"==c&&e)&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e>0&&E(m[e-1],!p));break;case 40:e=m.indexOf(f),("editor"==c||"hybrid"==c&&e<m.length-1)&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e<m.length-1&&E(-1==e?m[0]:m[e+1],!p));break;case 37:case 39:t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault();break;case 13:p?R():_();break;case 27:D();break;case 9:break;default:!1===r.currentCell&&t.preventDefault()}})),d.addEventListener("blur",(function(t){v&&(p?M():D())})),d.addEventListener("focus",(function(e){y||function(){if(b=[],!h.parentNode){!function(e,o){var n=[],s=[];function r(t){return o.indexOf((t={label:t.label,value:t.value,itemParams:t.itemParams,elementAttributes:t.elementAttributes,element:!1}).value)>-1&&C(t),n.push(t),s.push(t),t}if("function"==typeof e&&(e=e(t)),Array.isArray(e))e.forEach((function(t){var e;"object"===(void 0===t?"undefined":Aa(t))?t.options?(s.push(e={label:t.label,group:!0,itemParams:t.itemParams,elementAttributes:t.elementAttributes,element:!1}),t.options.forEach((function(t){r(t)}))):r(t):(o.indexOf((e={label:t,value:t,element:!1}).value)>-1&&C(e),n.push(e),s.push(e))}));else for(var a in e){var l={label:e[a],value:a,element:!1};o.indexOf(l.value)>-1&&C(l),n.push(l),s.push(l)}m=n,g=s,function(){for(;h.firstChild;)h.removeChild(h.firstChild);g.forEach((function(e){var o=e.element;if(!o){if(o=document.createElement("div"),e.label=i.listItemFormatter?i.listItemFormatter(e.value,e.label,t,o,e.itemParams):e.label,e.group?(o.classList.add("tabulator-edit-select-list-group"),o.tabIndex=0,o.innerHTML=""===e.label?"&nbsp;":e.label):(o.classList.add("tabulator-edit-select-list-item"),o.tabIndex=0,o.innerHTML=""===e.label?"&nbsp;":e.label,o.addEventListener("click",(function(){y=!0,setTimeout((function(){y=!1}),10),p?(R(e),d.focus()):_(e)})),b.indexOf(e)>-1&&o.classList.add("active")),e.elementAttributes&&"object"==Aa(e.elementAttributes))for(var n in e.elementAttributes)"+"==n.charAt(0)?(n=n.slice(1),o.setAttribute(n,d.getAttribute(n)+e.elementAttributes["+"+n])):o.setAttribute(n,e.elementAttributes[n]);o.addEventListener("mousedown",(function(){v=!1,setTimeout((function(){v=!0}),10)})),e.element=o}h.appendChild(o)}))}()}(!0===i.values?w():"string"==typeof i.values?w(i.values):i.values||[],u);var e=Wa.prototype.helpers.elOffset(a);h.style.minWidth=a.offsetWidth+"px",h.style.top=e.top+a.offsetHeight+"px",h.style.left=e.left+"px",h.addEventListener("mousedown",(function(t){v=!1,setTimeout((function(){v=!0}),10)})),document.body.appendChild(h)}}()})),(h=document.createElement("div")).classList.add("tabulator-edit-select-list"),e((function(){d.style.height="100%",d.focus({preventScroll:!0})})),setTimeout((function(){s.table.rowManager.element.addEventListener("scroll",D)}),10),d},autocomplete:function(t,e,o,n,i){var s=this,r=this,a=t.getElement(),l=t.getValue(),c=i.verticalNavigation||"editor",u=void 0!==l||null===l?l:void 0!==i.defaultValue?i.defaultValue:"",d=document.createElement("input"),h=document.createElement("div"),p=[],m=!1,f=!0,g=!1;if(d.setAttribute("type","search"),d.style.padding="4px",d.style.width="100%",d.style.boxSizing="border-box",i.elementAttributes&&"object"==Aa(i.elementAttributes))for(var b in i.elementAttributes)"+"==b.charAt(0)?(b=b.slice(1),d.setAttribute(b,d.getAttribute(b)+i.elementAttributes["+"+b])):d.setAttribute(b,i.elementAttributes[b]);function v(){!0===i.values?g=y():"string"==typeof i.values&&(g=y(i.values))}function y(e){var o,n={},s=r.table.getData();return(o=e?r.table.columnManager.getColumnByField(e):t.getColumn()._getSelf())?(s.forEach((function(t){var e=o.getFieldValue(t);null!=e&&""!==e&&(n[e]=!0)})),n=i.sortValuesList?"asc"==i.sortValuesList?Object.keys(n).sort():Object.keys(n).sort().reverse():Object.keys(n)):console.warn("unable to find matching column to create autocomplete lookup list:",e),n}function w(t,e){var o,n,s=[];o=g||i.values||[],i.searchFunc?(s=i.searchFunc(t,o))instanceof Promise?(E(void 0!==i.searchingPlaceholder?i.searchingPlaceholder:"Searching..."),s.then((function(t){R(C(t),e)})).catch((function(t){console.err("error in autocomplete search promise:",t)}))):R(C(s),e):(n=C(o),""===t?i.showListOnEmpty&&(s=n):n.forEach((function(e){null===e.value&&void 0===e.value||(String(e.value).toLowerCase().indexOf(String(t).toLowerCase())>-1||String(e.title).toLowerCase().indexOf(String(t).toLowerCase())>-1)&&s.push(e)})),R(s,e))}function E(t){var e=document.createElement("div");x(),!1!==t&&(e.classList.add("tabulator-edit-select-list-notice"),e.tabIndex=0,t instanceof Node?e.appendChild(t):e.innerHTML=t,h.appendChild(e))}function C(t){var e=[];if(Array.isArray(t))t.forEach((function(t){var o={};"object"===(void 0===t?"undefined":Aa(t))?(o.title=i.listItemFormatter?i.listItemFormatter(t.value,t.label):t.label,o.value=t.value):(o.title=i.listItemFormatter?i.listItemFormatter(t,t):t,o.value=t),e.push(o)}));else for(var o in t){var n={title:i.listItemFormatter?i.listItemFormatter(o,t[o]):t[o],value:o};e.push(n)}return e}function x(){for(;h.firstChild;)h.removeChild(h.firstChild)}function R(t,e){t.length?function(t,e){var o=!1;x(),(p=t).forEach((function(t){var n=t.element;n||((n=document.createElement("div")).classList.add("tabulator-edit-select-list-item"),n.tabIndex=0,n.innerHTML=t.title,n.addEventListener("click",(function(e){M(t),_()})),n.addEventListener("mousedown",(function(t){f=!1,setTimeout((function(){f=!0}),10)})),t.element=n,e&&t.value==l&&(d.value=t.title,t.element.classList.add("active"),o=!0),t===m&&(t.element.classList.add("active"),o=!0)),h.appendChild(n)})),o||M(!1)}(t,e):i.emptyPlaceholder&&E(i.emptyPlaceholder)}function _(){T(),m?l!==m.value?(l=m.value,d.value=m.title,o(m.value)):n():i.freetext||i.allowEmpty&&""===d.value?(l=d.value,o(d.value)):n()}function M(t,e){m&&m.element&&m.element.classList.remove("active"),m=t,t&&t.element&&t.element.classList.add("active")}function T(){h.parentNode&&h.parentNode.removeChild(h),r.table.rowManager.element.removeEventListener("scroll",D)}function D(){T(),n()}return h.classList.add("tabulator-edit-select-list"),h.addEventListener("mousedown",(function(t){f=!1,setTimeout((function(){f=!0}),10)})),d.addEventListener("keydown",(function(t){var e;switch(t.keyCode){case 38:e=p.indexOf(m),("editor"==c||"hybrid"==c&&e)&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),M(e>0&&p[e-1]));break;case 40:e=p.indexOf(m),("editor"==c||"hybrid"==c&&e<p.length-1)&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e<p.length-1&&M(-1==e?p[0]:p[e+1]));break;case 37:case 39:t.stopImmediatePropagation(),t.stopPropagation();break;case 13:_();break;case 27:D();break;case 36:case 35:t.stopImmediatePropagation()}})),d.addEventListener("keyup",(function(t){switch(t.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:w(d.value)}})),d.addEventListener("search",(function(t){w(d.value)})),d.addEventListener("blur",(function(t){f&&_()})),d.addEventListener("focus",(function(t){var e=u;v(),function(){if(!h.parentNode){for(;h.firstChild;)h.removeChild(h.firstChild);var t=Wa.prototype.helpers.elOffset(a);h.style.minWidth=a.offsetWidth+"px",h.style.top=t.top+a.offsetHeight+"px",h.style.left=t.left+"px",document.body.appendChild(h)}}(),d.value=e,w(e,!0)})),e((function(){d.style.height="100%",d.focus({preventScroll:!0})})),i.mask&&this.table.modules.edit.maskInput(d,i),setTimeout((function(){s.table.rowManager.element.addEventListener("scroll",D)}),10),v(),d.value=u,w(u,!0),d},star:function(t,e,o,n,i){var s=this,r=t.getElement(),a=t.getValue(),l=r.getElementsByTagName("svg").length||5,c=r.getElementsByTagName("svg")[0]?r.getElementsByTagName("svg")[0].getAttribute("width"):14,u=[],d=document.createElement("div"),h=document.createElementNS("http://www.w3.org/2000/svg","svg");function p(t){u.forEach((function(e,o){o<t?("ie"==s.table.browser?e.setAttribute("class","tabulator-star-active"):e.classList.replace("tabulator-star-inactive","tabulator-star-active"),e.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):("ie"==s.table.browser?e.setAttribute("class","tabulator-star-inactive"):e.classList.replace("tabulator-star-active","tabulator-star-inactive"),e.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')}))}function m(t){var e=document.createElement("span"),n=h.cloneNode(!0);u.push(n),e.addEventListener("mouseenter",(function(e){e.stopPropagation(),e.stopImmediatePropagation(),p(t)})),e.addEventListener("mousemove",(function(t){t.stopPropagation(),t.stopImmediatePropagation()})),e.addEventListener("click",(function(e){e.stopPropagation(),e.stopImmediatePropagation(),o(t),r.blur()})),e.appendChild(n),d.appendChild(e)}function f(t){a=t,p(t)}if(r.style.whiteSpace="nowrap",r.style.overflow="hidden",r.style.textOverflow="ellipsis",d.style.verticalAlign="middle",d.style.display="inline-block",d.style.padding="4px",h.setAttribute("width",c),h.setAttribute("height",c),h.setAttribute("viewBox","0 0 512 512"),h.setAttribute("xml:space","preserve"),h.style.padding="0 1px",i.elementAttributes&&"object"==Aa(i.elementAttributes))for(var g in i.elementAttributes)"+"==g.charAt(0)?(g=g.slice(1),d.setAttribute(g,d.getAttribute(g)+i.elementAttributes["+"+g])):d.setAttribute(g,i.elementAttributes[g]);for(var b=1;b<=l;b++)m(b);return p(a=Math.min(parseInt(a),l)),d.addEventListener("mousemove",(function(t){p(0)})),d.addEventListener("click",(function(t){o(0)})),r.addEventListener("blur",(function(t){n()})),r.addEventListener("keydown",(function(t){switch(t.keyCode){case 39:f(a+1);break;case 37:f(a-1);break;case 13:o(a);break;case 27:n()}})),d},progress:function(t,e,o,n,i){var s,r,a=t.getElement(),l=void 0===i.max?a.getElementsByTagName("div")[0].getAttribute("max")||100:i.max,c=void 0===i.min?a.getElementsByTagName("div")[0].getAttribute("min")||0:i.min,u=(l-c)/100,d=t.getValue()||0,h=document.createElement("div"),p=document.createElement("div");function m(){var t=u*Math.round(p.offsetWidth/(a.clientWidth/100))+c;o(t),a.setAttribute("aria-valuenow",t),a.setAttribute("aria-label",d)}if(h.style.position="absolute",h.style.right="0",h.style.top="0",h.style.bottom="0",h.style.width="5px",h.classList.add("tabulator-progress-handle"),p.style.display="inline-block",p.style.position="relative",p.style.height="100%",p.style.backgroundColor="#488CE9",p.style.maxWidth="100%",p.style.minWidth="0%",i.elementAttributes&&"object"==Aa(i.elementAttributes))for(var f in i.elementAttributes)"+"==f.charAt(0)?(f=f.slice(1),p.setAttribute(f,p.getAttribute(f)+i.elementAttributes["+"+f])):p.setAttribute(f,i.elementAttributes[f]);return a.style.padding="4px 4px",d=Math.min(parseFloat(d),l),d=Math.max(parseFloat(d),c),d=Math.round((d-c)/u),p.style.width=d+"%",a.setAttribute("aria-valuemin",c),a.setAttribute("aria-valuemax",l),p.appendChild(h),h.addEventListener("mousedown",(function(t){s=t.screenX,r=p.offsetWidth})),h.addEventListener("mouseover",(function(){h.style.cursor="ew-resize"})),a.addEventListener("mousemove",(function(t){s&&(p.style.width=r+t.screenX-s+"px")})),a.addEventListener("mouseup",(function(t){s&&(t.stopPropagation(),t.stopImmediatePropagation(),s=!1,r=!1,m())})),a.addEventListener("keydown",(function(t){switch(t.keyCode){case 39:t.preventDefault(),p.style.width=p.clientWidth+a.clientWidth/100+"px";break;case 37:t.preventDefault(),p.style.width=p.clientWidth-a.clientWidth/100+"px";break;case 9:case 13:m();break;case 27:n()}})),a.addEventListener("blur",(function(){n()})),p},tickCross:function(t,e,o,n,i){var s=t.getValue(),r=document.createElement("input"),a=i.tristate,l=void 0===i.indeterminateValue?null:i.indeterminateValue,c=!1;if(r.setAttribute("type","checkbox"),r.style.marginTop="5px",r.style.boxSizing="border-box",i.elementAttributes&&"object"==Aa(i.elementAttributes))for(var u in i.elementAttributes)"+"==u.charAt(0)?(u=u.slice(1),r.setAttribute(u,r.getAttribute(u)+i.elementAttributes["+"+u])):r.setAttribute(u,i.elementAttributes[u]);function d(t){return a?t?c?l:r.checked:r.checked&&!c?(r.checked=!1,r.indeterminate=!0,c=!0,l):(c=!1,r.checked):r.checked}return r.value=s,!a||void 0!==s&&s!==l&&""!==s||(c=!0,r.indeterminate=!0),"firefox"!=this.table.browser&&e((function(){r.focus({preventScroll:!0})})),r.checked=!0===s||"true"===s||"True"===s||1===s,e((function(){r.focus()})),r.addEventListener("change",(function(t){o(d())})),r.addEventListener("blur",(function(t){o(d(!0))})),r.addEventListener("keydown",(function(t){13==t.keyCode&&o(d()),27==t.keyCode&&n()})),r}},Wa.prototype.registerModule("edit",tl);var el=function(t,e,o,n){this.type=t,this.columns=e,this.component=o||!1,this.indent=n||0},ol=function(t,e,o,n,i){this.value=t,this.component=e||!1,this.width=o,this.height=n,this.depth=i},nl=function(t){this.table=t,this.config={},this.cloneTableStyle=!0,this.colVisProp=""};nl.prototype.generateExportList=function(t,e,o,n){this.cloneTableStyle=e,this.config=t||{},this.colVisProp=n;var i=!1!==this.config.columnHeaders?this.headersToExportRows(this.generateColumnGroupHeaders()):[],s=this.bodyToExportRows(this.rowLookup(o));return i.concat(s)},nl.prototype.genereateTable=function(t,e,o,n){var i=this.generateExportList(t,e,o,n);return this.genereateTableElement(i)},nl.prototype.rowLookup=function(t){var e=this,o=[];if("function"==typeof t)t.call(this.table).forEach((function(t){(t=e.table.rowManager.findRow(t))&&o.push(t)}));else switch(t){case!0:case"visible":o=this.table.rowManager.getVisibleRows(!0);break;case"all":o=this.table.rowManager.rows;break;case"selected":o=this.table.modules.selectRow.selectedRows;break;case"active":default:o=this.table.options.pagination?this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length-2):this.table.rowManager.getDisplayRows()}return Object.assign([],o)},nl.prototype.generateColumnGroupHeaders=function(){var t=this,e=[];return(!1!==this.config.columnGroups?this.table.columnManager.columns:this.table.columnManager.columnsByIndex).forEach((function(o){var n=t.processColumnGroup(o);n&&e.push(n)})),e},nl.prototype.processColumnGroup=function(t){var e=this,o=t.columns,n=0,i={title:t.definition["title"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))]||t.definition.title,column:t,depth:1};if(o.length){if(i.subGroups=[],i.width=0,o.forEach((function(t){var o=e.processColumnGroup(t);o&&(i.width+=o.width,i.subGroups.push(o),o.depth>n&&(n=o.depth))})),i.depth+=n,!i.width)return!1}else{if(!this.columnVisCheck(t))return!1;i.width=1}return i},nl.prototype.columnVisCheck=function(t){return!1!==t.definition[this.colVisProp]&&(t.visible||!t.visible&&t.definition[this.colVisProp])},nl.prototype.headersToExportRows=function(t){var e=[],o=0,n=[];return t.forEach((function(t){t.depth>o&&(o=t.depth)})),t.forEach((function(t){!function t(n,i){var s=o-i;if(void 0===e[i]&&(e[i]=[]),n.height=n.subGroups?1:s-n.depth+1,e[i].push(n),n.height>1)for(var r=1;r<n.height;r++)void 0===e[i+r]&&(e[i+r]=[]),e[i+r].push(!1);if(n.width>1)for(var a=1;a<n.width;a++)e[i].push(!1);n.subGroups&&n.subGroups.forEach((function(e){t(e,i+1)}))}(t,0)})),e.forEach((function(t){var e=[];t.forEach((function(t){e.push(t?new ol(t.title,t.column.getComponent(),t.width,t.height,t.depth):null)})),n.push(new el("header",e))})),n},nl.prototype.bodyToExportRows=function(t){var e=this,o=[],n=[];return this.table.columnManager.columnsByIndex.forEach((function(t){e.columnVisCheck(t)&&o.push(t.getComponent())})),!1!==this.config.columnCalcs&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&t.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&t.push(this.table.modules.columnCalcs.botRow)),(t=t.filter((function(t){switch(t.type){case"group":return!1!==e.config.rowGroups;case"calc":return!1!==e.config.columnCalcs;case"row":return!(e.table.options.dataTree&&!1===e.config.dataTree&&t.modules.dataTree.parent)}return!0}))).forEach((function(t,i){var s=t.getData(e.colVisProp),r=[],a=0;switch(t.type){case"group":a=t.level,r.push(new ol(t.key,t.getComponent(),o.length,1));break;case"calc":case"row":o.forEach((function(t){r.push(new ol(t._column.getFieldValue(s),t,1,1))})),e.table.options.dataTree&&!1!==e.config.dataTree&&(a=t.modules.dataTree.index)}n.push(new el(t.type,r,t.getComponent(),a))})),n},nl.prototype.genereateTableElement=function(t){var e=this,o=document.createElement("table"),n=document.createElement("thead"),i=document.createElement("tbody"),s=this.lookupTableStyles(),r=this.table.options["rowFormatter"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],a={};return a.rowFormatter=null!==r?r:this.table.options.rowFormatter,this.table.options.dataTree&&!1!==this.config.dataTree&&this.table.modExists("columnCalcs")&&(a.treeElementField=this.table.modules.dataTree.elementField),a.groupHeader=this.table.options["groupHeader"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],a.groupHeader&&!Array.isArray(a.groupHeader)&&(a.groupHeader=[a.groupHeader]),o.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),n,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),t.length>1e3&&console.warn("It may take a long time to render an HTML table with more than 1000 rows"),t.forEach((function(t,o){switch(t.type){case"header":n.appendChild(e.genereateHeaderElement(t,a,s));break;case"group":i.appendChild(e.genereateGroupElement(t,a,s));break;case"calc":i.appendChild(e.genereateCalcElement(t,a,s));break;case"row":var r=e.genereateRowElement(t,a,s);e.mapElementStyles(o%2&&s.evenRow?s.evenRow:s.oddRow,r,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),i.appendChild(r)}})),n.innerHTML&&o.appendChild(n),o.appendChild(i),this.mapElementStyles(this.table.element,o,["border-top","border-left","border-right","border-bottom"]),o},nl.prototype.lookupTableStyles=function(){var t={};return this.cloneTableStyle&&window.getComputedStyle&&(t.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),t.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),t.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),t.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),t.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],t.firstRow&&(t.styleCells=t.firstRow.getElementsByClassName("tabulator-cell"),t.firstCell=t.styleCells[0],t.lastCell=t.styleCells[t.styleCells.length-1])),t},nl.prototype.genereateHeaderElement=function(t,e,o){var n=this,i=document.createElement("tr");return t.columns.forEach((function(t){if(t){var e=document.createElement("th"),o=t.component._column.definition.cssClass?t.component._column.definition.cssClass.split(" "):[];e.colSpan=t.width,e.rowSpan=t.height,e.innerHTML=t.value,n.cloneTableStyle&&(e.style.boxSizing="border-box"),o.forEach((function(t){e.classList.add(t)})),n.mapElementStyles(t.component.getElement(),e,["text-align","border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),n.mapElementStyles(t.component._column.contentElement,e,["padding-top","padding-left","padding-right","padding-bottom"]),t.component._column.visible?n.mapElementStyles(t.component.getElement(),e,["width"]):t.component._column.definition.width&&(e.style.width=t.component._column.definition.width+"px"),t.component._column.parent&&n.mapElementStyles(t.component._column.parent.groupElement,e,["border-top"]),i.appendChild(e)}})),i},nl.prototype.genereateGroupElement=function(t,e,o){var n=document.createElement("tr"),i=document.createElement("td"),s=t.columns[0];return n.classList.add("tabulator-print-table-row"),s.value=e.groupHeader&&e.groupHeader[t.indent]?e.groupHeader[t.indent](s.value,t.component._group.getRowCount(),t.component._group.getData(),t.component):!1===e.groupHeader?s.value:t.component._group.generator(s.value,t.component._group.getRowCount(),t.component._group.getData(),t.component),i.colSpan=s.width,i.innerHTML=s.value,n.classList.add("tabulator-print-table-group"),n.classList.add("tabulator-group-level-"+t.indent),s.component.isVisible()&&n.classList.add("tabulator-group-visible"),this.mapElementStyles(o.firstGroup,n,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(o.firstGroup,i,["padding-top","padding-left","padding-right","padding-bottom"]),n.appendChild(i),n},nl.prototype.genereateCalcElement=function(t,e,o){var n=this.genereateRowElement(t,e,o);return n.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(o.calcRow,n,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),n},nl.prototype.genereateRowElement=function(t,e,o){var n=this,s=document.createElement("tr");return s.classList.add("tabulator-print-table-row"),t.columns.forEach((function(r){if(r){var a=document.createElement("td"),l=r.component._column,c=r.value,u={modules:{},getValue:function(){return c},getField:function(){return l.definition.field},getElement:function(){return a},getColumn:function(){return l.getComponent()},getData:function(){return t.component.getData()},getRow:function(){return t.component},getComponent:function(){return u},column:l};if((l.definition.cssClass?l.definition.cssClass.split(" "):[]).forEach((function(t){a.classList.add(t)})),n.table.modExists("format")&&!1!==n.config.formatCells)c=n.table.modules.format.formatExportValue(u,n.colVisProp);else switch(void 0===c?"undefined":Aa(c)){case"object":c=JSON.stringify(c);break;case"undefined":case"null":c="";break;default:c=c}c instanceof Node?a.appendChild(c):a.innerHTML=c,o.firstCell&&(n.mapElementStyles(o.firstCell,a,["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size"]),l.definition.align&&(a.style.textAlign=l.definition.align)),n.table.options.dataTree&&!1!==n.config.dataTree&&(e.treeElementField&&e.treeElementField==l.field||!e.treeElementField&&0==i)&&(t.component._row.modules.dataTree.controlEl&&a.insertBefore(t.component._row.modules.dataTree.controlEl.cloneNode(!0),a.firstChild),t.component._row.modules.dataTree.branchEl&&a.insertBefore(t.component._row.modules.dataTree.branchEl.cloneNode(!0),a.firstChild)),s.appendChild(a),u.modules.format&&u.modules.format.renderedCallback&&u.modules.format.renderedCallback(),e.rowFormatter&&!1!==n.config.formatCells&&e.rowFormatter(t.component)}})),s},nl.prototype.genereateHTMLTable=function(t){var e=document.createElement("div");return e.appendChild(this.genereateTableElement(t)),e.innerHTML},nl.prototype.getHtml=function(t,e,o,n){var i=this.generateExportList(o||this.table.options.htmlOutputConfig,e,t,n||"htmlOutput");return this.genereateHTMLTable(i)},nl.prototype.mapElementStyles=function(t,e,o){if(this.cloneTableStyle&&t&&e){var n={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var i=window.getComputedStyle(t);o.forEach((function(t){e.style[n[t]]=i.getPropertyValue(t)}))}}},Wa.prototype.registerModule("export",nl);var il=function(t){this.table=t,this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1};il.prototype.initializeColumn=function(t,e){var o=this,n=t.getField();t.modules.filter={success:function(e){var i,s="input"==t.modules.filter.tagType&&"text"==t.modules.filter.attrType||"textarea"==t.modules.filter.tagType?"partial":"match",r="",a="";if(void 0===t.modules.filter.prevSuccess||t.modules.filter.prevSuccess!==e){if(t.modules.filter.prevSuccess=e,t.modules.filter.emptyFunc(e))delete o.headerFilters[n];else{switch(t.modules.filter.value=e,Aa(t.definition.headerFilterFunc)){case"string":o.filters[t.definition.headerFilterFunc]?(r=t.definition.headerFilterFunc,i=function(n){var i=t.definition.headerFilterFuncParams||{},s=t.getFieldValue(n);return i="function"==typeof i?i(e,s,n):i,o.filters[t.definition.headerFilterFunc](e,s,n,i)}):console.warn("Header Filter Error - Matching filter function not found: ",t.definition.headerFilterFunc);break;case"function":r=i=function(o){var n=t.definition.headerFilterFuncParams||{},i=t.getFieldValue(o);return n="function"==typeof n?n(e,i,o):n,t.definition.headerFilterFunc(e,i,o,n)}}if(!i)switch(s){case"partial":i=function(o){var n=t.getFieldValue(o);return null!=n&&String(n).toLowerCase().indexOf(String(e).toLowerCase())>-1},r="like";break;default:i=function(o){return t.getFieldValue(o)==e},r="="}o.headerFilters[n]={value:e,func:i,type:r,params:{}}}a=JSON.stringify(o.headerFilters),o.prevHeaderFilterChangeCheck!==a&&(o.prevHeaderFilterChangeCheck=a,o.changed=!0,o.table.rowManager.filterRefresh())}return!0},attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(t)},il.prototype.generateHeaderFilterElement=function(t,e,o){var n,i,s,r,a,l,c,u=this,d=this,h=t.modules.filter.success,p=t.getField();if(t.modules.filter.headerElement&&t.modules.filter.headerElement.parentNode&&t.contentElement.removeChild(t.modules.filter.headerElement.parentNode),p){switch(t.modules.filter.emptyFunc=t.definition.headerFilterEmptyCheck||function(t){return!t&&"0"!==t},(n=document.createElement("div")).classList.add("tabulator-header-filter"),Aa(t.definition.headerFilter)){case"string":d.table.modules.edit.editors[t.definition.headerFilter]?(i=d.table.modules.edit.editors[t.definition.headerFilter],"tick"!==t.definition.headerFilter&&"tickCross"!==t.definition.headerFilter||t.definition.headerFilterEmptyCheck||(t.modules.filter.emptyFunc=function(t){return!0!==t&&!1!==t})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",t.definition.editor);break;case"function":i=t.definition.headerFilter;break;case"boolean":t.modules.edit&&t.modules.edit.editor?i=t.modules.edit.editor:t.definition.formatter&&d.table.modules.edit.editors[t.definition.formatter]?(i=d.table.modules.edit.editors[t.definition.formatter],"tick"!==t.definition.formatter&&"tickCross"!==t.definition.formatter||t.definition.headerFilterEmptyCheck||(t.modules.filter.emptyFunc=function(t){return!0!==t&&!1!==t})):i=d.table.modules.edit.editors.input}if(i){if(r={getValue:function(){return void 0!==e?e:""},getField:function(){return t.definition.field},getElement:function(){return n},getColumn:function(){return t.getComponent()},getRow:function(){return{normalizeHeight:function(){}}}},c="function"==typeof(c=t.definition.headerFilterParams||{})?c.call(d.table):c,!(s=i.call(this.table.modules.edit,r,(function(){}),h,(function(){}),c)))return void console.warn("Filter Error - Cannot add filter to "+p+" column, editor returned a value of false");if(!(s instanceof Node))return void console.warn("Filter Error - Cannot add filter to "+p+" column, editor should return an instance of Node, the editor returned:",s);p?d.table.modules.localize.bind("headerFilters|columns|"+t.definition.field,(function(t){s.setAttribute("placeholder",void 0!==t&&t?t:d.table.modules.localize.getText("headerFilters|default"))})):d.table.modules.localize.bind("headerFilters|default",(function(t){s.setAttribute("placeholder",void 0!==d.column.definition.headerFilterPlaceholder&&d.column.definition.headerFilterPlaceholder?d.column.definition.headerFilterPlaceholder:t)})),s.addEventListener("click",(function(t){t.stopPropagation(),s.focus()})),s.addEventListener("focus",(function(t){var e=u.table.columnManager.element.scrollLeft;e!==u.table.rowManager.element.scrollLeft&&(u.table.rowManager.scrollHorizontal(e),u.table.columnManager.scrollHorizontal(e))})),a=!1,l=function(t){a&&clearTimeout(a),a=setTimeout((function(){h(s.value)}),d.table.options.headerFilterLiveFilterDelay)},t.modules.filter.headerElement=s,t.modules.filter.attrType=s.hasAttribute("type")?s.getAttribute("type").toLowerCase():"",t.modules.filter.tagType=s.tagName.toLowerCase(),!1!==t.definition.headerFilterLiveFilter&&("autocomplete"!==t.definition.headerFilter&&"tickCross"!==t.definition.headerFilter&&("autocomplete"!==t.definition.editor&&"tickCross"!==t.definition.editor||!0!==t.definition.headerFilter)&&(s.addEventListener("keyup",l),s.addEventListener("search",l),"number"==t.modules.filter.attrType&&s.addEventListener("change",(function(t){h(s.value)})),"text"==t.modules.filter.attrType&&"ie"!==this.table.browser&&s.setAttribute("type","search")),"input"!=t.modules.filter.tagType&&"select"!=t.modules.filter.tagType&&"textarea"!=t.modules.filter.tagType||s.addEventListener("mousedown",(function(t){t.stopPropagation()}))),n.appendChild(s),t.contentElement.appendChild(n),o||d.headerFilterColumns.push(t)}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",t.definition.title)},il.prototype.hideHeaderFilterElements=function(){this.headerFilterColumns.forEach((function(t){t.modules.filter&&t.modules.filter.headerElement&&(t.modules.filter.headerElement.style.display="none")}))},il.prototype.showHeaderFilterElements=function(){this.headerFilterColumns.forEach((function(t){t.modules.filter&&t.modules.filter.headerElement&&(t.modules.filter.headerElement.style.display="")}))},il.prototype.setHeaderFilterFocus=function(t){t.modules.filter&&t.modules.filter.headerElement?t.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",t.getField())},il.prototype.getHeaderFilterValue=function(t){if(t.modules.filter&&t.modules.filter.headerElement)return t.modules.filter.headerElement.value;console.warn("Column Filter Error - No header filter set on column:",t.getField())},il.prototype.setHeaderFilterValue=function(t,e){t&&(t.modules.filter&&t.modules.filter.headerElement?(this.generateHeaderFilterElement(t,e,!0),t.modules.filter.success(e)):console.warn("Column Filter Error - No header filter set on column:",t.getField()))},il.prototype.reloadHeaderFilter=function(t){t&&(t.modules.filter&&t.modules.filter.headerElement?this.generateHeaderFilterElement(t,t.modules.filter.value,!0):console.warn("Column Filter Error - No header filter set on column:",t.getField()))},il.prototype.hasChanged=function(){var t=this.changed;return this.changed=!1,t},il.prototype.setFilter=function(t,e,o,n){this.filterList=[],Array.isArray(t)||(t=[{field:t,type:e,value:o,params:n}]),this.addFilter(t)},il.prototype.addFilter=function(t,e,o,n){var i=this;Array.isArray(t)||(t=[{field:t,type:e,value:o,params:n}]),t.forEach((function(t){(t=i.findFilter(t))&&(i.filterList.push(t),i.changed=!0)})),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.filter&&this.table.modules.persistence.save("filter")},il.prototype.findFilter=function(t){var e,o=this;if(Array.isArray(t))return this.findSubFilters(t);var n=!1;return"function"==typeof t.field?n=function(e){return t.field(e,t.type||{})}:o.filters[t.type]?n=(e=o.table.columnManager.getColumnByField(t.field))?function(n){return o.filters[t.type](t.value,e.getFieldValue(n),n,t.params||{})}:function(e){return o.filters[t.type](t.value,e[t.field],e,t.params||{})}:console.warn("Filter Error - No such filter type found, ignoring: ",t.type),t.func=n,!!t.func&&t},il.prototype.findSubFilters=function(t){var e=this,o=[];return t.forEach((function(t){(t=e.findFilter(t))&&o.push(t)})),!!o.length&&o},il.prototype.getFilters=function(t,e){var o=[];return t&&(o=this.getHeaderFilters()),e&&o.forEach((function(t){"function"==typeof t.type&&(t.type="function")})),o.concat(this.filtersToArray(this.filterList,e))},il.prototype.filtersToArray=function(t,e){var o=this,n=[];return t.forEach((function(t){var i;Array.isArray(t)?n.push(o.filtersToArray(t,e)):(i={field:t.field,type:t.type,value:t.value},e&&"function"==typeof i.type&&(i.type="function"),n.push(i))})),n},il.prototype.getHeaderFilters=function(){var t=[];for(var e in this.headerFilters)t.push({field:e,type:this.headerFilters[e].type,value:this.headerFilters[e].value});return t},il.prototype.removeFilter=function(t,e,o){var n=this;Array.isArray(t)||(t=[{field:t,type:e,value:o}]),t.forEach((function(t){var e;(e="object"==Aa(t.field)?n.filterList.findIndex((function(e){return t===e})):n.filterList.findIndex((function(e){return t.field===e.field&&t.type===e.type&&t.value===e.value})))>-1?(n.filterList.splice(e,1),n.changed=!0):console.warn("Filter Error - No matching filter type found, ignoring: ",t.type)})),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.filter&&this.table.modules.persistence.save("filter")},il.prototype.clearFilter=function(t){this.filterList=[],t&&this.clearHeaderFilter(),this.changed=!0,this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.filter&&this.table.modules.persistence.save("filter")},il.prototype.clearHeaderFilter=function(){var t=this;this.headerFilters={},t.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach((function(e){e.modules.filter.value=null,e.modules.filter.prevSuccess=void 0,t.reloadHeaderFilter(e)})),this.changed=!0},il.prototype.search=function(t,e,o,n){var i=this,s=[],r=[];return Array.isArray(e)||(e=[{field:e,type:o,value:n}]),e.forEach((function(t){(t=i.findFilter(t))&&r.push(t)})),this.table.rowManager.rows.forEach((function(e){var o=!0;r.forEach((function(t){i.filterRecurse(t,e.getData())||(o=!1)})),o&&s.push("data"===t?e.getData("data"):e.getComponent())})),s},il.prototype.filter=function(t,e){var o=this,n=[],i=[];return o.table.options.dataFiltering&&o.table.options.dataFiltering.call(o.table,o.getFilters()),o.table.options.ajaxFiltering||!o.filterList.length&&!Object.keys(o.headerFilters).length?n=t.slice(0):t.forEach((function(t){o.filterRow(t)&&n.push(t)})),o.table.options.dataFiltered&&(n.forEach((function(t){i.push(t.getComponent())})),o.table.options.dataFiltered.call(o.table,o.getFilters(),i)),n},il.prototype.filterRow=function(t,e){var o=this,n=!0,i=t.getData();for(var s in o.filterList.forEach((function(t){o.filterRecurse(t,i)||(n=!1)})),o.headerFilters)o.headerFilters[s].func(i)||(n=!1);return n},il.prototype.filterRecurse=function(t,e){var o=this,n=!1;return Array.isArray(t)?t.forEach((function(t){o.filterRecurse(t,e)&&(n=!0)})):n=t.func(e),n},il.prototype.filters={"=":function(t,e,o,n){return e==t},"<":function(t,e,o,n){return e<t},"<=":function(t,e,o,n){return e<=t},">":function(t,e,o,n){return e>t},">=":function(t,e,o,n){return e>=t},"!=":function(t,e,o,n){return e!=t},regex:function(t,e,o,n){return"string"==typeof t&&(t=new RegExp(t)),t.test(e)},like:function(t,e,o,n){return null==t?e===t:null!=e&&String(e).toLowerCase().indexOf(t.toLowerCase())>-1},keywords:function(t,e,o,n){var i=t.toLowerCase().split(void 0===n.separator?" ":n.separator),s=String(null==e?"":e).toLowerCase(),r=[];return i.forEach((function(t){s.includes(t)&&r.push(!0)})),n.matchAll?r.length===i.length:!!r.length},starts:function(t,e,o,n){return null==t?e===t:null!=e&&String(e).toLowerCase().startsWith(t.toLowerCase())},ends:function(t,e,o,n){return null==t?e===t:null!=e&&String(e).toLowerCase().endsWith(t.toLowerCase())},in:function(t,e,o,n){return Array.isArray(t)?!t.length||t.indexOf(e)>-1:(console.warn("Filter Error - filter value is not an array:",t),!1)}},Wa.prototype.registerModule("filter",il);var sl=function(t){this.table=t};sl.prototype.initializeColumn=function(t){t.modules.format=this.lookupFormatter(t,""),void 0!==t.definition.formatterPrint&&(t.modules.format.print=this.lookupFormatter(t,"Print")),void 0!==t.definition.formatterClipboard&&(t.modules.format.clipboard=this.lookupFormatter(t,"Clipboard")),void 0!==t.definition.formatterHtmlOutput&&(t.modules.format.htmlOutput=this.lookupFormatter(t,"HtmlOutput"))},sl.prototype.lookupFormatter=function(t,e){var o={params:t.definition["formatter"+e+"Params"]||{}},n=t.definition["formatter"+e];switch(void 0===n?"undefined":Aa(n)){case"string":"tick"===n&&(n="tickCross",void 0===o.params.crossElement&&(o.params.crossElement=!1),console.warn("DEPRECATION WARNING - the tick formatter has been deprecated, please use the tickCross formatter with the crossElement param set to false")),this.formatters[n]?o.formatter=this.formatters[n]:(console.warn("Formatter Error - No such formatter found: ",n),o.formatter=this.formatters.plaintext);break;case"function":o.formatter=n;break;default:o.formatter=this.formatters.plaintext}return o},sl.prototype.cellRendered=function(t){t.modules.format&&t.modules.format.renderedCallback&&!t.modules.format.rendered&&(t.modules.format.renderedCallback(),t.modules.format.rendered=!0)},sl.prototype.formatValue=function(t){var e=t.getComponent(),o="function"==typeof t.column.modules.format.params?t.column.modules.format.params(e):t.column.modules.format.params;return t.column.modules.format.formatter.call(this,e,o,(function(e){t.modules.format||(t.modules.format={}),t.modules.format.renderedCallback=e,t.modules.format.rendered=!1}))},sl.prototype.formatExportValue=function(t,e){var o,n=t.column.modules.format[e];return n?(o="function"==typeof n.params?n.params(component):n.params,n.formatter.call(this,t.getComponent(),o,(function(e){t.modules.format||(t.modules.format={}),t.modules.format.renderedCallback=e,t.modules.format.rendered=!1}))):this.formatValue(t)},sl.prototype.sanitizeHTML=function(t){if(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(t).replace(/[&<>"'`=\/]/g,(function(t){return e[t]}))}return t},sl.prototype.emptyToSpace=function(t){return null==t||""===t?"&nbsp;":t},sl.prototype.getFormatter=function(t){switch(void 0===t?"undefined":Aa(t)){case"string":this.formatters[t]?t=this.formatters[t]:(console.warn("Formatter Error - No such formatter found: ",t),t=this.formatters.plaintext);break;case"function":t=t;break;default:t=this.formatters.plaintext}return t},sl.prototype.formatters={plaintext:function(t,e,o){return this.emptyToSpace(this.sanitizeHTML(t.getValue()))},html:function(t,e,o){return t.getValue()},textarea:function(t,e,o){return t.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(t.getValue()))},money:function(t,e,o){var n,i,s,r,a=parseFloat(t.getValue()),l=e.decimal||".",c=e.thousand||",",u=e.symbol||"",d=!!e.symbolAfter,h=void 0!==e.precision?e.precision:2;if(isNaN(a))return this.emptyToSpace(this.sanitizeHTML(t.getValue()));for(n=!1!==h?a.toFixed(h):a,i=(n=String(n).split("."))[0],s=n.length>1?l+n[1]:"",r=/(\d+)(\d{3})/;r.test(i);)i=i.replace(r,"$1"+c+"$2");return d?i+s+u:u+i+s},link:function(t,e,o){var n=t.getValue(),i=e.urlPrefix||"",s=e.download,r=n,a=document.createElement("a");if(e.labelField&&(r=t.getData()[e.labelField]),e.label)switch(Aa(e.label)){case"string":r=e.label;break;case"function":r=e.label(t)}if(r){if(e.urlField&&(n=t.getData()[e.urlField]),e.url)switch(Aa(e.url)){case"string":n=e.url;break;case"function":n=e.url(t)}return a.setAttribute("href",i+n),e.target&&a.setAttribute("target",e.target),e.download&&(s="function"==typeof s?s(t):!0===s?"":s,a.setAttribute("download",s)),a.innerHTML=this.emptyToSpace(this.sanitizeHTML(r)),a}return"&nbsp;"},image:function(t,e,o){var n=document.createElement("img");switch(n.setAttribute("src",t.getValue()),Aa(e.height)){case"number":n.style.height=e.height+"px";break;case"string":n.style.height=e.height}switch(Aa(e.width)){case"number":n.style.width=e.width+"px";break;case"string":n.style.width=e.width}return n.addEventListener("load",(function(){t.getRow().normalizeHeight()})),n},tickCross:function(t,e,o){var n=t.getValue(),i=t.getElement(),s=e.allowEmpty,r=void 0!==e.tickElement?e.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',a=void 0!==e.crossElement?e.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return e.allowTruthy&&n||!0===n||"true"===n||"True"===n||1===n||"1"===n?(i.setAttribute("aria-checked",!0),r||""):!s||"null"!==n&&""!==n&&null!=n?(i.setAttribute("aria-checked",!1),a||""):(i.setAttribute("aria-checked","mixed"),"")},datetime:function(t,e,o){var n=e.inputFormat||"YYYY-MM-DD hh:mm:ss",i=e.outputFormat||"DD/MM/YYYY hh:mm:ss",s=void 0!==e.invalidPlaceholder?e.invalidPlaceholder:"",r=t.getValue(),a=moment(r,n);return a.isValid()?e.timezone?a.tz(e.timezone).format(i):a.format(i):!0===s?r:"function"==typeof s?s(r):s},datetimediff:function(t,e,o){var n=e.inputFormat||"YYYY-MM-DD hh:mm:ss",i=void 0!==e.invalidPlaceholder?e.invalidPlaceholder:"",s=void 0!==e.suffix&&e.suffix,r=void 0!==e.unit?e.unit:void 0,a=void 0!==e.humanize&&e.humanize,l=void 0!==e.date?e.date:moment(),c=t.getValue(),u=moment(c,n);return u.isValid()?a?moment.duration(u.diff(l)).humanize(s):u.diff(l,r)+(s?" "+s:""):!0===i?c:"function"==typeof i?i(c):i},lookup:function(t,e,o){var n=t.getValue();return void 0===e[n]?(console.warn("Missing display value for "+n),n):e[n]},star:function(t,e,o){var n=t.getValue(),i=t.getElement(),s=e&&e.stars?e.stars:5,r=document.createElement("span"),a=document.createElementNS("http://www.w3.org/2000/svg","svg");r.style.verticalAlign="middle",a.setAttribute("width","14"),a.setAttribute("height","14"),a.setAttribute("viewBox","0 0 512 512"),a.setAttribute("xml:space","preserve"),a.style.padding="0 1px",n=n&&!isNaN(n)?parseInt(n):0,n=Math.max(0,Math.min(n,s));for(var l=1;l<=s;l++){var c=a.cloneNode(!0);c.innerHTML=l<=n?'<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>':'<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',r.appendChild(c)}return i.style.whiteSpace="nowrap",i.style.overflow="hidden",i.style.textOverflow="ellipsis",i.setAttribute("aria-label",n),r},traffic:function(t,e,o){var n,i=this.sanitizeHTML(t.getValue())||0,s=document.createElement("span"),r=e&&e.max?e.max:100,a=e&&e.min?e.min:0,l=e&&void 0!==e.color?e.color:["red","orange","green"],c="#666666";if(!isNaN(i)&&void 0!==t.getValue()){switch(s.classList.add("tabulator-traffic-light"),n=parseFloat(i)<=r?parseFloat(i):r,n=parseFloat(n)>=a?parseFloat(n):a,n=Math.round((n-a)/((r-a)/100)),void 0===l?"undefined":Aa(l)){case"string":c=l;break;case"function":c=l(i);break;case"object":if(Array.isArray(l)){var u=Math.floor(n/(100/l.length));u=Math.min(u,l.length-1),c=l[u=Math.max(u,0)];break}}return s.style.backgroundColor=c,s}},progress:function(t,e,o){var n,i,s,r,a=this.sanitizeHTML(t.getValue())||0,l=t.getElement(),c=e&&e.max?e.max:100,u=e&&e.min?e.min:0,d=e&&e.legendAlign?e.legendAlign:"center";switch(n=parseFloat(a)<=c?parseFloat(a):c,n=parseFloat(n)>=u?parseFloat(n):u,n=Math.round((n-u)/((c-u)/100)),Aa(e.color)){case"string":i=e.color;break;case"function":i=e.color(a);break;case"object":if(Array.isArray(e.color)){var h=100/e.color.length,p=Math.floor(n/h);p=Math.min(p,e.color.length-1),p=Math.max(p,0),i=e.color[p];break}default:i="#2DC214"}switch(Aa(e.legend)){case"string":s=e.legend;break;case"function":s=e.legend(a);break;case"boolean":s=a;break;default:s=!1}switch(Aa(e.legendColor)){case"string":r=e.legendColor;break;case"function":r=e.legendColor(a);break;case"object":Array.isArray(e.legendColor)&&(h=100/e.legendColor.length,p=Math.floor(n/h),p=Math.min(p,e.legendColor.length-1),p=Math.max(p,0),r=e.legendColor[p]);break;default:r="#000"}l.style.minWidth="30px",l.style.position="relative",l.setAttribute("aria-label",n);var m=document.createElement("div");if(m.style.display="inline-block",m.style.position="relative",m.style.width=n+"%",m.style.backgroundColor=i,m.style.height="100%",m.setAttribute("data-max",c),m.setAttribute("data-min",u),s){var f=document.createElement("div");f.style.position="absolute",f.style.top="4px",f.style.left=0,f.style.textAlign=d,f.style.width="100%",f.style.color=r,f.innerHTML=s}return o((function(){if(!(t instanceof ja)){var e=document.createElement("div");e.style.position="absolute",e.style.top="4px",e.style.bottom="4px",e.style.left="4px",e.style.right="4px",l.appendChild(e),l=e}l.appendChild(m),s&&l.appendChild(f)})),""},color:function(t,e,o){return t.getElement().style.backgroundColor=this.sanitizeHTML(t.getValue()),""},buttonTick:function(t,e,o){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'},buttonCross:function(t,e,o){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'},rownum:function(t,e,o){return this.table.rowManager.activeRows.indexOf(t.getRow()._getSelf())+1},handle:function(t,e,o){return t.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"},responsiveCollapse:function(t,e,o){var n=document.createElement("div"),i=t.getRow()._row.modules.responsiveLayout;function s(t){var e=i.element;i.open=t,e&&(i.open?(n.classList.add("open"),e.style.display=""):(n.classList.remove("open"),e.style.display="none"))}return n.classList.add("tabulator-responsive-collapse-toggle"),n.innerHTML="<span class='tabulator-responsive-collapse-toggle-open'>+</span><span class='tabulator-responsive-collapse-toggle-close'>-</span>",t.getElement().classList.add("tabulator-row-handle"),n.addEventListener("click",(function(t){t.stopImmediatePropagation(),s(!i.open)})),s(i.open),n},rowSelection:function(t,e,o){var n=this,i=document.createElement("input");if(i.type="checkbox",this.table.modExists("selectRow",!0))if(i.addEventListener("click",(function(t){t.stopPropagation()})),"function"==typeof t.getRow){var s=t.getRow();s instanceof Na?(i.addEventListener("change",(function(t){s.toggleSelect()})),i.checked=s.isSelected&&s.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(s,i)):i=""}else i.addEventListener("change",(function(t){n.table.modules.selectRow.selectedRows.length?n.table.deselectRow():n.table.selectRow(e.rowRange)})),this.table.modules.selectRow.registerHeaderSelectCheckbox(i);return i}},Wa.prototype.registerModule("format",sl);var rl=function(t){this.table=t,this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightPadding=0,this.initializationMode="left",this.active=!1,this.scrollEndTimer=!1};rl.prototype.reset=function(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightMargin=0,this.active=!1,this.table.columnManager.headersElement.style.marginLeft=0,this.table.columnManager.element.style.paddingRight=0},rl.prototype.initializeColumn=function(t){var e={margin:0,edge:!1};t.isGroup||(this.frozenCheck(t)?(e.position=this.initializationMode,"left"==this.initializationMode?this.leftColumns.push(t):this.rightColumns.unshift(t),this.active=!0,t.modules.frozen=e):this.initializationMode="right")},rl.prototype.frozenCheck=function(t){return t.parent.isGroup&&t.definition.frozen&&console.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),t.parent.isGroup?this.frozenCheck(t.parent):t.definition.frozen},rl.prototype.scrollHorizontal=function(){var t,e=this;this.active&&(clearTimeout(this.scrollEndTimer),this.scrollEndTimer=setTimeout((function(){e.layout()}),100),t=this.table.rowManager.getVisibleRows(),this.calcMargins(),this.layoutColumnPosition(),this.layoutCalcRows(),t.forEach((function(t){"row"===t.type&&e.layoutRow(t)})),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)},rl.prototype.calcMargins=function(){this.leftMargin=this._calcSpace(this.leftColumns,this.leftColumns.length)+"px",this.table.columnManager.headersElement.style.marginLeft=this.leftMargin,this.rightMargin=this._calcSpace(this.rightColumns,this.rightColumns.length)+"px",this.table.columnManager.element.style.paddingRight=this.rightMargin,this.rightPadding=this.table.rowManager.element.clientWidth+this.table.columnManager.scrollLeft},rl.prototype.layoutCalcRows=function(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow))},rl.prototype.layoutColumnPosition=function(t){var e=this,o=[];this.leftColumns.forEach((function(n,i){if(n.modules.frozen.margin=e._calcSpace(e.leftColumns,i)+e.table.columnManager.scrollLeft+"px",n.modules.frozen.edge=i==e.leftColumns.length-1,n.parent.isGroup){var s=e.getColGroupParentElement(n);o.includes(s)||(e.layoutElement(s,n),o.push(s)),n.modules.frozen.edge&&s.classList.add("tabulator-frozen-"+n.modules.frozen.position)}else e.layoutElement(n.getElement(),n);t&&n.cells.forEach((function(t){e.layoutElement(t.getElement(),n)}))})),this.rightColumns.forEach((function(o,n){o.modules.frozen.margin=e.rightPadding-e._calcSpace(e.rightColumns,n+1)+"px",o.modules.frozen.edge=n==e.rightColumns.length-1,e.layoutElement(o.parent.isGroup?e.getColGroupParentElement(o):o.getElement(),o),t&&o.cells.forEach((function(t){e.layoutElement(t.getElement(),o)}))}))},rl.prototype.getColGroupParentElement=function(t){return t.parent.isGroup?this.getColGroupParentElement(t.parent):t.getElement()},rl.prototype.layout=function(){var t=this;t.active&&(this.calcMargins(),t.table.rowManager.getDisplayRows().forEach((function(e){"row"===e.type&&t.layoutRow(e)})),this.layoutCalcRows(),this.layoutColumnPosition(!0),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)},rl.prototype.layoutRow=function(t){var e=this;t.getElement().style.paddingLeft=this.leftMargin,this.leftColumns.forEach((function(o){var n=t.getCell(o);n&&e.layoutElement(n.getElement(),o)})),this.rightColumns.forEach((function(o){var n=t.getCell(o);n&&e.layoutElement(n.getElement(),o)}))},rl.prototype.layoutElement=function(t,e){e.modules.frozen&&(t.style.position="absolute",t.style.left=e.modules.frozen.margin,t.classList.add("tabulator-frozen"),e.modules.frozen.edge&&t.classList.add("tabulator-frozen-"+e.modules.frozen.position))},rl.prototype._calcSpace=function(t,e){for(var o=0,n=0;n<e;n++)t[n].visible&&(o+=t[n].getWidth());return o},Wa.prototype.registerModule("frozenColumns",rl);var al=function(t){this.table=t,this.topElement=document.createElement("div"),this.rows=[],this.displayIndex=0};al.prototype.initialize=function(){this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling)},al.prototype.setDisplayIndex=function(t){this.displayIndex=t},al.prototype.getDisplayIndex=function(){return this.displayIndex},al.prototype.isFrozen=function(){return!!this.rows.length},al.prototype.getRows=function(t){var e=t.slice(0);return this.rows.forEach((function(t){var o=e.indexOf(t);o>-1&&e.splice(o,1)})),e},al.prototype.freezeRow=function(t){t.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(t.modules.frozen=!0,this.topElement.appendChild(t.getElement()),t.initialize(),t.normalizeHeight(),this.table.rowManager.adjustTableSize(),this.rows.push(t),this.table.rowManager.refreshActiveData("display"),this.styleRows())},al.prototype.unfreezeRow=function(t){this.rows.indexOf(t),t.modules.frozen?(t.modules.frozen=!1,this.detachRow(t),this.table.rowManager.adjustTableSize(),this.table.rowManager.refreshActiveData("display"),this.rows.length&&this.styleRows()):console.warn("Freeze Error - Row is already unfrozen")},al.prototype.detachRow=function(t){var e=this.rows.indexOf(t);if(e>-1){var o=t.getElement();o.parentNode.removeChild(o),this.rows.splice(e,1)}},al.prototype.styleRows=function(t){var e=this;this.rows.forEach((function(t,o){e.table.rowManager.styleRow(t,o)}))},Wa.prototype.registerModule("frozenRows",al);var ll=function(t){this._group=t,this.type="GroupComponent"};ll.prototype.getKey=function(){return this._group.key},ll.prototype.getField=function(){return this._group.field},ll.prototype.getElement=function(){return this._group.element},ll.prototype.getRows=function(){return this._group.getRows(!0)},ll.prototype.getSubGroups=function(){return this._group.getSubGroups(!0)},ll.prototype.getParentGroup=function(){return!!this._group.parent&&this._group.parent.getComponent()},ll.prototype.getVisibility=function(){return console.warn("getVisibility function is deprecated, you should now use the isVisible function"),this._group.visible},ll.prototype.isVisible=function(){return this._group.visible},ll.prototype.show=function(){this._group.show()},ll.prototype.hide=function(){this._group.hide()},ll.prototype.toggle=function(){this._group.toggleVisibility()},ll.prototype._getSelf=function(){return this._group},ll.prototype.getTable=function(){return this._group.groupManager.table};var cl=function(t,e,o,n,i,s,r){this.groupManager=t,this.parent=e,this.key=n,this.level=o,this.field=i,this.hasSubGroups=o<t.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=r,this.rows=[],this.groups=[],this.groupList=[],this.generator=s,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=r?r.visible:void 0!==t.startOpen[o]?t.startOpen[o]:t.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()};cl.prototype.wipe=function(){this.groupList.length?this.groupList.forEach((function(t){t.wipe()})):(this.element=!1,this.arrowElement=!1,this.elementContents=!1)},cl.prototype.createElements=function(){var t=document.createElement("div");t.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(t),!1!==this.groupManager.table.options.movableRows&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)},cl.prototype.createValueGroups=function(){var t=this,e=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]&&this.groupManager.allowedValues[e].forEach((function(o){t._createGroup(o,e)}))},cl.prototype.addBindings=function(){var t,e,o,n=this;n.groupManager.table.options.groupClick&&n.element.addEventListener("click",(function(t){n.groupManager.table.options.groupClick.call(n.groupManager.table,t,n.getComponent())})),n.groupManager.table.options.groupDblClick&&n.element.addEventListener("dblclick",(function(t){n.groupManager.table.options.groupDblClick.call(n.groupManager.table,t,n.getComponent())})),n.groupManager.table.options.groupContext&&n.element.addEventListener("contextmenu",(function(t){n.groupManager.table.options.groupContext.call(n.groupManager.table,t,n.getComponent())})),(n.groupManager.table.options.groupContextMenu||n.groupManager.table.options.groupClickMenu)&&n.groupManager.table.modExists("menu")&&n.groupManager.table.modules.menu.initializeGroup.call(n.groupManager.table.modules.menu,n),n.groupManager.table.options.groupTap&&(o=!1,n.element.addEventListener("touchstart",(function(t){o=!0}),{passive:!0}),n.element.addEventListener("touchend",(function(t){o&&n.groupManager.table.options.groupTap(t,n.getComponent()),o=!1}))),n.groupManager.table.options.groupDblTap&&(t=null,n.element.addEventListener("touchend",(function(e){t?(clearTimeout(t),t=null,n.groupManager.table.options.groupDblTap(e,n.getComponent())):t=setTimeout((function(){clearTimeout(t),t=null}),300)}))),n.groupManager.table.options.groupTapHold&&(e=null,n.element.addEventListener("touchstart",(function(t){clearTimeout(e),e=setTimeout((function(){clearTimeout(e),e=null,o=!1,n.groupManager.table.options.groupTapHold(t,n.getComponent())}),1e3)}),{passive:!0}),n.element.addEventListener("touchend",(function(t){clearTimeout(e),e=null}))),n.groupManager.table.options.groupToggleElement&&("arrow"==n.groupManager.table.options.groupToggleElement?n.arrowElement:n.element).addEventListener("click",(function(t){t.stopPropagation(),t.stopImmediatePropagation(),n.toggleVisibility()}))},cl.prototype._createGroup=function(t,e){var o=e+"_"+t,n=new cl(this.groupManager,this,e,t,this.groupManager.groupIDLookups[e].field,this.groupManager.headerGenerator[e]||this.groupManager.headerGenerator[0],!!this.old&&this.old.groups[o]);this.groups[o]=n,this.groupList.push(n)},cl.prototype._addRowToGroup=function(t){var e=this.level+1;if(this.hasSubGroups){var o=this.groupManager.groupIDLookups[e].func(t.getData()),n=e+"_"+o;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]?this.groups[n]&&this.groups[n].addRow(t):(this.groups[n]||this._createGroup(o,e),this.groups[n].addRow(t))}},cl.prototype._addRow=function(t){this.rows.push(t),t.modules.group=this},cl.prototype.insertRow=function(t,e,o){var n=this.conformRowData({});t.updateData(n);var i=this.rows.indexOf(e);i>-1?this.rows.splice(o?i+1:i,0,t):o?this.rows.push(t):this.rows.unshift(t),t.modules.group=this,this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)},cl.prototype.scrollHeader=function(t){this.arrowElement.style.marginLeft=t,this.groupList.forEach((function(e){e.scrollHeader(t)}))},cl.prototype.getRowIndex=function(t){},cl.prototype.conformRowData=function(t){return this.field?t[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(t=this.parent.conformRowData(t)),t},cl.prototype.removeRow=function(t){var e=this.rows.indexOf(t),o=t.getElement();e>-1&&this.rows.splice(e,1),this.groupManager.table.options.groupValues||this.rows.length?(o.parentNode&&o.parentNode.removeChild(o),this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this)):(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0))},cl.prototype.removeGroup=function(t){var e,o=t.level+"_"+t.key;this.groups[o]&&(delete this.groups[o],(e=this.groupList.indexOf(t))>-1&&this.groupList.splice(e,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))},cl.prototype.getHeadersAndRows=function(t){var e=[];return e.push(this),this._visSet(),this.visible?this.groupList.length?this.groupList.forEach((function(o){e=e.concat(o.getHeadersAndRows(t))})):(!t&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),e=e.concat(this.rows),!t&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))):this.groupList.length||"table"==this.groupManager.table.options.columnCalcs||this.groupManager.table.modExists("columnCalcs")&&(!t&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top))),!t&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom)))),e},cl.prototype.getData=function(t,e){var o=[];return this._visSet(),(!t||t&&this.visible)&&this.rows.forEach((function(t){o.push(t.getData(e||"data"))})),o},cl.prototype.getRowCount=function(){var t=0;return this.groupList.length?this.groupList.forEach((function(e){t+=e.getRowCount()})):t=this.rows.length,t},cl.prototype.toggleVisibility=function(){this.visible?this.hide():this.show()},cl.prototype.hide=function(){this.visible=!1,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination?this.groupManager.updateGroupRows(!0):(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach((function(t){t.getHeadersAndRows().forEach((function(t){t.detachElement()}))})):this.rows.forEach((function(t){var e=t.getElement();e.parentNode.removeChild(e)})),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()),this.groupManager.table.options.groupVisibilityChanged.call(this.table,this.getComponent(),!1)},cl.prototype.show=function(){if(this.visible=!0,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination)this.groupManager.updateGroupRows(!0);else{this.element.classList.add("tabulator-group-visible");var t=this.getElement();this.groupList.length?this.groupList.forEach((function(e){e.getHeadersAndRows().forEach((function(e){var o=e.getElement();t.parentNode.insertBefore(o,t.nextSibling),e.initialize(),t=o}))})):this.rows.forEach((function(e){var o=e.getElement();t.parentNode.insertBefore(o,t.nextSibling),e.initialize(),t=o})),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()}this.groupManager.table.options.groupVisibilityChanged.call(this.table,this.getComponent(),!0)},cl.prototype._visSet=function(){var t=[];"function"==typeof this.visible&&(this.rows.forEach((function(e){t.push(e.getData())})),this.visible=this.visible(this.key,this.getRowCount(),t,this.getComponent()))},cl.prototype.getRowGroup=function(t){var e=!1;return this.groupList.length?this.groupList.forEach((function(o){var n=o.getRowGroup(t);n&&(e=n)})):this.rows.find((function(e){return e===t}))&&(e=this),e},cl.prototype.getSubGroups=function(t){var e=[];return this.groupList.forEach((function(o){e.push(t?o.getComponent():o)})),e},cl.prototype.getRows=function(t){var e=[];return this.rows.forEach((function(o){e.push(t?o.getComponent():o)})),e},cl.prototype.generateGroupHeaderContents=function(){var t=[];for(this.rows.forEach((function(e){t.push(e.getData())})),this.elementContents=this.generator(this.key,this.getRowCount(),t,this.getComponent());this.element.firstChild;)this.element.removeChild(this.element.firstChild);"string"==typeof this.elementContents?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)},cl.prototype.getPath=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.unshift(this.key),this.parent&&this.parent.getPath(t),t},cl.prototype.getElement=function(){this.addBindingsd=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var t=0;t<this.element.childNodes.length;++t)this.element.childNodes[t].parentNode.removeChild(this.element.childNodes[t]);return this.generateGroupHeaderContents(),this.element},cl.prototype.detachElement=function(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)},cl.prototype.normalizeHeight=function(){this.setHeight(this.element.clientHeight)},cl.prototype.initialize=function(t){this.initialized&&!t||(this.normalizeHeight(),this.initialized=!0)},cl.prototype.reinitialize=function(){this.initialized=!1,this.height=0,Wa.prototype.helpers.elVisible(this.element)&&this.initialize(!0)},cl.prototype.setHeight=function(t){this.height!=t&&(this.height=t,this.outerHeight=this.element.offsetHeight)},cl.prototype.getHeight=function(){return this.outerHeight},cl.prototype.getGroup=function(){return this},cl.prototype.reinitializeHeight=function(){},cl.prototype.calcHeight=function(){},cl.prototype.setCellHeight=function(){},cl.prototype.clearCellHeight=function(){},cl.prototype.getComponent=function(){return this.component||(this.component=new ll(this)),this.component};var ul=function(t){this.table=t,this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayIndex=0};ul.prototype.initialize=function(){var t=this,e=t.table.options.groupBy,o=t.table.options.groupStartOpen,n=t.table.options.groupHeader;this.allowedValues=t.table.options.groupValues,Array.isArray(e)&&Array.isArray(n)&&e.length>n.length&&console.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),t.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],t.table.modules.localize.bind("groups|item",(function(e,o){t.headerGenerator[0]=function(t,n,i){return(void 0===t?"":t)+"<span>("+n+" "+(1===n?e:o.groups.items)+")</span>"}})),this.groupIDLookups=[],Array.isArray(e)||e?this.table.modExists("columnCalcs")&&"table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.removeCalcs():this.table.modExists("columnCalcs")&&"group"!=this.table.options.columnCalcs&&this.table.columnManager.getRealColumns().forEach((function(e){e.definition.topCalc&&t.table.modules.columnCalcs.initializeTopRow(),e.definition.bottomCalc&&t.table.modules.columnCalcs.initializeBottomRow()})),Array.isArray(e)||(e=[e]),e.forEach((function(e,o){var n,i;n="function"==typeof e?e:(i=t.table.columnManager.getColumnByField(e))?function(t){return i.getFieldValue(t)}:function(t){return t[e]},t.groupIDLookups.push({field:"function"!=typeof e&&e,func:n,values:!!t.allowedValues&&t.allowedValues[o]})})),o&&(Array.isArray(o)||(o=[o]),o.forEach((function(t){t="function"==typeof t?t:function(){return!0}})),t.startOpen=o),n&&(t.headerGenerator=Array.isArray(n)?n:[n]),this.initialized=!0},ul.prototype.setDisplayIndex=function(t){this.displayIndex=t},ul.prototype.getDisplayIndex=function(){return this.displayIndex},ul.prototype.getRows=function(t){return this.groupIDLookups.length?(this.table.options.dataGrouping.call(this.table),this.generateGroups(t),this.table.options.dataGrouped&&this.table.options.dataGrouped.call(this.table,this.getGroups(!0)),this.updateGroupRows()):t.slice(0)},ul.prototype.getGroups=function(t){var e=[];return this.groupList.forEach((function(o){e.push(t?o.getComponent():o)})),e},ul.prototype.getChildGroups=function(t){var e=this,o=[];return t||(t=this),t.groupList.forEach((function(t){t.groupList.length?o=o.concat(e.getChildGroups(t)):o.push(t)})),o},ul.prototype.wipe=function(){this.groupList.forEach((function(t){t.wipe()}))},ul.prototype.pullGroupListData=function(t){var e=this,o=[];return t.forEach((function(t){var n={level:0,rowCount:0,headerContent:""},i=[];t.hasSubGroups?(i=e.pullGroupListData(t.groupList),n.level=t.level,n.rowCount=i.length-t.groupList.length,n.headerContent=t.generator(t.key,n.rowCount,t.rows,t),o.push(n),o=o.concat(i)):(n.level=t.level,n.headerContent=t.generator(t.key,t.rows.length,t.rows,t),n.rowCount=t.getRows().length,o.push(n),t.getRows().forEach((function(t){o.push(t.getData("data"))})))})),o},ul.prototype.getGroupedData=function(){return this.pullGroupListData(this.groupList)},ul.prototype.getRowGroup=function(t){var e=!1;return this.groupList.forEach((function(o){var n=o.getRowGroup(t);n&&(e=n)})),e},ul.prototype.countGroups=function(){return this.groupList.length},ul.prototype.generateGroups=function(t){var e=this,o=e.groups;e.groups={},e.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach((function(t){e.createGroup(t,0,o)})),t.forEach((function(t){e.assignRowToExistingGroup(t,o)}))):t.forEach((function(t){e.assignRowToGroup(t,o)}))},ul.prototype.createGroup=function(t,e,o){var n,i=e+"_"+t;n=new cl(this,!1,e,t,this.groupIDLookups[0].field,this.headerGenerator[0],(o=o||[])[i]),this.groups[i]=n,this.groupList.push(n)},ul.prototype.assignRowToExistingGroup=function(t,e){var o="0_"+this.groupIDLookups[0].func(t.getData());this.groups[o]&&this.groups[o].addRow(t)},ul.prototype.assignRowToGroup=function(t,e){var o=this.groupIDLookups[0].func(t.getData()),n=!this.groups["0_"+o];return n&&this.createGroup(o,0,e),this.groups["0_"+o].addRow(t),!n},ul.prototype.reassignRowToGroup=function(t){var e=t.getGroup(),o=e.getPath(),n=this.getExpectedPath(t);o.length==n.length&&o.every((function(t,e){return t===n[e]}))||(e.removeRow(t),this.assignRowToGroup(t,self.groups),this.table.rowManager.refreshActiveData("group",!1,!0))},ul.prototype.getExpectedPath=function(t){var e=[],o=t.getData();return this.groupIDLookups.forEach((function(t){e.push(t.func(o))})),e},ul.prototype.updateGroupRows=function(t){var e=[];if(this.groupList.forEach((function(t){e=e.concat(t.getHeadersAndRows())})),t){var o=this.table.rowManager.setDisplayRows(e,this.getDisplayIndex());!0!==o&&this.setDisplayIndex(o),this.table.rowManager.refreshActiveData("group",!0,!0)}return e},ul.prototype.scrollHeaders=function(t){this.table.options.virtualDomHoz&&(t-=this.table.vdomHoz.vDomPadLeft),t+="px",this.groupList.forEach((function(e){e.scrollHeader(t)}))},ul.prototype.removeGroup=function(t){var e,o=t.level+"_"+t.key;this.groups[o]&&(delete this.groups[o],(e=this.groupList.indexOf(t))>-1&&this.groupList.splice(e,1))},Wa.prototype.registerModule("groupRows",ul);var dl=function(t){this.table=t,this.history=[],this.index=-1};dl.prototype.clear=function(){this.history=[],this.index=-1},dl.prototype.action=function(t,e,o){this.history=this.history.slice(0,this.index+1),this.history.push({type:t,component:e,data:o}),this.index++},dl.prototype.getHistoryUndoSize=function(){return this.index+1},dl.prototype.getHistoryRedoSize=function(){return this.history.length-(this.index+1)},dl.prototype.clearComponentHistory=function(t){var e=this.history.findIndex((function(e){return e.component===t}));e>-1&&(this.history.splice(e,1),e<=this.index&&this.index--,this.clearComponentHistory(t))},dl.prototype.undo=function(){if(this.index>-1){var t=this.history[this.index];return this.undoers[t.type].call(this,t),this.index--,this.table.options.historyUndo.call(this.table,t.type,t.component.getComponent(),t.data),!0}return console.warn("History Undo Error - No more history to undo"),!1},dl.prototype.redo=function(){if(this.history.length-1>this.index){this.index++;var t=this.history[this.index];return this.redoers[t.type].call(this,t),this.table.options.historyRedo.call(this.table,t.type,t.component.getComponent(),t.data),!0}return console.warn("History Redo Error - No more history to redo"),!1},dl.prototype.undoers={cellEdit:function(t){t.component.setValueProcessData(t.data.oldValue)},rowAdd:function(t){t.component.deleteActual()},rowDelete:function(t){var e=this.table.rowManager.addRowActual(t.data.data,t.data.pos,t.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(t.component,e)},rowMove:function(t){this.table.rowManager.moveRowActual(t.component,this.table.rowManager.rows[t.data.posFrom],!t.data.after),this.table.rowManager.redraw()}},dl.prototype.redoers={cellEdit:function(t){t.component.setValueProcessData(t.data.newValue)},rowAdd:function(t){var e=this.table.rowManager.addRowActual(t.data.data,t.data.pos,t.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(t.component,e)},rowDelete:function(t){t.component.deleteActual()},rowMove:function(t){this.table.rowManager.moveRowActual(t.component,this.table.rowManager.rows[t.data.posTo],t.data.after),this.table.rowManager.redraw()}},dl.prototype._rebindRow=function(t,e){this.history.forEach((function(o){if(o.component instanceof Oa)o.component===t&&(o.component=e);else if(o.component instanceof Va&&o.component.row===t){var n=o.component.column.getField();n&&(o.component=e.getCell(n))}}))},Wa.prototype.registerModule("history",dl);var hl=function(t){this.table=t,this.fieldIndex=[],this.hasIndex=!1};hl.prototype.parseTable=function(){var t=this.table.element,e=this.table.options,o=t.getElementsByTagName("th"),n=t.getElementsByTagName("tbody")[0],i=[];this.hasIndex=!1,this.table.options.htmlImporting.call(this.table),n=n?n.getElementsByTagName("tr"):[],this._extractOptions(t,e),o.length?this._extractHeaders(o,n):this._generateBlankHeaders(o,n);for(var s=0;s<n.length;s++){var r=n[s].getElementsByTagName("td"),a={};this.hasIndex||(a[e.index]=s);for(var l=0;l<r.length;l++)void 0!==this.fieldIndex[l]&&(a[this.fieldIndex[l]]=r[l].innerHTML);i.push(a)}var c=document.createElement("div"),u=t.attributes;for(var l in u)"object"==Aa(u[l])&&c.setAttribute(u[l].name,u[l].value);t.parentNode.replaceChild(c,t),e.data=i,this.table.options.htmlImported.call(this.table),this.table.element=c},hl.prototype._extractOptions=function(t,e,o){var n=t.attributes,i=o?Object.assign([],o):Object.keys(e),s={};for(var r in i.forEach((function(t){s[t.toLowerCase()]=t})),n){var a,l=n[r];l&&"object"==(void 0===l?"undefined":Aa(l))&&l.name&&0===l.name.indexOf("tabulator-")&&(a=l.name.replace("tabulator-",""),void 0!==s[a]&&(e[s[a]]=this._attribValue(l.value)))}},hl.prototype._attribValue=function(t){return"true"===t||"false"!==t&&t},hl.prototype._findCol=function(t){return this.table.options.columns.find((function(e){return e.title===t}))||!1},hl.prototype._extractHeaders=function(t,e){for(var o=0;o<t.length;o++){var n,i=t[o],s=!1,r=this._findCol(i.textContent);r?s=!0:r={title:i.textContent.trim()},r.field||(r.field=i.textContent.trim().toLowerCase().replace(" ","_")),(n=i.getAttribute("width"))&&!r.width&&(r.width=n),this._extractOptions(i,r,za.prototype.defaultOptionList),this.fieldIndex[o]=r.field,r.field==this.table.options.index&&(this.hasIndex=!0),s||this.table.options.columns.push(r)}},hl.prototype._generateBlankHeaders=function(t,e){for(var o=0;o<t.length;o++){var n=t[o],i={title:"",field:"col"+o};this.fieldIndex[o]=i.field;var s=n.getAttribute("width");s&&(i.width=s),this.table.options.columns.push(i)}},Wa.prototype.registerModule("htmlTableImport",hl);var pl=function(t){this.table=t,this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1};pl.prototype.initialize=function(){var t=this.table.options.keybindings,e={};if(this.watchKeys={},this.pressedKeys=[],!1!==t){for(var o in this.bindings)e[o]=this.bindings[o];if(Object.keys(t).length)for(var n in t)e[n]=t[n];this.mapBindings(e),this.bindEvents()}},pl.prototype.mapBindings=function(t){var e=this,o=this,n=function(n){e.actions[n]?t[n]&&("object"!==Aa(t[n])&&(t[n]=[t[n]]),t[n].forEach((function(t){o.mapBinding(n,t)}))):console.warn("Key Binding Error - no such action:",n)};for(var i in t)n(i)},pl.prototype.mapBinding=function(t,e){var o=this,n={action:this.actions[t],keys:[],ctrl:!1,shift:!1,meta:!1};e.toString().toLowerCase().split(" ").join("").split("+").forEach((function(t){switch(t){case"ctrl":n.ctrl=!0;break;case"shift":n.shift=!0;break;case"meta":n.meta=!0;break;default:t=parseInt(t),n.keys.push(t),o.watchKeys[t]||(o.watchKeys[t]=[]),o.watchKeys[t].push(n)}}))},pl.prototype.bindEvents=function(){var t=this;this.keyupBinding=function(e){var o=e.keyCode,n=t.watchKeys[o];n&&(t.pressedKeys.push(o),n.forEach((function(o){t.checkBinding(e,o)})))},this.keydownBinding=function(e){var o=e.keyCode;if(t.watchKeys[o]){var n=t.pressedKeys.indexOf(o);n>-1&&t.pressedKeys.splice(n,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)},pl.prototype.clearBindings=function(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)},pl.prototype.checkBinding=function(t,e){var o=this,n=!0;return t.ctrlKey==e.ctrl&&t.shiftKey==e.shift&&t.metaKey==e.meta&&(e.keys.forEach((function(t){-1==o.pressedKeys.indexOf(t)&&(n=!1)})),n&&e.action.call(o,t),!0)},pl.prototype.bindings={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35,undo:"ctrl + 90",redo:"ctrl + 89",copyToClipboard:"ctrl + 67"},pl.prototype.actions={keyBlock:function(t){t.stopPropagation(),t.preventDefault()},scrollPageUp:function(t){var e=this.table.rowManager,o=e.scrollTop-e.height;t.preventDefault(),e.displayRowsCount&&(o>=0?e.element.scrollTop=o:e.scrollToRow(e.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(t){var e=this.table.rowManager,o=e.scrollTop+e.height,n=e.element.scrollHeight;t.preventDefault(),e.displayRowsCount&&(o<=n?e.element.scrollTop=o:e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(t){var e=this.table.rowManager;t.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(t){var e=this.table.rowManager;t.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1]),this.table.element.focus()},navPrev:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell)&&(t.preventDefault(),e.nav().prev())},navNext:function(t){var e,o=!1,n=this.table.options.tabEndNewRow;this.table.modExists("edit")&&(o=this.table.modules.edit.currentCell)&&(t.preventDefault(),(e=o.nav()).next()||n&&(o.getElement().firstChild.blur(),(n=this.table.addRow(!0===n?{}:"function"==typeof n?n(o.row.getComponent()):Object.assign({},n))).then((function(){setTimeout((function(){e.next()}))}))))},navLeft:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell)&&(t.preventDefault(),e.nav().left())},navRight:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell)&&(t.preventDefault(),e.nav().right())},navUp:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell)&&(t.preventDefault(),e.nav().up())},navDown:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell)&&(t.preventDefault(),e.nav().down())},undo:function(t){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(t.preventDefault(),this.table.modules.history.undo()))},redo:function(t){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(t.preventDefault(),this.table.modules.history.redo()))},copyToClipboard:function(t){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}},Wa.prototype.registerModule("keybindings",pl);var ml=function(t){this.table=t,this.menuEl=!1,this.blurEvent=this.hideMenu.bind(this),this.escEvent=this.escMenu.bind(this),this.nestedMenuBlock=!1};ml.prototype.initializeColumnHeader=function(t){var e,o=this;t.definition.headerContextMenu&&(t.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,t,t.definition.headerContextMenu)),this.tapHold(t,t.definition.headerContextMenu)),t.definition.headerMenu&&((e=document.createElement("span")).classList.add("tabulator-header-menu-button"),e.innerHTML="&vellip;",e.addEventListener("click",(function(e){var n="function"==typeof t.definition.headerMenu?t.definition.headerMenu(t.getComponent(),e):t.definition.headerMenu;e.stopPropagation(),e.preventDefault(),o.loadMenu(e,t,n)})),t.titleElement.insertBefore(e,t.titleElement.firstChild))},ml.prototype.LoadMenuEvent=function(t,e,o){e="function"==typeof e?e(t.getComponent(),o):e,this.loadMenu(o,t,e)},ml.prototype.tapHold=function(t,e){var o=this,n=t.getElement(),i=null,s=!1;n.addEventListener("touchstart",(function(n){clearTimeout(i),s=!1,i=setTimeout((function(){clearTimeout(i),i=null,s=!0,o.LoadMenuEvent(t,e,n)}),1e3)}),{passive:!0}),n.addEventListener("touchend",(function(t){clearTimeout(i),i=null,s&&t.preventDefault()}))},ml.prototype.initializeCell=function(t){t.column.definition.contextMenu&&(t.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,t,t.column.definition.contextMenu)),this.tapHold(t,t.column.definition.contextMenu)),t.column.definition.clickMenu&&t.getElement().addEventListener("click",this.LoadMenuEvent.bind(this,t,t.column.definition.clickMenu))},ml.prototype.initializeRow=function(t){this.table.options.rowContextMenu&&(t.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,t,this.table.options.rowContextMenu)),this.tapHold(t,this.table.options.rowContextMenu)),this.table.options.rowClickMenu&&t.getElement().addEventListener("click",this.LoadMenuEvent.bind(this,t,this.table.options.rowClickMenu))},ml.prototype.initializeGroup=function(t){this.table.options.groupContextMenu&&(t.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,t,this.table.options.groupContextMenu)),this.tapHold(t,this.table.options.groupContextMenu)),this.table.options.groupClickMenu&&t.getElement().addEventListener("click",this.LoadMenuEvent.bind(this,t,this.table.options.groupClickMenu))},ml.prototype.loadMenu=function(t,e,o){var n=this,i=Math.max(document.body.offsetHeight,window.innerHeight),s=!(t instanceof MouseEvent);if(s||t.preventDefault(),o&&o.length){if(this.nestedMenuBlock){if(this.isOpen())return}else this.nestedMenuBlock=setTimeout((function(){n.nestedMenuBlock=!1}),100);this.hideMenu(),this.menuEl=document.createElement("div"),this.menuEl.classList.add("tabulator-menu"),o.forEach((function(t){var o=document.createElement("div"),i=t.label,s=t.disabled;t.separator?o.classList.add("tabulator-menu-separator"):(o.classList.add("tabulator-menu-item"),"function"==typeof i&&(i=i(e.getComponent())),i instanceof Node?o.appendChild(i):o.innerHTML=i,"function"==typeof s&&(s=s(e.getComponent())),s?(o.classList.add("tabulator-menu-item-disabled"),o.addEventListener("click",(function(t){t.stopPropagation()}))):o.addEventListener("click",(function(o){n.hideMenu(),t.action(o,e.getComponent())}))),n.menuEl.appendChild(o)})),this.menuEl.style.top=(s?t.touches[0].pageY:t.pageY)+"px",this.menuEl.style.left=(s?t.touches[0].pageX:t.pageX)+"px",setTimeout((function(){n.table.rowManager.element.addEventListener("scroll",n.blurEvent),document.body.addEventListener("click",n.blurEvent),document.body.addEventListener("contextmenu",n.blurEvent),document.body.addEventListener("keydown",n.escEvent)}),100),document.body.appendChild(this.menuEl),t.pageX+this.menuEl.offsetWidth>=document.body.offsetWidth&&(this.menuEl.style.left="",this.menuEl.style.right=document.body.offsetWidth-t.pageX+"px"),t.pageY+this.menuEl.offsetHeight>=i&&(this.menuEl.style.top="",this.menuEl.style.bottom=i-t.pageY+"px")}},ml.prototype.isOpen=function(){return!!this.menuEl.parentNode},ml.prototype.escMenu=function(t){27==t.keyCode&&this.hideMenu()},ml.prototype.hideMenu=function(){this.menuEl.parentNode&&this.menuEl.parentNode.removeChild(this.menuEl),this.escEvent&&document.body.removeEventListener("keydown",this.escEvent),this.blurEvent&&(document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent))},ml.prototype.menus={},Wa.prototype.registerModule("menu",ml);var fl=function(t){this.table=t,this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this)};fl.prototype.createPlaceholderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-col"),t.classList.add("tabulator-col-placeholder"),t},fl.prototype.initializeColumn=function(t){var e,o=this,n={};t.modules.frozen||(e=t.getElement(),n.mousemove=(function(n){t.parent===o.moving.parent&&((o.touchMove?n.touches[0].pageX:n.pageX)-Wa.prototype.helpers.elOffset(e).left+o.table.columnManager.element.scrollLeft>t.getWidth()/2?o.toCol===t&&o.toColAfter||(e.parentNode.insertBefore(o.placeholderElement,e.nextSibling),o.moveColumn(t,!0)):(o.toCol!==t||o.toColAfter)&&(e.parentNode.insertBefore(o.placeholderElement,e),o.moveColumn(t,!1)))}).bind(o),e.addEventListener("mousedown",(function(e){o.touchMove=!1,1===e.which&&(o.checkTimeout=setTimeout((function(){o.startMove(e,t)}),o.checkPeriod))})),e.addEventListener("mouseup",(function(t){1===t.which&&o.checkTimeout&&clearTimeout(o.checkTimeout)})),o.bindTouchEvents(t)),t.modules.moveColumn=n},fl.prototype.bindTouchEvents=function(t){var e,o,n,i,s,r,a=this,l=t.getElement(),c=!1;l.addEventListener("touchstart",(function(l){a.checkTimeout=setTimeout((function(){a.touchMove=!0,e=t.nextColumn(),n=e?e.getWidth()/2:0,o=t.prevColumn(),i=o?o.getWidth()/2:0,s=0,r=0,c=!1,a.startMove(l,t)}),a.checkPeriod)}),{passive:!0}),l.addEventListener("touchmove",(function(l){var u,d;a.moving&&(a.moveHover(l),c||(c=l.touches[0].pageX),(u=l.touches[0].pageX-c)>0?e&&u-s>n&&(d=e)!==t&&(c=l.touches[0].pageX,d.getElement().parentNode.insertBefore(a.placeholderElement,d.getElement().nextSibling),a.moveColumn(d,!0)):o&&-u-r>i&&(d=o)!==t&&(c=l.touches[0].pageX,d.getElement().parentNode.insertBefore(a.placeholderElement,d.getElement()),a.moveColumn(d,!1)),d&&(e=d.nextColumn(),s=n,n=e?e.getWidth()/2:0,o=d.prevColumn(),r=i,i=o?o.getWidth()/2:0))}),{passive:!0}),l.addEventListener("touchend",(function(t){a.checkTimeout&&clearTimeout(a.checkTimeout),a.moving&&a.endMove(t)}))},fl.prototype.startMove=function(t,e){var o=e.getElement();this.moving=e,this.startX=(this.touchMove?t.touches[0].pageX:t.pageX)-Wa.prototype.helpers.elOffset(o).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=e.getWidth()+"px",this.placeholderElement.style.height=e.getHeight()+"px",o.parentNode.insertBefore(this.placeholderElement,o),o.parentNode.removeChild(o),this.hoverElement=o.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.table.columnManager.getElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom="0",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(t)},fl.prototype._bindMouseMove=function(){this.table.columnManager.columnsByIndex.forEach((function(t){t.modules.moveColumn.mousemove&&t.getElement().addEventListener("mousemove",t.modules.moveColumn.mousemove)}))},fl.prototype._unbindMouseMove=function(){this.table.columnManager.columnsByIndex.forEach((function(t){t.modules.moveColumn.mousemove&&t.getElement().removeEventListener("mousemove",t.modules.moveColumn.mousemove)}))},fl.prototype.moveColumn=function(t,e){var o=this.moving.getCells();this.toCol=t,this.toColAfter=e,e?t.getCells().forEach((function(t,e){var n=t.getElement();n.parentNode.insertBefore(o[e].getElement(),n.nextSibling)})):t.getCells().forEach((function(t,e){var n=t.getElement();n.parentNode.insertBefore(o[e].getElement(),n)}))},fl.prototype.endMove=function(t){(1===t.which||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))},fl.prototype.moveHover=function(t){var e,o=this,n=o.table.columnManager.getElement(),i=n.scrollLeft,s=(o.touchMove?t.touches[0].pageX:t.pageX)-Wa.prototype.helpers.elOffset(n).left+i;o.hoverElement.style.left=s-o.startX+"px",s-i<o.autoScrollMargin&&(o.autoScrollTimeout||(o.autoScrollTimeout=setTimeout((function(){e=Math.max(0,i-5),o.table.rowManager.getElement().scrollLeft=e,o.autoScrollTimeout=!1}),1))),i+n.clientWidth-s<o.autoScrollMargin&&(o.autoScrollTimeout||(o.autoScrollTimeout=setTimeout((function(){e=Math.min(n.clientWidth,i+5),o.table.rowManager.getElement().scrollLeft=e,o.autoScrollTimeout=!1}),1)))},Wa.prototype.registerModule("moveColumn",fl);var gl=function(t){this.table=t,this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1};gl.prototype.createPlaceholderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-row"),t.classList.add("tabulator-row-placeholder"),t},gl.prototype.initialize=function(t){this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements},gl.prototype.setHandle=function(t){this.hasHandle=t},gl.prototype.initializeGroupHeader=function(t){var e=this,o={};o.mouseup=(function(t){e.tableRowDrop(t,row)}).bind(e),o.mousemove=(function(o){var n;o.pageY-Wa.prototype.helpers.elOffset(t.element).top+e.table.rowManager.element.scrollTop>t.getHeight()/2?e.toRow===t&&e.toRowAfter||((n=t.getElement()).parentNode.insertBefore(e.placeholderElement,n.nextSibling),e.moveRow(t,!0)):(e.toRow!==t||e.toRowAfter)&&(n=t.getElement()).previousSibling&&(n.parentNode.insertBefore(e.placeholderElement,n),e.moveRow(t,!1))}).bind(e),t.modules.moveRow=o},gl.prototype.initializeRow=function(t){var e,o=this,n={};n.mouseup=(function(e){o.tableRowDrop(e,t)}).bind(o),n.mousemove=(function(e){var n;e.pageY-Wa.prototype.helpers.elOffset(t.element).top+o.table.rowManager.element.scrollTop>t.getHeight()/2?o.toRow===t&&o.toRowAfter||((n=t.getElement()).parentNode.insertBefore(o.placeholderElement,n.nextSibling),o.moveRow(t,!0)):(o.toRow!==t||o.toRowAfter)&&((n=t.getElement()).parentNode.insertBefore(o.placeholderElement,n),o.moveRow(t,!1))}).bind(o),this.hasHandle||((e=t.getElement()).addEventListener("mousedown",(function(e){1===e.which&&(o.checkTimeout=setTimeout((function(){o.startMove(e,t)}),o.checkPeriod))})),e.addEventListener("mouseup",(function(t){1===t.which&&o.checkTimeout&&clearTimeout(o.checkTimeout)})),this.bindTouchEvents(t,t.getElement())),t.modules.moveRow=n},gl.prototype.initializeCell=function(t){var e=this,o=t.getElement();o.addEventListener("mousedown",(function(o){1===o.which&&(e.checkTimeout=setTimeout((function(){e.startMove(o,t.row)}),e.checkPeriod))})),o.addEventListener("mouseup",(function(t){1===t.which&&e.checkTimeout&&clearTimeout(e.checkTimeout)})),this.bindTouchEvents(t.row,t.getElement())},gl.prototype.bindTouchEvents=function(t,e){var o,n,i,s,r,a,l=this,c=!1;e.addEventListener("touchstart",(function(e){l.checkTimeout=setTimeout((function(){l.touchMove=!0,o=t.nextRow(),i=o?o.getHeight()/2:0,n=t.prevRow(),s=n?n.getHeight()/2:0,r=0,a=0,c=!1,l.startMove(e,t)}),l.checkPeriod)}),{passive:!0}),e.addEventListener("touchmove",(function(e){var u,d;l.moving&&(e.preventDefault(),l.moveHover(e),c||(c=e.touches[0].pageY),(u=e.touches[0].pageY-c)>0?o&&u-r>i&&(d=o)!==t&&(c=e.touches[0].pageY,d.getElement().parentNode.insertBefore(l.placeholderElement,d.getElement().nextSibling),l.moveRow(d,!0)):n&&-u-a>s&&(d=n)!==t&&(c=e.touches[0].pageY,d.getElement().parentNode.insertBefore(l.placeholderElement,d.getElement()),l.moveRow(d,!1)),d&&(o=d.nextRow(),r=i,i=o?o.getHeight()/2:0,n=d.prevRow(),a=s,s=n?n.getHeight()/2:0))})),e.addEventListener("touchend",(function(t){l.checkTimeout&&clearTimeout(l.checkTimeout),l.moving&&(l.endMove(t),l.touchMove=!1)}))},gl.prototype._bindMouseMove=function(){this.table.rowManager.getDisplayRows().forEach((function(t){"row"!==t.type&&"group"!==t.type||!t.modules.moveRow.mousemove||t.getElement().addEventListener("mousemove",t.modules.moveRow.mousemove)}))},gl.prototype._unbindMouseMove=function(){this.table.rowManager.getDisplayRows().forEach((function(t){"row"!==t.type&&"group"!==t.type||!t.modules.moveRow.mousemove||t.getElement().removeEventListener("mousemove",t.modules.moveRow.mousemove)}))},gl.prototype.startMove=function(t,e){var o=e.getElement();this.setStartPosition(t,e),this.moving=e,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=e.getWidth()+"px",this.placeholderElement.style.height=e.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(e)):(o.parentNode.insertBefore(this.placeholderElement,o),o.parentNode.removeChild(o)),this.hoverElement=o.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.moveHover(t)},gl.prototype.setStartPosition=function(t,e){var o,n,i=this.touchMove?t.touches[0].pageX:t.pageX,s=this.touchMove?t.touches[0].pageY:t.pageY;o=e.getElement(),this.connection?(n=o.getBoundingClientRect(),this.startX=n.left-i+window.pageXOffset,this.startY=n.top-s+window.pageYOffset):this.startY=s-o.getBoundingClientRect().top},gl.prototype.endMove=function(t){t&&1!==t.which&&!this.touchMove||(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow&&this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))},gl.prototype.moveRow=function(t,e){this.toRow=t,this.toRowAfter=e},gl.prototype.moveHover=function(t){this.connection?this.moveHoverConnections.call(this,t):this.moveHoverTable.call(this,t)},gl.prototype.moveHoverTable=function(t){var e=this.table.rowManager.getElement(),o=e.scrollTop,n=(this.touchMove?t.touches[0].pageY:t.pageY)-e.getBoundingClientRect().top+o;this.hoverElement.style.top=n-this.startY+"px"},gl.prototype.moveHoverConnections=function(t){this.hoverElement.style.left=this.startX+(this.touchMove?t.touches[0].pageX:t.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?t.touches[0].pageY:t.pageY)+"px"},gl.prototype.elementRowDrop=function(t,e,o){this.table.options.movableRowsElementDrop&&this.table.options.movableRowsElementDrop(t,e,!!o&&o.getComponent())},gl.prototype.connectToTables=function(t){var e,o=this;this.connectionSelectorsTables&&(e=this.table.modules.comms.getConnections(this.connectionSelectorsTables),this.table.options.movableRowsSendingStart.call(this.table,e),this.table.modules.comms.send(this.connectionSelectorsTables,"moveRow","connect",{row:t})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach((function(t){"string"==typeof t?o.connectionElements=o.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(t))):o.connectionElements.push(t)})),this.connectionElements.forEach((function(t){var e=function(e){o.elementRowDrop(e,t,o.moving)};t.addEventListener("mouseup",e),t.tabulatorElementDropEvent=e,t.classList.add("tabulator-movingrow-receiving")})))},gl.prototype.disconnectFromTables=function(){var t;this.connectionSelectorsTables&&(t=this.table.modules.comms.getConnections(this.connectionSelectorsTables),this.table.options.movableRowsSendingStop.call(this.table,t),this.table.modules.comms.send(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach((function(t){t.classList.remove("tabulator-movingrow-receiving"),t.removeEventListener("mouseup",t.tabulatorElementDropEvent),delete t.tabulatorElementDropEvent}))},gl.prototype.connect=function(t,e){return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=t,this.connectedRow=e,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach((function(t){"row"===t.type&&t.modules.moveRow&&t.modules.moveRow.mouseup&&t.getElement().addEventListener("mouseup",t.modules.moveRow.mouseup)})),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.table.options.movableRowsReceivingStart.call(this.table,e,t),!0)},gl.prototype.disconnect=function(t){t===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach((function(t){"row"===t.type&&t.modules.moveRow&&t.modules.moveRow.mouseup&&t.getElement().removeEventListener("mouseup",t.modules.moveRow.mouseup)})),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.table.options.movableRowsReceivingStop.call(this.table,t)):console.warn("Move Row Error - trying to disconnect from non connected table")},gl.prototype.dropComplete=function(t,e,o){var n=!1;if(o){switch(Aa(this.table.options.movableRowsSender)){case"string":n=this.senders[this.table.options.movableRowsSender];break;case"function":n=this.table.options.movableRowsSender}n?n.call(this,this.moving.getComponent(),e?e.getComponent():void 0,t):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.table.options.movableRowsSent.call(this.table,this.moving.getComponent(),e?e.getComponent():void 0,t)}else this.table.options.movableRowsSentFailed.call(this.table,this.moving.getComponent(),e?e.getComponent():void 0,t);this.endMove()},gl.prototype.tableRowDrop=function(t,e){var o=!1,n=!1;switch(console.trace("drop"),t.stopImmediatePropagation(),Aa(this.table.options.movableRowsReceiver)){case"string":o=this.receivers[this.table.options.movableRowsReceiver];break;case"function":o=this.table.options.movableRowsReceiver}o?n=o.call(this,this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),n?this.table.options.movableRowsReceived.call(this.table,this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable):this.table.options.movableRowsReceivedFailed.call(this.table,this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable),this.table.modules.comms.send(this.connectedTable,"moveRow","dropcomplete",{row:e,success:n})},gl.prototype.receivers={insert:function(t,e,o){return this.table.addRow(t.getData(),void 0,e),!0},add:function(t,e,o){return this.table.addRow(t.getData()),!0},update:function(t,e,o){return!!e&&(e.update(t.getData()),!0)},replace:function(t,e,o){return!!e&&(this.table.addRow(t.getData(),void 0,e),e.delete(),!0)}},gl.prototype.senders={delete:function(t,e,o){t.delete()}},gl.prototype.commsReceived=function(t,e,o){switch(e){case"connect":return this.connect(t,o.row);case"disconnect":return this.disconnect(t);case"dropcomplete":return this.dropComplete(t,o.row,o.success)}},Wa.prototype.registerModule("moveRow",gl);var bl=function(t){this.table=t,this.allowedTypes=["","data","edit","clipboard"],this.enabled=!0};bl.prototype.initializeColumn=function(t){var e=this,o=!1,n={};this.allowedTypes.forEach((function(i){var s,r="mutator"+(i.charAt(0).toUpperCase()+i.slice(1));t.definition[r]&&(s=e.lookupMutator(t.definition[r]))&&(o=!0,n[r]={mutator:s,params:t.definition[r+"Params"]||{}})})),o&&(t.modules.mutate=n)},bl.prototype.lookupMutator=function(t){var e=!1;switch(void 0===t?"undefined":Aa(t)){case"string":this.mutators[t]?e=this.mutators[t]:console.warn("Mutator Error - No such mutator found, ignoring: ",t);break;case"function":e=t}return e},bl.prototype.transformRow=function(t,e,o){var n,i="mutator"+(e.charAt(0).toUpperCase()+e.slice(1));return this.enabled&&this.table.columnManager.traverse((function(s){var r,a,l;s.modules.mutate&&(r=s.modules.mutate[i]||s.modules.mutate.mutator||!1)&&(n=s.getFieldValue(void 0!==o?o:t),"data"!=e&&void 0===n||(l=s.getComponent(),a="function"==typeof r.params?r.params(n,t,e,l):r.params,s.setFieldValue(t,r.mutator(n,t,e,a,l))))})),t},bl.prototype.transformCell=function(t,e){var o=t.column.modules.mutate.mutatorEdit||t.column.modules.mutate.mutator||!1,n={};return o?(n=Object.assign(n,t.row.getData()),t.column.setFieldValue(n,e),o.mutator(e,n,"edit",o.params,t.getComponent())):e},bl.prototype.enable=function(){this.enabled=!0},bl.prototype.disable=function(){this.enabled=!1},bl.prototype.mutators={},Wa.prototype.registerModule("mutator",bl);var vl=function(t){this.table=t,this.mode="local",this.progressiveLoad=!1,this.size=0,this.page=1,this.count=5,this.max=1,this.displayIndex=0,this.initialLoad=!0,this.pageSizes=[],this.dataReceivedNames={},this.dataSentNames={},this.createElements()};vl.prototype.createElements=function(){var t;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),(t=document.createElement("button")).classList.add("tabulator-page"),t.setAttribute("type","button"),t.setAttribute("role","button"),t.setAttribute("aria-label",""),t.setAttribute("title",""),this.firstBut=t.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=t.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=t.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=t.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))},vl.prototype.generatePageSizeSelectList=function(){var t=this,e=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))this.pageSizes=e=this.table.options.paginationSizeSelector,-1==this.pageSizes.indexOf(this.size)&&e.unshift(this.size);else if(-1==this.pageSizes.indexOf(this.size)){e=[];for(var o=1;o<5;o++)e.push(this.size*o);this.pageSizes=e}else e=this.pageSizes;for(;this.pageSizeSelect.firstChild;)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);e.forEach((function(e){var o=document.createElement("option");o.value=e,!0===e?t.table.modules.localize.bind("pagination|all",(function(t){o.innerHTML=t})):o.innerHTML=e,t.pageSizeSelect.appendChild(o)})),this.pageSizeSelect.value=this.size}},vl.prototype.initialize=function(t){var e,o,n,i=this;this.dataSentNames=Object.assign({},this.paginationDataSentNames),this.dataSentNames=Object.assign(this.dataSentNames,this.table.options.paginationDataSent),this.dataReceivedNames=Object.assign({},this.paginationDataReceivedNames),this.dataReceivedNames=Object.assign(this.dataReceivedNames,this.table.options.paginationDataReceived),i.table.modules.localize.bind("pagination|first",(function(t){i.firstBut.innerHTML=t})),i.table.modules.localize.bind("pagination|first_title",(function(t){i.firstBut.setAttribute("aria-label",t),i.firstBut.setAttribute("title",t)})),i.table.modules.localize.bind("pagination|prev",(function(t){i.prevBut.innerHTML=t})),i.table.modules.localize.bind("pagination|prev_title",(function(t){i.prevBut.setAttribute("aria-label",t),i.prevBut.setAttribute("title",t)})),i.table.modules.localize.bind("pagination|next",(function(t){i.nextBut.innerHTML=t})),i.table.modules.localize.bind("pagination|next_title",(function(t){i.nextBut.setAttribute("aria-label",t),i.nextBut.setAttribute("title",t)})),i.table.modules.localize.bind("pagination|last",(function(t){i.lastBut.innerHTML=t})),i.table.modules.localize.bind("pagination|last_title",(function(t){i.lastBut.setAttribute("aria-label",t),i.lastBut.setAttribute("title",t)})),i.firstBut.addEventListener("click",(function(){i.setPage(1).then((function(){})).catch((function(){}))})),i.prevBut.addEventListener("click",(function(){i.previousPage().then((function(){})).catch((function(){}))})),i.nextBut.addEventListener("click",(function(){i.nextPage().then((function(){})).catch((function(){}))})),i.lastBut.addEventListener("click",(function(){i.setPage(i.max).then((function(){})).catch((function(){}))})),i.table.options.paginationElement&&(i.element=i.table.options.paginationElement),this.pageSizeSelect&&(e=document.createElement("label"),i.table.modules.localize.bind("pagination|page_size",(function(t){i.pageSizeSelect.setAttribute("aria-label",t),i.pageSizeSelect.setAttribute("title",t),e.innerHTML=t})),i.element.appendChild(e),i.element.appendChild(i.pageSizeSelect),i.pageSizeSelect.addEventListener("change",(function(t){i.setPageSize("true"==i.pageSizeSelect.value||i.pageSizeSelect.value),i.setPage(1).then((function(){})).catch((function(){}))}))),i.element.appendChild(i.firstBut),i.element.appendChild(i.prevBut),i.element.appendChild(i.pagesElement),i.element.appendChild(i.nextBut),i.element.appendChild(i.lastBut),i.table.options.paginationElement||t||i.table.footerManager.append(i.element,i),i.mode=i.table.options.pagination,i.table.options.paginationSize?i.size=i.table.options.paginationSize:((o=document.createElement("div")).classList.add("tabulator-row"),o.style.visibility=t,(n=document.createElement("div")).classList.add("tabulator-cell"),n.innerHTML="Page Row Test",o.appendChild(n),i.table.rowManager.getTableElement().appendChild(o),i.size=Math.floor(i.table.rowManager.getElement().clientHeight/o.offsetHeight),i.table.rowManager.getTableElement().removeChild(o)),i.count=i.table.options.paginationButtonCount,i.generatePageSizeSelectList()},vl.prototype.initializeProgressive=function(t){this.initialize(!0),this.mode="progressive_"+t,this.progressiveLoad=!0},vl.prototype.setDisplayIndex=function(t){this.displayIndex=t},vl.prototype.getDisplayIndex=function(){return this.displayIndex},vl.prototype.setMaxRows=function(t){this.max=t?!0===this.size?1:Math.ceil(t/this.size):1,this.page>this.max&&(this.page=this.max)},vl.prototype.reset=function(t,e){return("local"==this.mode||t)&&(this.page=1),e&&(this.initialLoad=!0),!0},vl.prototype.setMaxPage=function(t){t=parseInt(t),this.max=t||1,this.page>this.max&&(this.page=this.max,this.trigger())},vl.prototype.setPage=function(t){var e=this,o=this;switch(t){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return new Promise((function(n,i){(t=parseInt(t))>0&&t<=e.max?(e.page=t,e.trigger().then((function(){n()})).catch((function(){i()})),o.table.options.persistence&&o.table.modExists("persistence",!0)&&o.table.modules.persistence.config.page&&o.table.modules.persistence.save("page")):(console.warn("Pagination Error - Requested page is out of range of 1 - "+e.max+":",t),i())}))},vl.prototype.setPageToRow=function(t){var e=this;return new Promise((function(o,n){var i=e.table.rowManager.getDisplayRows(e.displayIndex-1).indexOf(t);if(i>-1){var s=!0===e.size?1:Math.ceil((i+1)/e.size);e.setPage(s).then((function(){o()})).catch((function(){n()}))}else console.warn("Pagination Error - Requested row is not visible"),n()}))},vl.prototype.setPageSize=function(t){!0!==t&&(t=parseInt(t)),t>0&&(this.size=t),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.page&&this.table.modules.persistence.save("page")},vl.prototype._setPageButtons=function(){for(var t=Math.floor((this.count-1)/2),e=Math.ceil((this.count-1)/2),o=this.max-this.page+t+1<this.count?this.max-this.count+1:Math.max(this.page-t,1),n=this.page<=e?Math.min(this.count,this.max):Math.min(this.page+e,this.max);this.pagesElement.firstChild;)this.pagesElement.removeChild(this.pagesElement.firstChild);1==this.page?(this.firstBut.disabled=!0,this.prevBut.disabled=!0):(this.firstBut.disabled=!1,this.prevBut.disabled=!1),this.page==this.max?(this.lastBut.disabled=!0,this.nextBut.disabled=!0):(this.lastBut.disabled=!1,this.nextBut.disabled=!1);for(var i=o;i<=n;i++)i>0&&i<=this.max&&this.pagesElement.appendChild(this._generatePageButton(i));this.footerRedraw()},vl.prototype._generatePageButton=function(t){var e=this,o=document.createElement("button");return o.classList.add("tabulator-page"),t==e.page&&o.classList.add("active"),o.setAttribute("type","button"),o.setAttribute("role","button"),e.table.modules.localize.bind("pagination|page_title",(function(e){o.setAttribute("aria-label",e+" "+t),o.setAttribute("title",e+" "+t)})),o.setAttribute("data-page",t),o.textContent=t,o.addEventListener("click",(function(o){e.setPage(t).then((function(){})).catch((function(){}))})),o},vl.prototype.previousPage=function(){var t=this;return new Promise((function(e,o){t.page>1?(t.page--,t.trigger().then((function(){e()})).catch((function(){o()})),t.table.options.persistence&&t.table.modExists("persistence",!0)&&t.table.modules.persistence.config.page&&t.table.modules.persistence.save("page")):(console.warn("Pagination Error - Previous page would be less than page 1:",0),o())}))},vl.prototype.nextPage=function(){var t=this;return new Promise((function(e,o){t.page<t.max?(t.page++,t.trigger().then((function(){e()})).catch((function(){o()})),t.table.options.persistence&&t.table.modExists("persistence",!0)&&t.table.modules.persistence.config.page&&t.table.modules.persistence.save("page")):(t.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+t.max+":",t.max+1),o())}))},vl.prototype.getPage=function(){return this.page},vl.prototype.getPageMax=function(){return this.max},vl.prototype.getPageSize=function(t){return this.size},vl.prototype.getMode=function(){return this.mode},vl.prototype.getRows=function(t){var e,o,n;if("local"==this.mode){e=[],!0===this.size?(o=0,n=t.length):n=(o=this.size*(this.page-1))+parseInt(this.size),this._setPageButtons();for(var i=o;i<n;i++)t[i]&&e.push(t[i]);return e}return this._setPageButtons(),t.slice(0)},vl.prototype.trigger=function(){var t,e=this;return new Promise((function(o,n){switch(e.mode){case"local":t=e.table.rowManager.scrollLeft,e.table.rowManager.refreshActiveData("page"),e.table.rowManager.scrollHorizontal(t),e.table.options.pageLoaded.call(e.table,e.getPage()),o();break;case"remote":case"progressive_load":case"progressive_scroll":e.table.modules.ajax.blockActiveRequest(),e._getRemotePage().then((function(){o()})).catch((function(){n()}));break;default:console.warn("Pagination Error - no such pagination mode:",e.mode),n()}}))},vl.prototype._getRemotePage=function(){var t,e,o=this,n=this;return new Promise((function(i,s){if(n.table.modExists("ajax",!0)||s(),t=Wa.prototype.helpers.deepClone(n.table.modules.ajax.getParams()||{}),(e=n.table.modules.ajax.getParams())[o.dataSentNames.page]=n.page,o.size&&(e[o.dataSentNames.size]=o.size),o.table.options.ajaxSorting&&o.table.modExists("sort")){var r=n.table.modules.sort.getSort();r.forEach((function(t){delete t.column})),e[o.dataSentNames.sorters]=r}if(o.table.options.ajaxFiltering&&o.table.modExists("filter")){var a=n.table.modules.filter.getFilters(!0,!0);e[o.dataSentNames.filters]=a}n.table.modules.ajax.setParams(e),n.table.modules.ajax.sendRequest(o.progressiveLoad).then((function(t){n._parseRemoteData(t),i()})).catch((function(t){s()})),n.table.modules.ajax.setParams(t)}))},vl.prototype._parseRemoteData=function(t){var e,o=this;if(void 0===t[this.dataReceivedNames.last_page]&&console.warn("Remote Pagination Error - Server response missing '"+this.dataReceivedNames.last_page+"' property"),t[this.dataReceivedNames.data]){if(this.max=parseInt(t[this.dataReceivedNames.last_page])||1,this.progressiveLoad)switch(this.mode){case"progressive_load":1==this.page?this.table.rowManager.setData(t[this.dataReceivedNames.data],!1,this.initialLoad&&1==this.page):this.table.rowManager.addRows(t[this.dataReceivedNames.data]),this.page<this.max&&setTimeout((function(){o.nextPage().then((function(){})).catch((function(){}))}),o.table.options.ajaxProgressiveLoadDelay);break;case"progressive_scroll":t=this.table.rowManager.getData().concat(t[this.dataReceivedNames.data]),this.table.rowManager.setData(t,!0,this.initialLoad&&1==this.page),o.table.rowManager.element.scrollHeight<=o.table.rowManager.element.clientHeight+(this.table.options.ajaxProgressiveLoadScrollMargin||2*this.table.rowManager.element.clientHeight)&&o.nextPage().then((function(){})).catch((function(){}))}else e=this.table.rowManager.scrollLeft,this.table.rowManager.setData(t[this.dataReceivedNames.data],!1,this.initialLoad&&1==this.page),this.table.rowManager.scrollHorizontal(e),this.table.columnManager.scrollHorizontal(e),this.table.options.pageLoaded.call(this.table,this.getPage());this.initialLoad=!1}else console.warn("Remote Pagination Error - Server response missing '"+this.dataReceivedNames.data+"' property")},vl.prototype.footerRedraw=function(){var t=this.table.footerManager.element;Math.ceil(t.clientWidth)-t.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(t.clientWidth)-t.scrollWidth<0&&(this.pagesElement.style.display="none"))},vl.prototype.paginationDataSentNames={page:"page",size:"size",sorters:"sorters",filters:"filters"},vl.prototype.paginationDataReceivedNames={current_page:"current_page",last_page:"last_page",data:"data"},Wa.prototype.registerModule("page",vl);var yl=function(t){this.table=t,this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1};yl.prototype.localStorageTest=function(){var t="_tabulator_test";try{return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch(e){return!1}},yl.prototype.initialize=function(){var t,e=this.table.options.persistenceMode,o=this.table.options.persistenceID;this.mode=!0!==e?e:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?"function"==typeof this.table.options.persistenceReaderFunc?this.readFunc=this.table.options.persistenceReaderFunc:this.readers[this.table.options.persistenceReaderFunc]?this.readFunc=this.readers[this.table.options.persistenceReaderFunc]:console.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):this.readers[this.mode]?this.readFunc=this.readers[this.mode]:console.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?"function"==typeof this.table.options.persistenceWriterFunc?this.writeFunc=this.table.options.persistenceWriterFunc:this.readers[this.table.options.persistenceWriterFunc]?this.writeFunc=this.readers[this.table.options.persistenceWriterFunc]:console.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):this.writers[this.mode]?this.writeFunc=this.writers[this.mode]:console.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(o||this.table.element.getAttribute("id")||""),this.config={sort:!0===this.table.options.persistence||this.table.options.persistence.sort,filter:!0===this.table.options.persistence||this.table.options.persistence.filter,group:!0===this.table.options.persistence||this.table.options.persistence.group,page:!0===this.table.options.persistence||this.table.options.persistence.page,columns:!0===this.table.options.persistence?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(t=this.retreiveData("page"))&&(void 0===t.paginationSize||!0!==this.config.page&&!this.config.page.size||(this.table.options.paginationSize=t.paginationSize),void 0===t.paginationInitialPage||!0!==this.config.page&&!this.config.page.page||(this.table.options.paginationInitialPage=t.paginationInitialPage)),this.config.group&&(t=this.retreiveData("group"))&&(void 0===t.groupBy||!0!==this.config.group&&!this.config.group.groupBy||(this.table.options.groupBy=t.groupBy),void 0===t.groupStartOpen||!0!==this.config.group&&!this.config.group.groupStartOpen||(this.table.options.groupStartOpen=t.groupStartOpen),void 0===t.groupHeader||!0!==this.config.group&&!this.config.group.groupHeader||(this.table.options.groupHeader=t.groupHeader))},yl.prototype.initializeColumn=function(t){var e,o=this;this.config.columns&&(this.defWatcherBlock=!0,e=t.getDefinition(),(!0===this.config.columns?Object.keys(e):this.config.columns).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t),i=e[t];n&&Object.defineProperty(e,t,{set:function(t){i=t,o.defWatcherBlock||o.save("columns"),n.set&&n.set(t)},get:function(){return n.get&&n.get(),i}})})),this.defWatcherBlock=!1)},yl.prototype.load=function(t,e){var o=this.retreiveData(t);return e&&(o=o?this.mergeDefinition(e,o):e),o},yl.prototype.retreiveData=function(t){return!!this.readFunc&&this.readFunc(this.id,t)},yl.prototype.mergeDefinition=function(t,e){var o=this,n=[];return(e=e||[]).forEach((function(e,i){var s,r=o._findColumn(t,e);r&&(!0===o.config.columns||null==o.config.columns?(s=Object.keys(r)).push("width"):s=o.config.columns,s.forEach((function(t){void 0!==e[t]&&(r[t]=e[t])})),r.columns&&(r.columns=o.mergeDefinition(r.columns,e.columns)),n.push(r))})),t.forEach((function(t,i){o._findColumn(e,t)||(n.length>i?n.splice(i,0,t):n.push(t))})),n},yl.prototype._findColumn=function(t,e){var o=e.columns?"group":e.field?"field":"object";return t.find((function(t){switch(o){case"group":return t.title===e.title&&t.columns.length===e.columns.length;case"field":return t.field===e.field;case"object":return t===e}}))},yl.prototype.save=function(t){var e={};switch(t){case"columns":e=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":e=this.table.modules.filter.getFilters();break;case"sort":e=this.validateSorters(this.table.modules.sort.getSort());break;case"group":e=this.getGroupConfig();break;case"page":e=this.getPageConfig()}this.writeFunc&&this.writeFunc(this.id,t,e)},yl.prototype.validateSorters=function(t){return t.forEach((function(t){t.column=t.field,delete t.field})),t},yl.prototype.getGroupConfig=function(){var t={};return this.config.group&&((!0===this.config.group||this.config.group.groupBy)&&(t.groupBy=this.table.options.groupBy),(!0===this.config.group||this.config.group.groupStartOpen)&&(t.groupStartOpen=this.table.options.groupStartOpen),(!0===this.config.group||this.config.group.groupHeader)&&(t.groupHeader=this.table.options.groupHeader)),t},yl.prototype.getPageConfig=function(){var t={};return this.config.page&&((!0===this.config.page||this.config.page.size)&&(t.paginationSize=this.table.modules.page.getPageSize()),(!0===this.config.page||this.config.page.page)&&(t.paginationInitialPage=this.table.modules.page.getPage())),t},yl.prototype.parseColumns=function(t){var e=this,o=[],n=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return t.forEach((function(t){var i,s={},r=t.getDefinition();t.isGroup?(s.title=r.title,s.columns=e.parseColumns(t.getColumns())):(s.field=t.getField(),!0===e.config.columns||null==e.config.columns?(i=Object.keys(r)).push("width"):i=e.config.columns,i.forEach((function(e){switch(e){case"width":s.width=t.getWidth();break;case"visible":s.visible=t.visible;break;default:"function"!=typeof r[e]&&-1===n.indexOf(e)&&(s[e]=r[e])}}))),o.push(s)})),o},yl.prototype.readers={local:function(t,e){var o=localStorage.getItem(t+"-"+e);return!!o&&JSON.parse(o)},cookie:function(t,e){var o,n,i=document.cookie,s=t+"-"+e,r=i.indexOf(s+"=");return r>-1&&((o=(i=i.substr(r)).indexOf(";"))>-1&&(i=i.substr(0,o)),n=i.replace(s+"=","")),!!n&&JSON.parse(n)}},yl.prototype.writers={local:function(t,e,o){localStorage.setItem(t+"-"+e,JSON.stringify(o))},cookie:function(t,e,o){var n=new Date;n.setDate(n.getDate()+1e4),document.cookie=t+"-"+e+"="+JSON.stringify(o)+"; expires="+n.toUTCString()}},Wa.prototype.registerModule("persistence",yl);var wl=function(t){this.table=t,this.element=!1,this.manualBlock=!1};wl.prototype.initialize=function(){window.addEventListener("beforeprint",this.replaceTable.bind(this)),window.addEventListener("afterprint",this.cleanup.bind(this))},wl.prototype.replaceTable=function(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.genereateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))},wl.prototype.cleanup=function(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")},wl.prototype.printFullscreen=function(t,e,o){var n,i,s=window.scrollX,r=window.scrollY,a=document.createElement("div"),l=document.createElement("div"),c=this.table.modules.export.genereateTable(void 0!==o?o:this.table.options.printConfig,void 0!==e?e:this.table.options.printStyled,t,"print");this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(a.classList.add("tabulator-print-header"),"string"==typeof(n="function"==typeof this.table.options.printHeader?this.table.options.printHeader.call(this.table):this.table.options.printHeader)?a.innerHTML=n:a.appendChild(n),this.element.appendChild(a)),this.element.appendChild(c),this.table.options.printFooter&&(l.classList.add("tabulator-print-footer"),"string"==typeof(i="function"==typeof this.table.options.printFooter?this.table.options.printFooter.call(this.table):this.table.options.printFooter)?l.innerHTML=i:l.appendChild(i),this.element.appendChild(l)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,c),window.print(),this.cleanup(),window.scrollTo(s,r),this.manualBlock=!1},Wa.prototype.registerModule("print",wl);var El=function(t){this.table=t,this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0};El.prototype.watchData=function(t){var e,o=this;this.currentVersion++,e=this.currentVersion,o.unwatchData(),o.data=t,o.origFuncs.push=t.push,Object.defineProperty(o.data,"push",{enumerable:!1,configurable:!0,value:function(){var n=Array.from(arguments);return o.blocked||e!==o.currentVersion||n.forEach((function(t){o.table.rowManager.addRowActual(t,!1)})),o.origFuncs.push.apply(t,arguments)}}),o.origFuncs.unshift=t.unshift,Object.defineProperty(o.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var n=Array.from(arguments);return o.blocked||e!==o.currentVersion||n.forEach((function(t){o.table.rowManager.addRowActual(t,!0)})),o.origFuncs.unshift.apply(t,arguments)}}),o.origFuncs.shift=t.shift,Object.defineProperty(o.data,"shift",{enumerable:!1,configurable:!0,value:function(){var n;return o.blocked||e!==o.currentVersion||o.data.length&&(n=o.table.rowManager.getRowFromDataObject(o.data[0]))&&n.deleteActual(),o.origFuncs.shift.call(t)}}),o.origFuncs.pop=t.pop,Object.defineProperty(o.data,"pop",{enumerable:!1,configurable:!0,value:function(){var n;return o.blocked||e!==o.currentVersion||o.data.length&&(n=o.table.rowManager.getRowFromDataObject(o.data[o.data.length-1]))&&n.deleteActual(),o.origFuncs.pop.call(t)}}),o.origFuncs.splice=t.splice,Object.defineProperty(o.data,"splice",{enumerable:!1,configurable:!0,value:function(){var n,i=Array.from(arguments),s=i[0]<0?t.length+i[0]:i[0],r=i[1],a=!!i[2]&&i.slice(2);if(!o.blocked&&e===o.currentVersion){if(a&&((n=!!t[s]&&o.table.rowManager.getRowFromDataObject(t[s]))?a.forEach((function(t){o.table.rowManager.addRowActual(t,!0,n,!0)})):(a=a.slice().reverse()).forEach((function(t){o.table.rowManager.addRowActual(t,!0,!1,!0)}))),0!==r){var l=t.slice(s,void 0===i[1]?i[1]:s+r);l.forEach((function(t,e){var n=o.table.rowManager.getRowFromDataObject(t);n&&n.deleteActual(e!==l.length-1)}))}(a||0!==r)&&o.table.rowManager.reRenderInPosition()}return o.origFuncs.splice.apply(t,arguments)}})},El.prototype.unwatchData=function(){if(!1!==this.data)for(var t in this.origFuncs)Object.defineProperty(this.data,t,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})},El.prototype.watchRow=function(t){var e=t.getData();for(var o in this.blocked=!0,e)this.watchKey(t,e,o);this.table.options.dataTree&&this.watchTreeChildren(t),this.blocked=!1},El.prototype.watchTreeChildren=function(t){var e=this,o=t.getData()[this.table.options.dataTreeChildField],n={};function i(){e.table.modules.dataTree.initializeRow(t),e.table.modules.dataTree.layoutRow(t),e.table.rowManager.refreshActiveData("tree",!1,!0)}o&&(n.push=o.push,Object.defineProperty(o,"push",{enumerable:!1,configurable:!0,value:function(){var t=n.push.apply(o,arguments);return i(),t}}),n.unshift=o.unshift,Object.defineProperty(o,"unshift",{enumerable:!1,configurable:!0,value:function(){var t=n.unshift.apply(o,arguments);return i(),t}}),n.shift=o.shift,Object.defineProperty(o,"shift",{enumerable:!1,configurable:!0,value:function(){var t=n.shift.call(o);return i(),t}}),n.pop=o.pop,Object.defineProperty(o,"pop",{enumerable:!1,configurable:!0,value:function(){var t=n.pop.call(o);return i(),t}}),n.splice=o.splice,Object.defineProperty(o,"splice",{enumerable:!1,configurable:!0,value:function(){var t=n.splice.apply(o,arguments);return i(),t}}))},El.prototype.watchKey=function(t,e,o){var n=this,i=Object.getOwnPropertyDescriptor(e,o),s=e[o],r=this.currentVersion;Object.defineProperty(e,o,{set:function(e){if(s=e,!n.blocked&&r===n.currentVersion){var a={};a[o]=e,t.updateData(a)}i.set&&i.set(e)},get:function(){return i.get&&i.get(),s}})},El.prototype.unwatchRow=function(t){var e=t.getData();for(var o in e)Object.defineProperty(e,o,{value:e[o]})},El.prototype.block=function(){this.blocked=!0},El.prototype.unblock=function(){this.blocked=!1},Wa.prototype.registerModule("reactiveData",El);var Cl=function(t){this.table=t,this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.handle=null,this.prevHandle=null};Cl.prototype.initializeColumn=function(t,e,o){var n=this,i=this.table.options.resizableColumns;if("header"===t&&(e.modules.resize={variableHeight:"textarea"==e.definition.formatter||e.definition.variableHeight}),!0===i||i==t){var s=document.createElement("div");s.className="tabulator-col-resize-handle";var r=document.createElement("div");r.className="tabulator-col-resize-handle prev",s.addEventListener("click",(function(t){t.stopPropagation()}));var a=function(t){var o=e.getLastColumn();o&&n._checkResizability(o)&&(n.startColumn=e,n._mouseDown(t,o,s))};s.addEventListener("mousedown",a),s.addEventListener("touchstart",a,{passive:!0}),s.addEventListener("dblclick",(function(t){var o=e.getLastColumn();o&&n._checkResizability(o)&&(t.stopPropagation(),o.reinitializeWidth(!0))})),r.addEventListener("click",(function(t){t.stopPropagation()}));var l=function(t){var o,i,s;(o=e.getFirstColumn())&&(s=(i=n.table.columnManager.findColumnIndex(o))>0&&n.table.columnManager.getColumnByIndex(i-1))&&n._checkResizability(s)&&(n.startColumn=e,n._mouseDown(t,s,r))};r.addEventListener("mousedown",l),r.addEventListener("touchstart",l,{passive:!0}),r.addEventListener("dblclick",(function(t){var o,i,s;(o=e.getFirstColumn())&&(s=(i=n.table.columnManager.findColumnIndex(o))>0&&n.table.columnManager.getColumnByIndex(i-1))&&n._checkResizability(s)&&(t.stopPropagation(),s.reinitializeWidth(!0))})),o.appendChild(s),o.appendChild(r)}},Cl.prototype._checkResizability=function(t){return void 0!==t.definition.resizable?t.definition.resizable:this.table.options.resizableColumns},Cl.prototype._mouseDown=function(t,e,o){var n=this;function i(t){e.setWidth(n.table.rtl?n.startWidth-((void 0===t.screenX?t.touches[0].screenX:t.screenX)-n.startX):n.startWidth+((void 0===t.screenX?t.touches[0].screenX:t.screenX)-n.startX)),n.table.options.virtualDomHoz&&n.table.vdomHoz.reinitialize(!0),!n.table.browserSlow&&e.modules.resize&&e.modules.resize.variableHeight&&e.checkCellHeights()}function s(t){n.startColumn.modules.edit&&(n.startColumn.modules.edit.blocked=!1),n.table.browserSlow&&e.modules.resize&&e.modules.resize.variableHeight&&e.checkCellHeights(),document.body.removeEventListener("mouseup",s),document.body.removeEventListener("mousemove",i),o.removeEventListener("touchmove",i),o.removeEventListener("touchend",s),n.table.element.classList.remove("tabulator-block-select"),n.table.options.persistence&&n.table.modExists("persistence",!0)&&n.table.modules.persistence.config.columns&&n.table.modules.persistence.save("columns"),n.table.options.columnResized.call(n.table,e.getComponent())}n.table.element.classList.add("tabulator-block-select"),t.stopPropagation(),n.startColumn.modules.edit&&(n.startColumn.modules.edit.blocked=!0),n.startX=void 0===t.screenX?t.touches[0].screenX:t.screenX,n.startWidth=e.getWidth(),document.body.addEventListener("mousemove",i),document.body.addEventListener("mouseup",s),o.addEventListener("touchmove",i,{passive:!0}),o.addEventListener("touchend",s)},Wa.prototype.registerModule("resizeColumns",Cl);var xl=function(t){this.table=t,this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null};xl.prototype.initializeRow=function(t){var e=this,o=t.getElement(),n=document.createElement("div");n.className="tabulator-row-resize-handle";var i=document.createElement("div");i.className="tabulator-row-resize-handle prev",n.addEventListener("click",(function(t){t.stopPropagation()}));var s=function(o){e.startRow=t,e._mouseDown(o,t,n)};n.addEventListener("mousedown",s),n.addEventListener("touchstart",s,{passive:!0}),i.addEventListener("click",(function(t){t.stopPropagation()}));var r=function(o){var n=e.table.rowManager.prevDisplayRow(t);n&&(e.startRow=n,e._mouseDown(o,n,i))};i.addEventListener("mousedown",r),i.addEventListener("touchstart",r,{passive:!0}),o.appendChild(n),o.appendChild(i)},xl.prototype._mouseDown=function(t,e,o){var n=this;function i(t){e.setHeight(n.startHeight+((void 0===t.screenY?t.touches[0].screenY:t.screenY)-n.startY))}function s(t){document.body.removeEventListener("mouseup",i),document.body.removeEventListener("mousemove",i),o.removeEventListener("touchmove",i),o.removeEventListener("touchend",s),n.table.element.classList.remove("tabulator-block-select"),n.table.options.rowResized.call(this.table,e.getComponent())}n.table.element.classList.add("tabulator-block-select"),t.stopPropagation(),n.startY=void 0===t.screenY?t.touches[0].screenY:t.screenY,n.startHeight=e.getHeight(),document.body.addEventListener("mousemove",i),document.body.addEventListener("mouseup",s),o.addEventListener("touchmove",i,{passive:!0}),o.addEventListener("touchend",s)},Wa.prototype.registerModule("resizeRows",xl);var Rl=function(t){this.table=t,this.binding=!1,this.observer=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1};Rl.prototype.initialize=function(t){var e,o=this,n=this.table;this.tableHeight=n.element.clientHeight,this.tableWidth=n.element.clientWidth,n.element.parentNode&&(this.containerHeight=n.element.parentNode.clientHeight,this.containerWidth=n.element.parentNode.clientWidth),"undefined"!=typeof ResizeObserver&&"virtual"===n.rowManager.getRenderMode()?(this.autoResize=!0,this.observer=new ResizeObserver((function(t){if(!n.browserMobile||n.browserMobile&&!n.modules.edit.currentCell){var e=Math.floor(t[0].contentRect.height),i=Math.floor(t[0].contentRect.width);o.tableHeight==e&&o.tableWidth==i||(o.tableHeight=e,o.tableWidth=i,n.element.parentNode&&(o.containerHeight=n.element.parentNode.clientHeight,o.containerWidth=n.element.parentNode.clientWidth),n.options.virtualDomHoz&&n.vdomHoz.reinitialize(!0),n.redraw())}})),this.observer.observe(n.element),e=window.getComputedStyle(n.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(e.getPropertyValue("max-height")||e.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver((function(t){if(!n.browserMobile||n.browserMobile&&!n.modules.edit.currentCell){var e=Math.floor(t[0].contentRect.height),i=Math.floor(t[0].contentRect.width);o.containerHeight==e&&o.containerWidth==i||(o.containerHeight=e,o.containerWidth=i,o.tableHeight=n.element.clientHeight,o.tableWidth=n.element.clientWidth),n.options.virtualDomHoz&&n.vdomHoz.reinitialize(!0),n.redraw()}})),this.containerObserver.observe(this.table.element.parentNode))):(this.binding=function(){(!n.browserMobile||n.browserMobile&&!n.modules.edit.currentCell)&&(n.options.virtualDomHoz&&n.vdomHoz.reinitialize(!0),n.redraw())},window.addEventListener("resize",this.binding))},Rl.prototype.clearBindings=function(t){this.binding&&window.removeEventListener("resize",this.binding),this.observer&&this.observer.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)},Wa.prototype.registerModule("resizeTable",Rl);var _l=function(t){this.table=t,this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1};_l.prototype.initialize=function(){var t=this,e=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.table.columnManager.columnsByIndex.forEach((function(o,n){o.modules.responsive&&o.modules.responsive.order&&o.modules.responsive.visible&&(o.modules.responsive.index=n,e.push(o),o.visible||"collapse"!==t.mode||t.hiddenColumns.push(o))})),e=(e=e.reverse()).sort((function(t,e){return e.modules.responsive.order-t.modules.responsive.order||e.modules.responsive.index-t.modules.responsive.index})),this.columns=e,"collapse"===this.mode&&this.generateCollapsedContent();var o=this.table.columnManager.columnsByIndex,n=Array.isArray(o),i=0;for(o=n?o:o[Symbol.iterator]();;){var s;if(n){if(i>=o.length)break;s=o[i++]}else{if((i=o.next()).done)break;s=i.value}if("responsiveCollapse"==s.definition.formatter){this.collapseHandleColumn=s;break}}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())},_l.prototype.initializeColumn=function(t){var e=t.getDefinition();t.modules.responsive={order:void 0===e.responsive?1:e.responsive,visible:!1!==e.visible}},_l.prototype.initializeRow=function(t){var e;"calc"!==t.type&&((e=document.createElement("div")).classList.add("tabulator-responsive-collapse"),t.modules.responsiveLayout={element:e,open:this.collapseStartOpen},this.collapseStartOpen||(e.style.display="none"))},_l.prototype.layoutRow=function(t){var e=t.getElement();t.modules.responsiveLayout&&(e.appendChild(t.modules.responsiveLayout.element),this.generateCollapsedRowContent(t))},_l.prototype.updateColumnVisibility=function(t,e){t.modules.responsive&&(t.modules.responsive.visible=e,this.initialize())},_l.prototype.hideColumn=function(t){var e=this.hiddenColumns.length;t.hide(!1,!0),"collapse"===this.mode&&(this.hiddenColumns.unshift(t),this.generateCollapsedContent(),this.collapseHandleColumn&&!e&&this.collapseHandleColumn.show())},_l.prototype.showColumn=function(t){var e;t.show(!1,!0),t.setWidth(t.getWidth()),"collapse"===this.mode&&((e=this.hiddenColumns.indexOf(t))>-1&&this.hiddenColumns.splice(e,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())},_l.prototype.update=function(){for(var t=!0;t;){var e="fitColumns"==this.table.modules.layout.getMode()?this.table.columnManager.getFlexBaseWidth():this.table.columnManager.getWidth(),o=(this.table.options.headerVisible?this.table.columnManager.element.clientWidth:this.table.element.clientWidth)-e;if(o<0){var n=this.columns[this.index];n?(this.hideColumn(n),this.index++):t=!1}else{var i=this.columns[this.index-1];i&&o>0&&o>=i.getWidth()?(this.showColumn(i),this.index--):t=!1}this.table.rowManager.activeRowsCount||this.table.rowManager.renderEmptyScroll()}},_l.prototype.generateCollapsedContent=function(){var t=this;this.table.rowManager.getDisplayRows().forEach((function(e){t.generateCollapsedRowContent(e)}))},_l.prototype.generateCollapsedRowContent=function(t){var e,o;if(t.modules.responsiveLayout){for(e=t.modules.responsiveLayout.element;e.firstChild;)e.removeChild(e.firstChild);(o=this.collapseFormatter(this.generateCollapsedRowData(t)))&&e.appendChild(o)}},_l.prototype.generateCollapsedRowData=function(t){var e,o=this,n=t.getData(),i=[];return this.hiddenColumns.forEach((function(s){var r=s.getFieldValue(n);s.definition.title&&s.field&&(s.modules.format&&o.table.options.responsiveLayoutCollapseUseFormatters?(e={value:!1,data:{},getValue:function(){return r},getData:function(){return n},getElement:function(){return document.createElement("div")},getRow:function(){return t.getComponent()},getColumn:function(){return s.getComponent()}},i.push({title:s.definition.title,value:s.modules.format.formatter.call(o.table.modules.format,e,s.modules.format.params)})):i.push({title:s.definition.title,value:r}))})),i},_l.prototype.formatCollapsedData=function(t){var e=document.createElement("table"),o="";return t.forEach((function(t){var e=document.createElement("div");t.value instanceof Node&&(e.appendChild(t.value),t.value=e.innerHTML),o+="<tr><td><strong>"+t.title+"</strong></td><td>"+t.value+"</td></tr>"})),e.innerHTML=o,Object.keys(t).length?e:""},Wa.prototype.registerModule("responsiveLayout",_l);var Ml=function(t){this.table=t,this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null};Ml.prototype.clearSelectionData=function(t){this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],t||this._rowSelectionChanged()},Ml.prototype.initializeRow=function(t){var e=this,o=t.getElement(),n=function t(){setTimeout((function(){e.selecting=!1}),50),document.body.removeEventListener("mouseup",t)};t.modules.select={selected:!1},e.table.options.selectableCheck.call(this.table,t.getComponent())?(o.classList.add("tabulator-selectable"),o.classList.remove("tabulator-unselectable"),e.table.options.selectable&&"highlight"!=e.table.options.selectable&&("click"===e.table.options.selectableRangeMode?o.addEventListener("click",(function(o){if(o.shiftKey){e.table._clearSelection(),e.lastClickedRow=e.lastClickedRow||t;var n=e.table.rowManager.getDisplayRowIndex(e.lastClickedRow),i=e.table.rowManager.getDisplayRowIndex(t),s=n<=i?n:i,r=n>=i?n:i,a=e.table.rowManager.getDisplayRows().slice(0).splice(s,r-s+1);o.ctrlKey||o.metaKey?(a.forEach((function(o){o!==e.lastClickedRow&&(!0===e.table.options.selectable||e.isRowSelected(t)||e.selectedRows.length<e.table.options.selectable)&&e.toggleRow(o)})),e.lastClickedRow=t):(e.deselectRows(void 0,!0),!0!==e.table.options.selectable&&a.length>e.table.options.selectable&&(a=a.slice(0,e.table.options.selectable)),e.selectRows(a)),e.table._clearSelection()}else o.ctrlKey||o.metaKey?(e.toggleRow(t),e.lastClickedRow=t):(e.deselectRows(void 0,!0),e.selectRows(t),e.lastClickedRow=t)})):(o.addEventListener("click",(function(o){e.table.modExists("edit")&&e.table.modules.edit.getCurrentCell()||e.table._clearSelection(),e.selecting||e.toggleRow(t)})),o.addEventListener("mousedown",(function(o){if(o.shiftKey)return e.table._clearSelection(),e.selecting=!0,e.selectPrev=[],document.body.addEventListener("mouseup",n),document.body.addEventListener("keyup",n),e.toggleRow(t),!1})),o.addEventListener("mouseenter",(function(o){e.selecting&&(e.table._clearSelection(),e.toggleRow(t),e.selectPrev[1]==t&&e.toggleRow(e.selectPrev[0]))})),o.addEventListener("mouseout",(function(o){e.selecting&&(e.table._clearSelection(),e.selectPrev.unshift(t))}))))):(o.classList.add("tabulator-unselectable"),o.classList.remove("tabulator-selectable"))},Ml.prototype.toggleRow=function(t){this.table.options.selectableCheck.call(this.table,t.getComponent())&&(t.modules.select&&t.modules.select.selected?this._deselectRow(t):this._selectRow(t))},Ml.prototype.selectRows=function(t){var e,o=this;switch(void 0===t?"undefined":Aa(t)){case"undefined":this.table.rowManager.rows.forEach((function(t){o._selectRow(t,!0,!0)})),this._rowSelectionChanged();break;case"string":(e=this.table.rowManager.findRow(t))?this._selectRow(e,!0,!0):this.table.rowManager.getRows(t).forEach((function(t){o._selectRow(t,!0,!0)})),this._rowSelectionChanged();break;default:Array.isArray(t)?(t.forEach((function(t){o._selectRow(t,!0,!0)})),this._rowSelectionChanged()):this._selectRow(t,!1,!0)}},Ml.prototype._selectRow=function(t,e,o){if(!isNaN(this.table.options.selectable)&&!0!==this.table.options.selectable&&!o&&this.selectedRows.length>=this.table.options.selectable){if(!this.table.options.selectableRollingSelection)return!1;this._deselectRow(this.selectedRows[0])}var n=this.table.rowManager.findRow(t);n?-1==this.selectedRows.indexOf(n)&&(n.modules.select||(n.modules.select={}),n.modules.select.selected=!0,n.modules.select.checkboxEl&&(n.modules.select.checkboxEl.checked=!0),n.getElement().classList.add("tabulator-selected"),this.selectedRows.push(n),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(n,!0),e||this.table.options.rowSelected.call(this.table,n.getComponent()),this._rowSelectionChanged(e)):e||console.warn("Selection Error - No such row found, ignoring selection:"+t)},Ml.prototype.isRowSelected=function(t){return-1!==this.selectedRows.indexOf(t)},Ml.prototype.deselectRows=function(t,e){var o,n=this;if(void 0===t){o=n.selectedRows.length;for(var i=0;i<o;i++)n._deselectRow(n.selectedRows[0],!0);n._rowSelectionChanged(e)}else Array.isArray(t)?(t.forEach((function(t){n._deselectRow(t,!0)})),n._rowSelectionChanged(e)):n._deselectRow(t,e)},Ml.prototype._deselectRow=function(t,e){var o,n=this.table.rowManager.findRow(t);n?(o=this.selectedRows.findIndex((function(t){return t==n})))>-1&&(n.modules.select||(n.modules.select={}),n.modules.select.selected=!1,n.modules.select.checkboxEl&&(n.modules.select.checkboxEl.checked=!1),n.getElement().classList.remove("tabulator-selected"),this.selectedRows.splice(o,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(n,!1),e||this.table.options.rowDeselected.call(this.table,n.getComponent()),this._rowSelectionChanged(e)):e||console.warn("Deselection Error - No such row found, ignoring selection:"+t)},Ml.prototype.getSelectedData=function(){var t=[];return this.selectedRows.forEach((function(e){t.push(e.getData())})),t},Ml.prototype.getSelectedRows=function(){var t=[];return this.selectedRows.forEach((function(e){t.push(e.getComponent())})),t},Ml.prototype._rowSelectionChanged=function(t){this.headerCheckboxElement&&(0===this.selectedRows.length?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),t||this.table.options.rowSelectionChanged.call(this.table,this.getSelectedData(),this.getSelectedRows())},Ml.prototype.registerRowSelectCheckbox=function(t,e){t._row.modules.select||(t._row.modules.select={}),t._row.modules.select.checkboxEl=e},Ml.prototype.registerHeaderSelectCheckbox=function(t){this.headerCheckboxElement=t},Ml.prototype.childRowSelection=function(t,e){var o=this.table.modules.dataTree.getChildren(t);if(e){var n=o,i=Array.isArray(n),s=0;for(n=i?n:n[Symbol.iterator]();;){var r;if(i){if(s>=n.length)break;r=n[s++]}else{if((s=n.next()).done)break;r=s.value}this._selectRow(r,!0)}}else{var a=o,l=Array.isArray(a),c=0;for(a=l?a:a[Symbol.iterator]();;){var u;if(l){if(c>=a.length)break;u=a[c++]}else{if((c=a.next()).done)break;u=c.value}this._deselectRow(u,!0)}}},Wa.prototype.registerModule("selectRow",Ml);var Tl=function(t){this.table=t,this.sortList=[],this.changed=!1};Tl.prototype.initializeColumn=function(t,e){var o,n,i=this,s=!1;switch(Aa(t.definition.sorter)){case"string":i.sorters[t.definition.sorter]?s=i.sorters[t.definition.sorter]:console.warn("Sort Error - No such sorter found: ",t.definition.sorter);break;case"function":s=t.definition.sorter}t.modules.sort={sorter:s,dir:"none",params:t.definition.sorterParams||{},startingDir:t.definition.headerSortStartingDir||"asc",tristate:void 0!==t.definition.headerSortTristate?t.definition.headerSortTristate:this.table.options.headerSortTristate},(void 0===t.definition.headerSort?!1!==this.table.options.headerSort:!1!==t.definition.headerSort)&&((o=t.getElement()).classList.add("tabulator-sortable"),(n=document.createElement("div")).classList.add("tabulator-col-sorter"),"object"==Aa(this.table.options.headerSortElement)?n.appendChild(this.table.options.headerSortElement):n.innerHTML=this.table.options.headerSortElement,e.appendChild(n),t.modules.sort.element=n,o.addEventListener("click",(function(e){var o="",n=[],s=!1;if(t.modules.sort){if(t.modules.sort.tristate)o="none"==t.modules.sort.dir?t.modules.sort.startingDir:t.modules.sort.dir==t.modules.sort.startingDir?"asc"==t.modules.sort.dir?"desc":"asc":"none";else switch(t.modules.sort.dir){case"asc":o="desc";break;case"desc":o="asc";break;default:o=t.modules.sort.startingDir}i.table.options.columnHeaderSortMulti&&(e.shiftKey||e.ctrlKey)?((s=(n=i.getSort()).findIndex((function(e){return e.field===t.getField()})))>-1?(n[s].dir=o,s!=n.length-1&&(s=n.splice(s,1)[0],"none"!=o&&n.push(s))):"none"!=o&&n.push({column:t,dir:o}),i.setSort(n)):"none"==o?i.clear():i.setSort(t,o),i.table.rowManager.sorterRefresh(!i.sortList.length)}})))},Tl.prototype.hasChanged=function(){var t=this.changed;return this.changed=!1,t},Tl.prototype.getSort=function(){var t=[];return this.sortList.forEach((function(e){e.column&&t.push({column:e.column.getComponent(),field:e.column.getField(),dir:e.dir})})),t},Tl.prototype.setSort=function(t,e){var o=this,n=[];Array.isArray(t)||(t=[{column:t,dir:e}]),t.forEach((function(t){var e;(e=o.table.columnManager.findColumn(t.column))?(t.column=e,n.push(t),o.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",t.column)})),o.sortList=n,this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.sort&&this.table.modules.persistence.save("sort")},Tl.prototype.clear=function(){this.setSort([])},Tl.prototype.findSorter=function(t){var e,o=this.table.rowManager.activeRows[0],n="string";if(o&&(o=o.getData(),t.getField()))switch(void 0===(e=t.getFieldValue(o))?"undefined":Aa(e)){case"undefined":n="string";break;case"boolean":n="boolean";break;default:isNaN(e)||""===e?e.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(n="alphanum"):n="number"}return this.sorters[n]},Tl.prototype.sort=function(t){var e=this,o=this.table.options.sortOrderReverse?e.sortList.slice().reverse():e.sortList,n=[],i=[];e.table.options.dataSorting&&e.table.options.dataSorting.call(e.table,e.getSort()),e.clearColumnHeaders(),e.table.options.ajaxSorting?o.forEach((function(t,o){e.setColumnHeader(t.column,t.dir)})):(o.forEach((function(t,o){var i=t.column.modules.sort;t.column&&i&&(i.sorter||(i.sorter=e.findSorter(t.column)),t.params="function"==typeof i.params?i.params(t.column.getComponent(),t.dir):i.params,n.push(t)),e.setColumnHeader(t.column,t.dir)})),n.length&&e._sortItems(t,n)),e.table.options.dataSorted&&(t.forEach((function(t){i.push(t.getComponent())})),e.table.options.dataSorted.call(e.table,e.getSort(),i))},Tl.prototype.clearColumnHeaders=function(){this.table.columnManager.getRealColumns().forEach((function(t){t.modules.sort&&(t.modules.sort.dir="none",t.getElement().setAttribute("aria-sort","none"))}))},Tl.prototype.setColumnHeader=function(t,e){t.modules.sort.dir=e,t.getElement().setAttribute("aria-sort",e)},Tl.prototype._sortItems=function(t,e){var o=this,n=e.length-1;t.sort((function(t,i){for(var s,r=n;r>=0;r--){var a=e[r];if(0!==(s=o._sortRow(t,i,a.column,a.dir,a.params)))break}return s}))},Tl.prototype._sortRow=function(t,e,o,n,i){var s,r,a="asc"==n?t:e,l="asc"==n?e:t;return t=void 0!==(t=o.getFieldValue(a.getData()))?t:"",e=void 0!==(e=o.getFieldValue(l.getData()))?e:"",s=a.getComponent(),r=l.getComponent(),o.modules.sort.sorter.call(this,t,e,s,r,o.getComponent(),n,i)},Tl.prototype.sorters={number:function(t,e,o,n,i,s,r){var a=r.alignEmptyValues,l=r.decimalSeparator||".",c=r.thousandSeparator||",",u=0;if(t=parseFloat(String(t).split(c).join("").split(l).join(".")),e=parseFloat(String(e).split(c).join("").split(l).join(".")),isNaN(t))u=isNaN(e)?0:-1;else{if(!isNaN(e))return t-e;u=1}return("top"===a&&"desc"===s||"bottom"===a&&"asc"===s)&&(u*=-1),u},string:function(t,e,o,n,i,s,r){var a,l=r.alignEmptyValues,c=0;if(t){if(e){switch(Aa(r.locale)){case"boolean":r.locale&&(a=this.table.modules.localize.getLocale());break;case"string":a=r.locale}return String(t).toLowerCase().localeCompare(String(e).toLowerCase(),a)}c=1}else c=e?-1:0;return("top"===l&&"desc"===s||"bottom"===l&&"asc"===s)&&(c*=-1),c},date:function(t,e,o,n,i,s,r){return r.format||(r.format="DD/MM/YYYY"),this.sorters.datetime.call(this,t,e,o,n,i,s,r)},time:function(t,e,o,n,i,s,r){return r.format||(r.format="HH:mm"),this.sorters.datetime.call(this,t,e,o,n,i,s,r)},datetime:function(t,e,o,n,i,s,r){var a=r.format||"DD/MM/YYYY HH:mm:ss",l=r.alignEmptyValues,c=0;if("undefined"!=typeof moment){if(t=moment(t,a),e=moment(e,a),t.isValid()){if(e.isValid())return t-e;c=1}else c=e.isValid()?-1:0;return("top"===l&&"desc"===s||"bottom"===l&&"asc"===s)&&(c*=-1),c}console.error("Sort Error - 'datetime' sorter is dependant on moment.js")},boolean:function(t,e,o,n,i,s,r){return(!0===t||"true"===t||"True"===t||1===t?1:0)-(!0===e||"true"===e||"True"===e||1===e?1:0)},array:function(t,e,o,n,i,s,r){var a=r.type||"length",l=r.alignEmptyValues,c=0;function u(t){switch(a){case"length":return t.length;case"sum":return t.reduce((function(t,e){return t+e}));case"max":return Math.max.apply(null,t);case"min":return Math.min.apply(null,t);case"avg":return t.reduce((function(t,e){return t+e}))/t.length}}if(Array.isArray(t)){if(Array.isArray(e))return(t?u(t):0)-(e?u(e):0);l=1}else l=Array.isArray(e)?-1:0;return("top"===l&&"desc"===s||"bottom"===l&&"asc"===s)&&(c*=-1),c},exists:function(t,e,o,n,i,s,r){return(void 0===t?0:1)-(void 0===e?0:1)},alphanum:function(t,e,o,n,i,s,r){var a,l,c,u,d,h=0,p=/(\d+)|(\D+)/g,m=/\d/,f=r.alignEmptyValues,g=0;if(t||0===t){if(e||0===e){if(isFinite(t)&&isFinite(e))return t-e;if((a=String(t).toLowerCase())===(l=String(e).toLowerCase()))return 0;if(!m.test(a)||!m.test(l))return a>l?1:-1;for(a=a.match(p),l=l.match(p),d=a.length>l.length?l.length:a.length;h<d;)if((c=a[h])!==(u=l[h++]))return isFinite(c)&&isFinite(u)?("0"===c.charAt(0)&&(c="."+c),"0"===u.charAt(0)&&(u="."+u),c-u):c>u?1:-1;return a.length>l.length}g=1}else g=e||0===e?-1:0;return("top"===f&&"desc"===s||"bottom"===f&&"asc"===s)&&(g*=-1),g}},Wa.prototype.registerModule("sort",Tl);var Dl=function(t){this.table=t,this.invalidCells=[]};Dl.prototype.initializeColumn=function(t){var e,o=this,n=[];t.definition.validator&&(Array.isArray(t.definition.validator)?t.definition.validator.forEach((function(t){(e=o._extractValidator(t))&&n.push(e)})):(e=this._extractValidator(t.definition.validator))&&n.push(e),t.modules.validate=!!n.length&&n)},Dl.prototype._extractValidator=function(t){var e,o,n;switch(void 0===t?"undefined":Aa(t)){case"string":return(n=t.indexOf(":"))>-1?(e=t.substring(0,n),o=t.substring(n+1)):e=t,this._buildValidator(e,o);case"function":return this._buildValidator(t);case"object":return this._buildValidator(t.type,t.parameters)}},Dl.prototype._buildValidator=function(t,e){var o="function"==typeof t?t:this.validators[t];return o?{type:"function"==typeof t?"function":t,func:o,params:e}:(console.warn("Validator Setup Error - No matching validator found:",t),!1)},Dl.prototype.validate=function(t,e,o){var n=this,i=[],s=this.invalidCells.indexOf(e);return t&&t.forEach((function(t){t.func.call(n,e.getComponent(),o,t.params)||i.push({type:t.type,parameters:t.params})})),i=!i.length||i,e.modules.validate||(e.modules.validate={}),!0===i?(e.modules.validate.invalid=!1,e.getElement().classList.remove("tabulator-validation-fail"),s>-1&&this.invalidCells.splice(s,1)):(e.modules.validate.invalid=!0,"manual"!==this.table.options.validationMode&&e.getElement().classList.add("tabulator-validation-fail"),-1==s&&this.invalidCells.push(e)),i},Dl.prototype.getInvalidCells=function(){var t=[];return this.invalidCells.forEach((function(e){t.push(e.getComponent())})),t},Dl.prototype.clearValidation=function(t){var e;t.modules.validate&&t.modules.validate.invalid&&(t.getElement().classList.remove("tabulator-validation-fail"),t.modules.validate.invalid=!1,(e=this.invalidCells.indexOf(t))>-1&&this.invalidCells.splice(e,1))},Dl.prototype.validators={integer:function(t,e,o){return""===e||null==e||"number"==typeof(e=Number(e))&&isFinite(e)&&Math.floor(e)===e},float:function(t,e,o){return""===e||null==e||"number"==typeof(e=Number(e))&&isFinite(e)&&e%1!=0},numeric:function(t,e,o){return""===e||null==e||!isNaN(e)},string:function(t,e,o){return""===e||null==e||isNaN(e)},max:function(t,e,o){return""===e||null==e||parseFloat(e)<=o},min:function(t,e,o){return""===e||null==e||parseFloat(e)>=o},starts:function(t,e,o){return""===e||null==e||String(e).toLowerCase().startsWith(String(o).toLowerCase())},ends:function(t,e,o){return""===e||null==e||String(e).toLowerCase().endsWith(String(o).toLowerCase())},minLength:function(t,e,o){return""===e||null==e||String(e).length>=o},maxLength:function(t,e,o){return""===e||null==e||String(e).length<=o},in:function(t,e,o){return""===e||null==e||("string"==typeof o&&(o=o.split("|")),""===e||o.indexOf(e)>-1)},regex:function(t,e,o){return""===e||null==e||new RegExp(o).test(e)},unique:function(t,e,o){if(""===e||null==e)return!0;var n=!0,i=t.getData(),s=t.getColumn()._getSelf();return this.table.rowManager.rows.forEach((function(t){var o=t.getData();o!==i&&e==s.getFieldValue(o)&&(n=!1)})),n},required:function(t,e,o){return""!==e&&null!=e}},Wa.prototype.registerModule("validate",Dl);var kl=Wa;function Ll(t,e){1&t&&(Oi(0,"h5",2),Wi(1,"Awaiting Bitcoin Transactions..."),ji())}let Sl=(()=>{class t{constructor(){this.tableData=[],this.columnNames=[],this.initialized=!1,this.dataPresent=!1}ngOnChanges(t){this.initialized&&this.tableData.length>0&&(this.dataPresent=!0,this.myTable.setData(this.tableData))}ngOnInit(){this.columnNames=[{title:"Timestamp",field:"timestamp"},{title:"Transaction ID",field:"id"},{title:"BTC Amount",field:"amount"},{title:"Price",field:"price",formatter:"money",formatterParams:{symbol:"\u20ac"}}],this.myTable=new kl("#my-tabular-table",{layout:"fitColumns"}),this.myTable.setColumns(this.columnNames),this.myTable.setData(this.tableData),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Zt({type:t,selectors:[["app-tabulator-table"]],inputs:{tableData:"tableData"},features:[Zi],decls:2,vars:2,consts:[["id","my-tabular-table",3,"hidden"],["class","loadingMessage",4,"ngIf"],[1,"loadingMessage"]],template:function(t,e){1&t&&(Vi(0,"div",0),zi(1,Ll,2,0,"h5",1)),2&t&&(Ii("hidden",!e.dataPresent),Qo(1),Ii("ngIf",!e.dataPresent))},directives:[$r],styles:[".loadingMessage[_ngcontent-%COMP%]{text-align:center;padding-top:50px}"]}),t})(),Al=(()=>{class t{constructor(){this.tableData=[]}addDataToTable(t){const e=new Date(1e3*t.timestamp);this.tableData.unshift({timestamp:e.toLocaleString("en-GB"),id:t.id,amount:t.amount,price:t.price}),this.tableData=this.tableData.slice()}initWebsocket(){this.ws=new WebSocket("wss://ws.bitstamp.net"),this.ws.onopen=()=>this.ws.send(JSON.stringify({event:"bts:subscribe",data:{channel:"live_trades_btceur"}})),this.ws.onmessage=t=>{let e=JSON.parse(t.data);switch(e.event){case"trade":this.addDataToTable(e.data);break;case"bts:request_reconnect":this.initWebsocket()}},this.ws.onclose=()=>{this.initWebsocket()}}ngOnInit(){this.initWebsocket()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Zt({type:t,selectors:[["app-root"]],decls:7,vars:2,consts:[[1,"container"],[1,"parent"],[1,"calculator"],[3,"tableData"],[1,"bitcoin-table"]],template:function(t,e){1&t&&(Vi(0,"app-header"),Oi(1,"div",0),Oi(2,"div",1),Oi(3,"div",2),Vi(4,"app-average-calculator",3),ji(),Oi(5,"div",4),Vi(6,"app-tabulator-table",3),ji(),ji(),ji()),2&t&&(Qo(4),Ii("tableData",e.tableData),Qo(2),Ii("tableData",e.tableData))},directives:[Da,Sa,Sl],styles:[".parent[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.calculator[_ngcontent-%COMP%]{flex:0 1 200px}.bitcoin-table[_ngcontent-%COMP%]{flex:1 1 800px;margin-top:10px}"]}),t})(),Pl=(()=>{class t{}return t.\u0275mod=Kt({type:t,bootstrap:[Al]}),t.\u0275inj=Q({factory:function(e){return new(e||t)},providers:[],imports:[[Ta]]}),t})();(function(){if(Po)throw new Error("Cannot enable prod mode after platform setup.");Ao=!1})(),_a().bootstrapModule(Pl).catch(t=>console.error(t))},zn8P:function(t,e){function o(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}o.keys=function(){return[]},o.resolve=o,t.exports=o,o.id="zn8P"}},[[0,0]]]);